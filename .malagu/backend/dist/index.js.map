{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/annotation/autowired.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/annotation/component.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/annotation/constant.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/annotation/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/annotation/optional.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/annotation/value.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/aop/aop-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/aop/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/aop/method-advice.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/application/application-error.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/application/application-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/application/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/config/config-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/config/config-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/config/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/constants.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/container/auto-bind.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/container/container-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/container/dynamic-container.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/container/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/error/cutom-error.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/error/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/error/validation-errors.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/logger/console-logger.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/logger/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/logger/logger-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/pipe/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/pipe/pipe-manager.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/pipe/pipe-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/pipe/pipe-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/pipe/pipe-transtorm.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/class-util.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/disposable.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/metadata-util.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/os.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/prioritizeable.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/promise-util.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/common/utils/proxy-util.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/node/application/backend-application-state.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/node/application/backend-application.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/node/application/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/node/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/core/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/express-adapter/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/common/constants.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/common/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/body.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/catch.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/controller.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/cookie.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/header.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/method.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/param.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/query.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/session.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/annotation/view.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/constants.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/handler/handler-adapter.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/handler/handler-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/handler/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/handler/route-builder.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/handler/route-metadata-matcher.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/handler/route-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/method-args-resolver-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/method-args-resolver.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/resolver-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/response-resolver-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/response-resolver.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/view-resolver-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/resolver/view-resolver.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/view/html-view.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/view/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/view/json-view.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/view/text-view.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/view/view-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/mvc/src/node/view/view-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/react/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/annotation/autorpc.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/annotation/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/annotation/rpc.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/constants.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/channel-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/connection-factory.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/handler.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/http-channel.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/proxy-factory.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/reader.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/common/jsonrpc/writer.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/channel/channel-manager.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/channel/channel-middleware.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/channel/channel-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/channel/channel-strategy.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/channel/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/handler/handler-adapter.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/handler/handler-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/handler/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/rpc/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/access-decision-manager.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/access-decision-voter.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/access-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/method-advice.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/policy-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/policy-resolver.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/access/security-metadata-source.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/annotation/anonymous.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/annotation/authenticated.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/annotation/authorize.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/annotation/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/annotation/post-authorize.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/annotation/pre-authorize.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/authentication/authentication-handler-adapter.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/authentication/authentication-manager.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/authentication/authentication-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/authentication/authentication-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/authentication/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/constants.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/context/context-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/context/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/context/security-context-middleware.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/context/security-context-store.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/context/security-context-strategy.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/crypto/crypto-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/crypto/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/crypto/password-encoder.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/error/error-hander.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/error/error-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/error/error.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/error/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/logout/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/logout/logout-handler-adapter.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/logout/logout-handler.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/logout/logout-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/logout/logout-success-handler-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/logout/logout-success-handler.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/user/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/user/user-checker.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/user/user-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/security/src/node/user/user-store.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/common/application-lifecycle.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/common/constants.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/common/entity-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/common/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/node/annotation/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/node/annotation/transactional.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/node/context/context-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/node/context/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/node/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/typeorm/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/common/constants.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/common/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/common/resolver/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/common/resolver/path-resolver.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/common/resolver/resolver-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/application/dev-application-entry.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/context.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/cookies/cookies-factory.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/cookies/cookies-middleware.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/cookies/cookies-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/cookies/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/cors/cors-middleware.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/cors/cors-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/cors/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/dispatcher/dispatcher-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/dispatcher/dispatcher.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/dispatcher/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/error/error-hander-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/error/error-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/error/http-error.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/error/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/error/not-found-error.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/handler/handler-execution-chain.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/handler/handler-mapping.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/handler/handler-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/handler/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/http/http-middleware.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/http/http-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/http/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/matcher/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/matcher/matcher-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/matcher/request-matcher.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/middleware/compose.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/middleware/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/middleware/middleware-provider.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/session/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/session/session-manager.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/session/session-middleware.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/session/session-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/session/session-store.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/session/session-strategy.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/session/session.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/trace/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/trace/trace-id-resolver.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/trace/trace-middleware.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/@malagu/web/src/node/trace/trace-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/malagu-winston/src/node/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/malagu-winston/src/node/logger/index.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/malagu-winston/src/node/logger/winston-logger-protocol.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/malagu-winston/src/node/logger/winston-logger.ts","/Users/linxiaowu/Github/doumi-blog/node_modules/malagu-winston/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/src/common/blog-protocol.ts","/Users/linxiaowu/Github/doumi-blog/src/node/auth.provider.ts","/Users/linxiaowu/Github/doumi-blog/src/node/blog-server.ts","/Users/linxiaowu/Github/doumi-blog/src/node/blog.admin.controller.ts","/Users/linxiaowu/Github/doumi-blog/src/node/configs/index.ts","/Users/linxiaowu/Github/doumi-blog/src/node/configs/logger.config.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/archive.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/article.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/category.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/index.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/reader.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/tag.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/user.ts","/Users/linxiaowu/Github/doumi-blog/src/node/entity/website.ts","/Users/linxiaowu/Github/doumi-blog/src/node/module.ts","/Users/linxiaowu/Github/doumi-blog/src/node/services/auth.service.ts","/Users/linxiaowu/Github/doumi-blog/src/node/services/blog.service.ts","/Users/linxiaowu/Github/doumi-blog/src/node/services/index.ts","/Users/linxiaowu/Github/doumi-blog/src/node/services/website.service.ts","/Users/linxiaowu/Github/doumi-blog/src/node/user.store.ts","external \"awesome-js\"","external \"class-transformer\"","external \"class-validator\"","external \"cookies\"","external \"cors\"","external \"crc\"","external \"crypto-js\"","external \"date-fns\"","external \"express-http-context\"","external \"fs-extra\"","external \"inversify\"","external \"inversify-binding-decorators\"","external \"jexl\"","external \"lodash.pick\"","external \"loglevel\"","external \"mustache\"","external \"os\"","external \"path\"","external \"reflect-metadata\"","external \"source-map-support\"","external \"ts-custom-error\"","external \"typeorm\"","external \"url-join\"","external \"url-pattern\"","external \"util\"","external \"uuid\"","external \"uuid/v4\"","external \"vscode-jsonrpc\"","external \"vscode-jsonrpc/lib/events\"","external \"winston\"","external \"winston-daily-rotate-file\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t***REMOVED***\n***REMOVED***)(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {***REMOVED***\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t***REMOVED***\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {***REMOVED***\n \t\t***REMOVED***\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t***REMOVED***\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter ***REMOVED***\n \t\t***REMOVED***\n \t***REMOVED***\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' ***REMOVED***\n \t\t***REMOVED***\n \t\tObject.defineProperty(exports, '__esModule', { value: true ***REMOVED***\n \t***REMOVED***\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value ***REMOVED***\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; ***REMOVED***.bind(null, key));\n \t\treturn ns;\n \t***REMOVED***\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; ***REMOVED*** :\n \t\t\tfunction getModuleExports() { return module; ***REMOVED***\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t***REMOVED***\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); ***REMOVED***\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./node_modules/@malagu/web/lib/node/application/dev-application-entry.js\");\n","import { inject, interfaces, multiInject, Container ***REMOVED*** from 'inversify';\nimport { ServiceIdentifierOrFunc ***REMOVED*** from 'inversify/dts/annotation/inject';\nimport { ContainerProvider ***REMOVED*** from '../container';\n\nexport interface AutowiredOption {\n    id?: ServiceIdentifierOrFunc,\n    detached?: boolean\n***REMOVED***\nexport namespace AutowiredOption {\n    export function is(options: any): options is AutowiredOption {\n        return options && (options.id !== undefined || options.detached !== undefined);\n  ***REMOVED***\n***REMOVED***\n\nexport interface AutowiredDecorator {\n    (option?: ServiceIdentifierOrFunc | AutowiredOption): (target: any, targetKey: string, index?: number) => any;\n    (target: any, targetKey: string, index?: number): any;\n***REMOVED***\n\nexport const Autowired = <AutowiredDecorator>function (target: any, targetKey: string, index?: number) {\n    const option = getAutowiredOption(target, targetKey, index);\n    if (targetKey === undefined && index === undefined) {\n        return (t: any, tk: string, i?: number) => {\n            applyAutowiredDecorator(option, t, tk, i);\n        ***REMOVED***\n\n  ***REMOVED*** else {\n        applyAutowiredDecorator(option, target, targetKey, index);\n  ***REMOVED***\n***REMOVED***\n\nexport function getAutowiredOption(target: any, targetKey: string, index?: number) {\n    let option: AutowiredOption = {***REMOVED***\n    if (targetKey === undefined) {\n        if (AutowiredOption.is(target)) {\n            option = { ...target ***REMOVED***\n      ***REMOVED*** else if (target) {\n            option = { id: target ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n    return option;\n***REMOVED***\n\nexport function applyAutowiredDecorator(option: AutowiredOption, target: any, targetKey: string, index?: number,\n    doInject = (id: ServiceIdentifierOrFunc, isMulti: boolean, t: any, k: string, i?: number) => {\n        if (isMulti) {\n            multiInject(<interfaces.ServiceIdentifier<any>>id)(t, k, i);\n      ***REMOVED*** else {\n            inject(id)(target, targetKey, index);\n      ***REMOVED***\n  ***REMOVED***,\n    doGetValue = (id: interfaces.ServiceIdentifier<any>, isMulti: boolean, container: Container, t: any, property: string) => {\n        if (isMulti) {\n            return container.getAll(id);\n      ***REMOVED*** else {\n            return container.get(id);\n      ***REMOVED***\n  ***REMOVED***): void {\n    let type: any;\n    if (index !== undefined)  {\n        type = Reflect.getMetadata('design:paramtypes', target, targetKey)[index];\n\n  ***REMOVED*** else {\n        type = Reflect.getMetadata('design:type', target, targetKey);\n  ***REMOVED***\n    const isMlt = type === Array;\n    const defaultAutowiredOption: AutowiredOption = {\n        id: type,\n        detached: false\n    ***REMOVED***\n\n    const opt = { ...defaultAutowiredOption, ...option ***REMOVED***\n\n    if (opt.detached) {\n        if (index !== undefined) {\n            throw new Error(`The ${target.constructor.name***REMOVED*** itself is not injected into the container, so the parameter injection of the constructor is not supported.`);\n      ***REMOVED***\n        createAutowiredProperty(opt, isMlt, doGetValue, target, targetKey);\n    ***REMOVED***\n  ***REMOVED*** else {\n        doInject( <ServiceIdentifierOrFunc>opt.id, isMlt, target, targetKey, index);\n\n  ***REMOVED***\n***REMOVED***\n\nexport function createAutowiredProperty(option: AutowiredOption, isMulti: boolean,\n    doGetValue: (id: interfaces.ServiceIdentifier<any>, isMulti: boolean, container: Container, target: any, property: string) => any,\n    target: any, property: string) {\n    let value: any;\n    Object.defineProperty(target, property, {\n        enumerable: true,\n        get() {\n            if (value !== undefined) {\n                return value;\n          ***REMOVED***\n            const container = ContainerProvider.provide();\n            const id = <interfaces.ServiceIdentifier<any>>option.id;\n            value = doGetValue(id, isMulti, container, target, property);\n\n            return value;\n      ***REMOVED***\n    ***REMOVED***\n***REMOVED***\n","import { fluentProvide ***REMOVED*** from 'inversify-binding-decorators';\nimport { interfaces ***REMOVED*** from 'inversify';\nimport { METADATA_KEY ***REMOVED*** from '../constants';\nimport { MethodBeforeAdvice, AfterReturningAdvice, AfterThrowsAdvice ***REMOVED*** from '../aop/aop-protocol';\n\nexport enum Scope {\n    Request, Singleton, Transient\n***REMOVED***\nexport interface ComponentOption {\n    id?: interfaces.ServiceIdentifier<any> | interfaces.ServiceIdentifier<any>[];\n    scope?: Scope;\n    rebind?: boolean;\n    proxy?: boolean;\n***REMOVED***\nexport namespace ComponentOption {\n    export function is(options: any): options is ComponentOption {\n        return options && (options.id !== undefined || options.scope !== undefined ||\n            options.rebind !== undefined || options.proxy !== undefined);\n  ***REMOVED***\n***REMOVED***\n\nexport interface ComponentDecorator {\n    (option?: interfaces.ServiceIdentifier<any> | interfaces.ServiceIdentifier<any>[] | ComponentOption): (target: any) => any;\n***REMOVED***\n\nexport const Component =\n    <ComponentDecorator>function (idOrOption?: interfaces.ServiceIdentifier<any> | interfaces.ServiceIdentifier<any>[] | ComponentOption): (target: any) => any {\n        const option = getComponentOption(idOrOption);\n        return (t: any) => {\n            applyComponentDecorator(option, t);\n        ***REMOVED***\n    ***REMOVED***\n\nexport function getComponentOption(idOrOption?: interfaces.ServiceIdentifier<any> | interfaces.ServiceIdentifier<any>[] | ComponentOption) {\n    let option: ComponentOption = {***REMOVED***\n\n    if (ComponentOption.is(idOrOption)) {\n        option = { ...idOrOption ***REMOVED***\n  ***REMOVED*** else if (idOrOption) {\n        option = { id: idOrOption ***REMOVED***\n  ***REMOVED***\n    return option;\n***REMOVED***\n\nfunction doProxy (context: interfaces.Context, t: any) {\n    const proxy = new Proxy(t, {\n        get: (target, method, receiver) => {\n            const func = target[method];\n            if (typeof func === 'function') {\n                return async (...args: any[]) => {\n                  ***REMOVED***\n                        const beforeAdvices = context.container.getAll<MethodBeforeAdvice>(MethodBeforeAdvice) || [];\n                        for (const advice of beforeAdvices) {\n                            await advice.before(method, args, t);\n                      ***REMOVED***\n                        const returnValue = await func.apply(target, args);\n                        const afterReturningAdvices = context.container.getAll<AfterReturningAdvice>(AfterReturningAdvice) || [];\n                        for (const advice of afterReturningAdvices) {\n                            await advice.afterReturning(returnValue, method, args, t);\n                      ***REMOVED***\n                        return returnValue;\n                  ***REMOVED*** catch (error) {\n                        const afterThrowsAdvices = context.container.getAll<AfterThrowsAdvice>(AfterThrowsAdvice) || [];\n                        for (const advice of afterThrowsAdvices) {\n                            await advice.afterThrows(error, method, args, t);\n                      ***REMOVED***\n                    ***REMOVED***\n                  ***REMOVED***\n                ***REMOVED***\n          ***REMOVED***\n            return func;\n      ***REMOVED***\n    ***REMOVED***\n    proxy.target = t;\n    t.proxyTarget = proxy;\n    return proxy;\n***REMOVED***\n\nexport function applyComponentDecorator(option: ComponentOption, target: any): void {\n    const defaultComponentOption: ComponentOption = {\n        id: target,\n        scope: Scope.Singleton,\n        rebind: false,\n        proxy: false\n    ***REMOVED***\n    const opt = { ...defaultComponentOption, ...option ***REMOVED***\n    const ids = Array.isArray(opt.id) ? opt.id : opt.id !== target ? [ opt.id, target ] : [ opt.id ] ;\n    const id = <interfaces.ServiceIdentifier<any>>ids[0];\n    const p = fluentProvide(id);\n    let whenOn: any;\n    if (opt.scope === Scope.Singleton) {\n        whenOn = p.inSingletonScope();\n  ***REMOVED*** else if (opt.scope === Scope.Transient) {\n        whenOn = p.inTransientScope();\n  ***REMOVED***\n    if (opt.proxy) {\n        whenOn.onActivation(doProxy).done(true)(target);\n  ***REMOVED*** else {\n        whenOn.done(true)(target);\n  ***REMOVED***\n    ids.shift();\n    if (ids.length > 0) {\n        (Reflect as any).defineMetadata(\n            METADATA_KEY.toService,\n            id,\n            target\n        );\n  ***REMOVED***\n    for (const sevice of ids) {\n        fluentProvide(<interfaces.ServiceIdentifier<any>>sevice).done(true)(target);\n  ***REMOVED***\n    if (opt.rebind) {\n        const metadata = true;\n        Reflect.defineMetadata(\n            METADATA_KEY.rebind,\n            metadata,\n            target\n        );\n  ***REMOVED***\n***REMOVED***\n","import { interfaces ***REMOVED*** from 'inversify';\nimport { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface ConstantOption {\n    id?: interfaces.ServiceIdentifier<any> | interfaces.ServiceIdentifier<any>[];\n    rebind?: boolean;\n    constantValue?: boolean;\n***REMOVED***\n\nexport interface ConstantDecorator {\n    (id: interfaces.ServiceIdentifier<any> | interfaces.ServiceIdentifier<any>[], constantValue: any, rebind?: boolean): (target: any) => any;\n***REMOVED***\n\nexport const Constant =\n    <ConstantDecorator>function (id: interfaces.ServiceIdentifier<any> | interfaces.ServiceIdentifier<any>[], constantValue: any, rebind: boolean = false): (target: any) => any {\n        return (t: any) => {\n            applyConstantDecorator({ id, constantValue, rebind ***REMOVED***, t);\n        ***REMOVED***\n    ***REMOVED***\n\nexport function applyConstantDecorator(option: ConstantOption, target: any): void {\n    const previousMetadata = Reflect.getMetadata(METADATA_KEY.constantValue, Reflect) || [];\n    const newMetadata = [option].concat(previousMetadata);\n    Reflect.defineMetadata(METADATA_KEY.constantValue, newMetadata, Reflect);\n***REMOVED***\n","export * from './autowired';\nexport * from './component';\nexport * from './value';\nexport * from './optional';\nexport * from './constant';\n","import { optional ***REMOVED*** from 'inversify';\n\nexport interface OptionalDecorator {\n    (): (target: any, targetKey: string, index?: number) => any;\n    (target: any, targetKey: string, index?: number): any;\n***REMOVED***\n\nexport const Optional = <OptionalDecorator>function (target: any, targetKey: string, index?: number) {\n    if (target === undefined) {\n        return optional();\n  ***REMOVED*** else {\n        optional()(target, targetKey, index);\n  ***REMOVED***\n***REMOVED***\n","import { inject, named ***REMOVED*** from 'inversify';\nimport { ContainerProvider ***REMOVED*** from '../container';\n\nexport const VALUE = Symbol('Value');\n\nexport interface ValueOption {\n    el?: string,\n    detached?: boolean\n***REMOVED***\nexport namespace ValueOption {\n    export function is(option: any): option is ValueOption {\n        return option && (option.el !== undefined || option.detached !== undefined);\n  ***REMOVED***\n***REMOVED***\n\nexport interface ValueDecorator {\n    (elOrValueOption?: string | ValueOption): (target: any, targetKey: string, index?: number) => any;\n    (target: any, targetKey: string, index?: number): any;\n***REMOVED***\n\nexport const Value = <ValueDecorator>function (target: any, targetKey: string, index?: number) {\n    const option = getValueOption(target, targetKey, index);\n    if (targetKey === undefined && index === undefined) {\n        return (t: any, tk: string, i?: number) => {\n            applyValueDecorator(option, t, tk, i);\n        ***REMOVED***\n\n  ***REMOVED*** else {\n        applyValueDecorator(option, target, targetKey, index);\n  ***REMOVED***\n***REMOVED***\n\nexport function getValueOption(target: any, targetKey: string, index?: number) {\n    let option: ValueOption = {***REMOVED***\n    if (targetKey === undefined) {\n        if (ValueOption.is(target)) {\n            option = { ...target ***REMOVED***\n      ***REMOVED*** else if (target) {\n            option = { el: target ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n    return option;\n***REMOVED***\n\nexport function applyValueDecorator(option: ValueOption, target: any, targetKey: string, index?: number): void {\n    const defaultAutowiredOption: ValueOption = {\n        el: targetKey,\n        detached: false\n    ***REMOVED***\n    const opt = { ...defaultAutowiredOption, ...option ***REMOVED***\n    if (opt.detached) {\n        if (index !== undefined) {\n            throw new Error(`The ${target.constructor.name***REMOVED*** itself is not injected into the container, so the parameter injection of the constructor is not supported.`);\n      ***REMOVED***\n        createValueProperty(opt, target, targetKey);\n    ***REMOVED***\n  ***REMOVED***\n\n    const el = <string>opt.el;\n    inject(VALUE)(target, targetKey, index);\n    named(el)(target, targetKey, index);\n***REMOVED***\n\nexport function createValueProperty(option: ValueOption, target: any, property: string) {\n    Object.defineProperty(target, property, {\n        enumerable: true,\n        get() {\n            const container = ContainerProvider.provide();\n            const el = <string>option.el;\n            return container.getNamed(VALUE, el);\n      ***REMOVED***\n    ***REMOVED***\n***REMOVED***\n","export const  MethodBeforeAdvice = Symbol('MethodBeforeAdvice');\nexport const  AfterReturningAdvice = Symbol('AfterReturningAdvice');\nexport const  AfterThrowsAdvice = Symbol('AfterThrowsAdvice');\n\nexport interface Advice { ***REMOVED***\n\nexport interface BeforeAdvice extends Advice { ***REMOVED***\n\nexport interface AfterAdvice extends Advice { ***REMOVED***\n\nexport interface MethodBeforeAdvice extends BeforeAdvice {\n\n    before(method: string | number | symbol, args: any[], target: any): Promise<void>;\n\n***REMOVED***\n\nexport interface AfterReturningAdvice extends AfterAdvice {\n\n    afterReturning(returnValue: any, method: string | number | symbol, args: any[], target: any): Promise<void>;\n\n***REMOVED***\n\nexport interface AfterThrowsAdvice extends AfterAdvice {\n\n    afterThrows(error: any, method: string | number | symbol, args: any[], target: any): Promise<void>;\n\n***REMOVED***\n","export * from './aop-protocol';\nexport * from './method-advice';\n","import { Component ***REMOVED*** from '../annotation';\nimport { MethodBeforeAdvice, AfterReturningAdvice, AfterThrowsAdvice ***REMOVED*** from './aop-protocol';\n\n@Component(MethodBeforeAdvice)\nexport class NoOpMethodBeforeAdivice implements MethodBeforeAdvice {\n\n    async before(method: string | number | symbol, args: any[], target: any): Promise<void> { ***REMOVED***\n***REMOVED***\n\n@Component(AfterReturningAdvice)\nexport class NoOpAfterReturningAdvice implements AfterReturningAdvice {\n\n    async afterReturning(returnValue: any, method: string | number | symbol, args: any[], target: any): Promise<void> { ***REMOVED***\n***REMOVED***\n\n@Component(AfterThrowsAdvice)\nexport class NoOpAfterThrowsAdvice implements AfterThrowsAdvice {\n\n    async afterThrows(error: any, method: string | number | symbol, args: any[], target: any): Promise<void> { ***REMOVED***\n***REMOVED***\n","export interface ApplicationError<C extends number, D> extends Error {\n    readonly code: C\n    readonly data: D\n    toJson(): ApplicationError.Literal<D>\n***REMOVED***\nexport namespace ApplicationError {\n    export interface Literal<D> {\n        message: string\n        data: D\n        stack?: string\n  ***REMOVED***\n    export interface Constructor<C extends number, D> {\n        (...args: any[]): ApplicationError<C, D>;\n        code: C;\n        is(arg: object | undefined): arg is ApplicationError<C, D>\n  ***REMOVED***\n    const codes: number[] = [];\n    export function declare<C extends number, D>(code: C, factory: (...args: any[]) => Literal<D>): Constructor<C, D> {\n        if (codes.indexOf(code) !== -1) {\n            throw new Error(`An application error for '${code***REMOVED***' code is already declared`);\n      ***REMOVED***\n        const constructorOpt = Object.assign((...args: any[]) => new Impl(code, factory(...args), constructorOpt), {\n            code,\n            is(arg: object | undefined): arg is ApplicationError<C, D> {\n                return arg instanceof Impl && arg.code === code;\n          ***REMOVED***\n        ***REMOVED***\n        return constructorOpt;\n  ***REMOVED***\n    export function is<C extends number, D>(arg: object | undefined): arg is ApplicationError<C, D> {\n        return arg instanceof Impl;\n  ***REMOVED***\n    export function fromJson<C extends number, D>(code: C, raw: Literal<D>): ApplicationError<C, D> {\n        return new Impl(code, raw);\n  ***REMOVED***\n    class Impl<C extends number, D> extends Error implements ApplicationError<C, D>  {\n        readonly data: D;\n        constructor(\n            readonly code: C,\n            raw: ApplicationError.Literal<D>,\n            constructorOpt?: Function\n        ) {\n            super(raw.message);\n            this.data = raw.data;\n            Object.setPrototypeOf(this, Impl.prototype);\n            if (raw.stack) {\n                this.stack = raw.stack;\n          ***REMOVED*** else if (Error.captureStackTrace && constructorOpt) {\n                Error.captureStackTrace(this, constructorOpt);\n          ***REMOVED***\n      ***REMOVED***\n        toJson(): ApplicationError.Literal<D> {\n            const { message, data, stack ***REMOVED*** = this;\n            return { message, data, stack ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","import { MaybePromise ***REMOVED*** from '../utils/prioritizeable';\nimport { Deferred ***REMOVED*** from '../utils/promise-util';\nimport { injectable ***REMOVED*** from 'inversify';\nimport { Logger ***REMOVED*** from '../logger';\nimport { Autowired, Component ***REMOVED*** from '../annotation';\nimport { Emitter, Event ***REMOVED*** from 'vscode-jsonrpc';\n\nexport const ApplicationLifecycle = Symbol('ApplicationLifecycle');\nexport const Application = Symbol('Application');\nexport const ApplicationStateService = Symbol('ApplicationStateService');\n\nexport interface ApplicationLifecycle<T extends Application> {\n\n    initialize?(): void;\n\n    onStart?(app: T): MaybePromise<void>;\n\n    onStop?(app: T): void;\n\n***REMOVED***\n\nexport interface Application {\n\n    start(): Promise<void>;\n\n***REMOVED***\n\n@Component(ApplicationLifecycle)\nexport class EmptyApplicationLifecycle implements ApplicationLifecycle<Application> {\n\n    initialize() {\n        // NOOP\n  ***REMOVED***\n\n***REMOVED***\n\n@injectable()\nexport abstract class AbstractApplication implements Application {\n\n    @Autowired(ApplicationLifecycle)\n    protected readonly lifecycles: ApplicationLifecycle<Application>[];\n\n    abstract start(): Promise<void>;\n\n    @Autowired(Logger)\n    protected readonly logger: Logger;\n\n    /**\n     * Initialize and start the frontend application.\n     */\n    protected async doStart(): Promise<void> {\n        for (const lifecycle of this.lifecycles) {\n            if (lifecycle.initialize) {\n              ***REMOVED***\n                    lifecycle.initialize();\n              ***REMOVED*** catch (error) {\n                    this.logger.error('Could not initialize lifecycle', error);\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n\n        // TODO\n\n        for (const lifecycle of this.lifecycles) {\n            if (lifecycle.onStart) {\n              ***REMOVED***\n                    await lifecycle.onStart(this);\n              ***REMOVED*** catch (error) {\n                    this.logger.error('Could not start lifecycle', error);\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    /**\n     * Stop the frontend application lifecycle.\n     */\n    protected doStop(): void {\n        for (const lifecycle of this.lifecycles) {\n            if (lifecycle.onStop) {\n              ***REMOVED***\n                    lifecycle.onStop(this);\n              ***REMOVED*** catch (error) {\n                    this.logger.error('Could not stop lifecycle', error);\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n\nexport type ApplicationState =\n    'init'\n    | 'started'\n    | 'ready';\n\nexport interface ApplicationStateService<T extends string> {\n    state: T;\n    readonly onStateChanged: Event<T>\n\n    reachedState(state: T): Promise<void>;\n\n    reachedAnyState(...states: T[]): Promise<void>;\n\n***REMOVED***\n@injectable()\nexport abstract class AbstractApplicationStateService<T extends string> implements ApplicationStateService<T> {\n\n    private _state = <T>'init';\n\n    protected deferred: { [state: string]: Deferred<void> ***REMOVED*** = {***REMOVED***\n    protected readonly stateChanged = new Emitter<T>();\n\n    get state(): T {\n        return this._state;\n  ***REMOVED***\n\n    set state(state: T) {\n        if (state !== this._state) {\n            this.deferred[this._state] = new Deferred();\n            this._state = state;\n            if (this.deferred[state] === undefined) {\n                this.deferred[state] = new Deferred();\n          ***REMOVED***\n            this.deferred[state].resolve();\n            this.stateChanged.fire(state);\n      ***REMOVED***\n  ***REMOVED***\n\n    get onStateChanged(): Event<T> {\n        return this.stateChanged.event;\n  ***REMOVED***\n\n    reachedState(state: T): Promise<void> {\n        if (this.deferred[state] === undefined) {\n            this.deferred[state] = new Deferred();\n      ***REMOVED***\n        return this.deferred[state].promise;\n  ***REMOVED***\n\n    reachedAnyState(...states: T[]): Promise<void> {\n        return Promise.race(states.map(s => this.reachedState(s)));\n  ***REMOVED***\n\n***REMOVED***\n","export * from './application-protocol';\nexport * from './application-error';\n","export const ConfigProvider = Symbol('ConfigProvider');\n\nexport interface ConfigProvider {\n    get<T>(key: string, defaultValue?: T): T;\n***REMOVED***\n","import { ConfigProvider ***REMOVED*** from './config-protocol';\nimport { Component ***REMOVED*** from '../annotation';\nconst jexl = require('jexl');\n\n@Component(ConfigProvider)\nexport class ConfigProviderImpl implements ConfigProvider {\n    get<T>(key: string, defaultValue?: T): T {\n        return jexl.evalSync(key, process.env.MALAGU_CONFIG) || defaultValue;\n  ***REMOVED***\n\n***REMOVED***\n","export * from './config-protocol';\nexport * from './config-provider';\n","export const METADATA_KEY = {\n    rebind: 'malagu:rebind',\n    constantValue: 'malagu:constant-value',\n    toService: 'malagu:to-service',\n    provide: 'inversify-binding-decorators:provide'\n***REMOVED***\n","import { interfaces as inversifyInterfaces, ContainerModule ***REMOVED*** from 'inversify';\nimport interfaces from 'inversify-binding-decorators/dts/interfaces/interfaces';\nimport { METADATA_KEY ***REMOVED*** from '../constants';\nimport { CustomError ***REMOVED*** from 'ts-custom-error';\nimport { ConstantOption ***REMOVED*** from '../annotation/constant';\n\nclass NoOpError extends CustomError {\n***REMOVED***\n\nexport function autoBind(registry?: inversifyInterfaces.ContainerModuleCallBack): inversifyInterfaces.ContainerModule {\n    return new ContainerModule((bind, unbind, isBound, rebind) => {\n        const provideMetadata: interfaces.ProvideSyntax[] = Reflect.getMetadata(METADATA_KEY.provide, Reflect) || [];\n        provideMetadata.map(metadata => resolve(metadata, bind, rebind));\n        Reflect.defineMetadata(METADATA_KEY.provide, [], Reflect);\n        const constantMetadata: ConstantOption[] = Reflect.getMetadata(METADATA_KEY.constantValue, Reflect) || [];\n        constantMetadata.map(metadata => resolveConstant(metadata, bind, rebind));\n        Reflect.defineMetadata(METADATA_KEY.constantValue, [], Reflect);\n\n        if (registry) {\n            registry(bind, unbind, isBound, rebind);\n      ***REMOVED***\n    ***REMOVED***\n***REMOVED***\n\nfunction resolve(metadata: interfaces.ProvideSyntax, bind: inversifyInterfaces.Bind, rebind: inversifyInterfaces.Rebind) {\n    const isRebind: boolean = Reflect.getOwnMetadata(METADATA_KEY.rebind, metadata.implementationType);\n    const id = Reflect.getOwnMetadata(METADATA_KEY.toService, metadata.implementationType);\n\n    const bindWrapper = (serviceIdentifier: inversifyInterfaces.ServiceIdentifier<any>) => {\n        if (id && id !== serviceIdentifier) {\n            bind(serviceIdentifier).toService(id);\n            throw new NoOpError();\n      ***REMOVED***\n        if (isRebind) {\n            return rebind(serviceIdentifier);\n      ***REMOVED***\n        return bind(serviceIdentifier);\n    ***REMOVED***\n  ***REMOVED***\n        metadata.constraint(bindWrapper, metadata.implementationType);\n  ***REMOVED*** catch (error) {\n        if (error instanceof NoOpError) {\n        ***REMOVED***\n      ***REMOVED***\n    ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\nfunction resolveConstant(metadata: ConstantOption, bind: inversifyInterfaces.Bind, rebind: inversifyInterfaces.Rebind) {\n    const ids = Array.isArray(metadata.id) ? metadata.id : [ metadata.id ];\n    const id = ids.shift();\n    if (metadata.rebind) {\n        rebind(id!).toConstantValue(metadata.constantValue);\n  ***REMOVED*** else {\n        bind(id!).toConstantValue(metadata.constantValue);\n  ***REMOVED***\n\n    for (const item of ids) {\n        bind(item!).toService(id!);\n  ***REMOVED***\n***REMOVED***\n","import { Container ***REMOVED*** from 'inversify';\n\nlet _container: Container;\n\nexport namespace ContainerProvider {\n    export function set(container: Container) {\n        _container = container;\n  ***REMOVED***\n    export function provide() {\n        if (!_container) {\n            throw new Error('Container is not ready yet, the timing is incorrect.');\n      ***REMOVED***\n        return _container;\n  ***REMOVED***\n***REMOVED***\n","import { Container ***REMOVED*** from 'inversify';\n\n// dynamic loading component module at compile time\nexport const container: Promise<Container> = Promise.resolve(new Container());\n","export * from './container-provider';\nexport * from './auto-bind';\n","import { CustomError as BaseCustomError ***REMOVED*** from 'ts-custom-error';\n\nexport class CustomError extends BaseCustomError {\n\n***REMOVED***\n","export * from './error-protocol';\nexport * from './cutom-error';\nexport * from './validation-errors';\n","import { CustomError ***REMOVED*** from './cutom-error';\nimport { ValidationError ***REMOVED*** from 'class-validator';\n\nexport class ValidationErrors extends CustomError {\n\n    constructor(errors?: ValidationError[]) {\n        super(errors === undefined ? undefined : JSON.stringify(errors));\n  ***REMOVED***\n\n***REMOVED***\n","export * from './utils';\nexport * from './annotation';\nexport * from './application';\nexport * from './logger';\nexport * from './container';\nexport * from './aop';\nexport * from './constants';\nexport * from './config';\nexport * from './error';\nexport * from './pipe';\n","import { Logger as ILoger ***REMOVED*** from 'vscode-jsonrpc';\n\nexport class ConsoleLogger implements ILoger {\n    public error(message: string): void {\n        console.error(message);\n  ***REMOVED***\n\n    public warn(message: string): void {\n        console.warn(message);\n  ***REMOVED***\n\n    public info(message: string): void {\n        console.info(message);\n  ***REMOVED***\n\n    public log(message: string): void {\n        console.log(message);\n  ***REMOVED***\n\n    public debug(message: string): void {\n        console.debug(message);\n  ***REMOVED***\n***REMOVED***\n","export * from './logger-protocol';\nexport * from './console-logger';\n","import * as log from 'loglevel';\nimport { Component, Value ***REMOVED*** from '../annotation';\n\nexport const LOGGER_CONFIG = 'malagu.logger';\nexport const Logger = Symbol('Logger');\n\nexport type LogLevel = 'verbose' | 'debug' | 'info' | 'warn' | 'error';\n\nexport interface Logger {\n    info(message: any, context?: string): void;\n    error(message: any, context?: string): void;\n    warn(message: any, context?: string): void;\n    debug(message: any, context?: string): void;\n***REMOVED***\n\n@Component(Logger)\nexport class LoggerImpl implements Logger {\n    protected instance: Logger;\n\n    constructor(\n        @Value(LOGGER_CONFIG) protected readonly config: any\n    ) {\n        if (config.level) {\n            log.setLevel(config.level);\n      ***REMOVED*** else {\n            log.setLevel('error');\n      ***REMOVED***\n  ***REMOVED***\n\n    error(message: any, context = '') {\n        return log.error(message, context);\n  ***REMOVED***\n\n    info(message: any, context = '') {\n        return log.info(message, context);\n  ***REMOVED***\n\n    warn(message: any, context = '') {\n        return log.warn(message, context);\n  ***REMOVED***\n\n    debug(message: any, context = '') {\n        return log.debug(message, context);\n  ***REMOVED***\n\n***REMOVED***\n","export * from './pipe-manager';\nexport * from './pipe-protocol';\nexport * from './pipe-provider';\nexport * from './pipe-transtorm';\n","import { Component, Autowired ***REMOVED*** from '../annotation';\nimport { PipeManager, PipeProvider, MethodMetadata ***REMOVED*** from './pipe-protocol';\nimport { getTarget ***REMOVED*** from '../utils';\n\n@Component(PipeManager)\nexport class PipeManagerImpl implements PipeManager {\n\n    @Autowired(PipeProvider)\n    protected readonly pipeProvider: PipeProvider;\n\n    async apply(metadata: MethodMetadata, args: any[]): Promise<void> {\n        const paramTypes = Reflect.getMetadata('design:paramtypes', getTarget(metadata.target), metadata.method);\n        if (paramTypes) {\n            for (let index = 0; index < args.length; index++) {\n                let arg = args[index];\n                for (const pipe of this.pipeProvider.provide()) {\n                    arg = await pipe.transform(arg, { argType: index < paramTypes.length ? paramTypes[index] : undefined ***REMOVED***\n              ***REMOVED***\n                args[index] = arg;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { Type ***REMOVED*** from '../utils';\n\nexport const PipeTransform = Symbol('PipeTransform');\nexport const PipeProvider = Symbol('PipeProvider');\nexport const PipeManager = Symbol('PipeManager');\n\nexport interface ArgumentMetadata {\n\n    readonly argType?: Type<any>;\n\n    readonly data?: string;\n***REMOVED***\n\nexport interface MethodMetadata {\n\n    readonly target: Type<any>;\n\n    readonly method: string | symbol;\n***REMOVED***\n\nexport interface PipeTransform<T = any, R = any> {\n    readonly priority: number;\n    transform(value: T, metadata: ArgumentMetadata): R;\n***REMOVED***\n\nexport interface PipeProvider {\n    provide(): PipeTransform[];\n***REMOVED***\n\nexport interface PipeManager {\n    apply(metadata: MethodMetadata, args: any[]): Promise<void>;\n***REMOVED***\n","import { Component, Autowired ***REMOVED*** from '../annotation';\nimport { PipeTransform, PipeProvider ***REMOVED*** from './pipe-protocol';\nimport { Prioritizeable ***REMOVED*** from '../utils';\n\n@Component(PipeProvider)\nexport class PipeProviderImpl implements PipeProvider {\n\n    protected prioritized: PipeTransform[];\n\n    constructor(\n        @Autowired(PipeTransform)\n        protected readonly pipes: PipeTransform[]\n    ) { ***REMOVED***\n\n    provide(): PipeTransform[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.pipes).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import { Component, Value ***REMOVED*** from '../annotation';\nimport { PipeTransform, ArgumentMetadata ***REMOVED*** from './pipe-protocol';\nimport { ValidationErrors ***REMOVED*** from '../error';\nimport { isNull ***REMOVED*** from 'util';\nimport { validate ***REMOVED*** from 'class-validator';\nimport { classToPlain, plainToClass ***REMOVED*** from 'class-transformer';\n\n@Component(PipeTransform)\nexport class ValidationPipe implements PipeTransform<any> {\n\n    @Value('malagu.core.validationPipeOptions')\n    protected options: any;\n\n    readonly priority = 1000;\n\n    public async transform(value: any, metadata: ArgumentMetadata) {\n        const opts = this.options || {***REMOVED***\n        const { argType ***REMOVED*** = metadata;\n        if (!argType || !this.toValidate(metadata)) {\n            return value;\n      ***REMOVED***\n        const originalValue = value;\n        value = this.toEmptyIfNil(value);\n\n        const isNil = value !== originalValue;\n        const isPrimitive = this.isPrimitive(value);\n        this.stripProtoKeys(value);\n        let entity = plainToClass(\n            argType,\n            value,\n            opts.transformOptions,\n        );\n\n        const originalEntity = entity;\n        const isCtorNotEqual = entity.constructor !== argType;\n\n        if (isCtorNotEqual && !isPrimitive) {\n            entity.constructor = argType;\n      ***REMOVED*** else if (isCtorNotEqual) {\n            // when \"entity\" is a primitive value, we have to temporarily\n            // replace the entity to perform the validation against the original\n            // metatype defined inside the handler\n            entity = { constructor: argType ***REMOVED*** as any;\n      ***REMOVED***\n\n        const errors = await validate(entity, opts.validatorOptions);\n        if (errors.length > 0) {\n            throw new ValidationErrors(opts.detailedOutputDisabled ? undefined : errors);\n      ***REMOVED***\n        if (isPrimitive) {\n            // if the value is a primitive value and the validation process has been successfully completed\n            // we have to revert the original value passed through the pipe\n            entity = originalEntity;\n      ***REMOVED***\n        if (opts.transformEnabled) {\n            return entity;\n      ***REMOVED***\n        if (isNil) {\n            // if the value was originally undefined or null, revert it back\n            return originalValue;\n      ***REMOVED***\n        return Object.keys(opts.validatorOptions).length > 0\n            ? classToPlain(entity, opts.transformOptions)\n            : value;\n  ***REMOVED***\n\n    private toValidate(metadata: ArgumentMetadata): boolean {\n        const { argType ***REMOVED*** = metadata;\n        const types = [String, Boolean, Number, Array, Object];\n        return !types.some(t => argType === t) && !isNull(argType);\n  ***REMOVED***\n\n    private toEmptyIfNil<T = any, R = any>(value: T): R | {***REMOVED*** {\n        return isNull(value) ? {***REMOVED*** : value;\n  ***REMOVED***\n\n    private stripProtoKeys(value: Record<string, any>) {\n        delete value.__proto__;\n        const keys = Object.keys(value);\n        keys\n            .filter(key => typeof value[key] === 'object' && value[key])\n            .forEach(key => this.stripProtoKeys(value[key]));\n  ***REMOVED***\n\n    private isPrimitive(value: unknown): boolean {\n        return ['number', 'boolean', 'string'].indexOf(typeof value) !== -1;\n  ***REMOVED***\n***REMOVED***\n","export function getSuperClasses(constructor: any) {\n    const constructors = [];\n    let current = constructor;\n    while (Object.getPrototypeOf(current)) {\n        current = Object.getPrototypeOf(current);\n        constructors.push(current);\n  ***REMOVED***\n    return constructors;\n***REMOVED***\n","import { Disposable ***REMOVED*** from 'vscode-jsonrpc/lib/events';\n\nexport {\n    Disposable\n***REMOVED***\n\nexport class DisposableCollection implements Disposable {\n    protected readonly disposables: Disposable[] = [];\n\n    constructor(...toDispose: Disposable[]) {\n        toDispose.forEach(d => this.push(d));\n  ***REMOVED***\n\n    dispose(): void {\n        while (this.disposables.length !== 0) {\n            this.disposables.pop()!.dispose();\n      ***REMOVED***\n  ***REMOVED***\n\n    get disposed(): boolean {\n        return this.disposables.length === 0;\n  ***REMOVED***\n\n    push(disposable: Disposable): Disposable {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        return {\n            dispose(): void {\n                const index = disposables.indexOf(disposable);\n                if (index !== -1) {\n                    disposables.splice(index, 1);\n              ***REMOVED***\n          ***REMOVED***\n        ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","export * from './prioritizeable';\nexport * from './promise-util';\nexport * from './types';\nexport * from './class-util';\nexport * from './metadata-util';\nexport * from './disposable';\nexport * from './os';\nexport * from './proxy-util';\n","import { getSuperClasses ***REMOVED*** from './class-util';\n\nexport function getOwnMetadata(metadataKey: string, constructor: Object, propertyKey?: string | symbol): any {\n    const constructors = [ constructor, ...getSuperClasses(constructor) ];\n    let result: any[] = [];\n    for (let index = 0; index < constructors.length; index++) {\n        const c = constructors[constructors.length - index - 1];\n        let metadata: any[];\n        if (propertyKey) {\n            metadata = Reflect.getOwnMetadata(metadataKey, c, propertyKey);\n      ***REMOVED*** else {\n            metadata = Reflect.getOwnMetadata(metadataKey, c);\n      ***REMOVED***\n\n        if (metadata) {\n            if (Array.isArray(metadata)) {\n                result = [ ...result, ...metadata ];\n          ***REMOVED*** else {\n                return metadata;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n    return result;\n***REMOVED***\n","function is(userAgent: string, platform: string): boolean {\n    if (typeof navigator !== 'undefined') {\n        if (navigator.userAgent && navigator.userAgent.indexOf(userAgent) >= 0) {\n            return true;\n      ***REMOVED***\n  ***REMOVED***\n    if (typeof process !== 'undefined') {\n        return (process.platform === platform);\n  ***REMOVED***\n    return false;\n***REMOVED***\n\nexport const isWindows = is('Windows', 'win32');\nexport const isOSX = is('Mac', 'darwin');\n\nexport type CMD = [string, string[]];\nexport function cmd(command: string, ...args: string[]): CMD {\n    return [\n        isWindows ? 'cmd' : command,\n        isWindows ? ['/c', command, ...args] : args\n    ];\n***REMOVED***\n\nexport namespace OS {\n\n    /**\n     * Enumeration of the supported operating systems.\n     */\n    export enum Type {\n        Windows = 'Windows',\n        Linux = 'Linux',\n        OSX = 'OSX'\n  ***REMOVED***\n\n    /**\n     * Returns with the type of the operating system. If it is neither [Windows](isWindows) nor [OS X](isOSX), then\n     * it always return with the `Linux` OS type.\n     */\n    export function type(): OS.Type {\n        if (isWindows) {\n            return Type.Windows;\n      ***REMOVED***\n        if (isOSX) {\n            return Type.OSX;\n      ***REMOVED***\n        return Type.Linux;\n  ***REMOVED***\n\n***REMOVED***\n","export type MaybeArray<T> = T | T[];\nexport type MaybePromise<T> = T | Promise<T> | PromiseLike<T>;\n\nexport interface Prioritizeable<T> {\n    readonly priority: number;\n    readonly value: T;\n***REMOVED***\n\nexport namespace Prioritizeable {\n    export type GetPriority<T> = (value: T) => MaybePromise<number>;\n    export type GetPrioritySync<T> = (value: T) => number;\n    export async function toPrioritizeable<T>(rawValue: MaybePromise<T>, getPriority: GetPriority<T>): Promise<Prioritizeable<T>>;\n    export async function toPrioritizeable<T>(rawValue: MaybePromise<T>[], getPriority: GetPriority<T>): Promise<Prioritizeable<T>[]>;\n    export async function toPrioritizeable<T>(rawValue: MaybeArray<MaybePromise<T>>, getPriority: GetPriority<T>): Promise<MaybeArray<Prioritizeable<T>>> {\n        if (rawValue instanceof Array) {\n            return Promise.all(\n                rawValue.map(v => toPrioritizeable(v, getPriority))\n            );\n      ***REMOVED***\n        const value = await rawValue;\n        const priority = await getPriority(value);\n        return { priority, value ***REMOVED***\n  ***REMOVED***\n    export function toPrioritizeableSync<T>(rawValue: T[], getPriority: GetPrioritySync<T> = value => (<any>value).priority): Prioritizeable<T>[] {\n        return rawValue.map(v => ({\n            value: v,\n            priority: getPriority(v)\n      ***REMOVED***));\n  ***REMOVED***\n    export function prioritizeAllSync<T>(values: T[], getPriority?: GetPrioritySync<T>): Prioritizeable<T>[] {\n        const prioritizeable = toPrioritizeableSync(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n  ***REMOVED***\n    export async function prioritizeAll<T>(values: MaybePromise<T>[], getPriority: GetPriority<T>): Promise<Prioritizeable<T>[]> {\n        const prioritizeable = await toPrioritizeable(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n  ***REMOVED***\n    export function isValid<T>(p: Prioritizeable<T>): boolean {\n        return p.priority > 0;\n  ***REMOVED***\n    export function compare<T>(p: Prioritizeable<T>, p2: Prioritizeable<T>): number {\n        return p2.priority - p.priority;\n  ***REMOVED***\n***REMOVED***\n","export class Deferred<T> {\n    resolve: (value?: T) => void;\n    reject: (err?: any) => void; // tslint:disable-line\n\n    promise = new Promise<T>((resolve, reject) => {\n        this.resolve = resolve;\n        this.reject = reject;\n    ***REMOVED***\n***REMOVED***\n","\nexport function getTargetClass(obj: any) {\n    return obj.target ? obj.target.constructor : obj.constructor;\n\n***REMOVED***\n\nexport function getTarget(obj: any) {\n    return obj.target || obj;\n\n***REMOVED***\n","import { ApplicationState, AbstractApplicationStateService, ApplicationStateService, Component ***REMOVED*** from '../../common';\n\nexport type BackendApplicationState = ApplicationState;\n\n@Component(ApplicationStateService)\nexport class BackendApplicationStateService extends AbstractApplicationStateService<BackendApplicationState> {\n\n***REMOVED***\n","import { ApplicationStateService, AbstractApplication, Application, Component, Autowired ***REMOVED*** from '../../common';\nimport { BackendApplicationStateService ***REMOVED*** from './backend-application-state';\n\n@Component(Application)\nexport class BackendApplication extends AbstractApplication {\n\n    @Autowired(ApplicationStateService)\n    protected readonly stateService: BackendApplicationStateService;\n\n    async start(): Promise<void> {\n        this.setupExitSignals();\n        await this.doStart();\n        this.stateService.state = 'started';\n        this.stateService.state = 'ready';\n  ***REMOVED***\n\n    protected setupExitSignals() {\n        process.removeListener('SIGINT', this.doExit);\n        process.removeListener('SIGTERM', this.doExit);\n\n        process.on('SIGINT', this.doExit.bind(this));\n        process.on('SIGTERM', this.doExit.bind(this));\n  ***REMOVED***\n\n    protected doExit() {\n        this.doStop();\n        process.exit(0);\n  ***REMOVED***\n***REMOVED***\n","export * from './backend-application';\nexport * from './backend-application-state';\n","export * from './application';\n","export * from '../common';\nimport 'reflect-metadata';\nimport { autoBind, ConfigProvider, VALUE ***REMOVED*** from '../common';\nexport * from '.';\n\nexport const CoreBackendModule = autoBind(bind => {\n    bind(VALUE).toDynamicValue(ctx => {\n        const namedMetadata = ctx.currentRequest.target.getNamedTag();\n        const el = namedMetadata!.value.toString();\n        const configProvider = ctx.container.get<ConfigProvider>(ConfigProvider);\n        return configProvider.get(el);\n    ***REMOVED***\n***REMOVED***\n","import { autoBind ***REMOVED*** from '@malagu/core';\n\nexport default autoBind();\n","export const MVC_PATH = 'malagu.mvc.path';\n","export * from './constants';\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface BodyMetadata {\n    name?: string;\n    parameterIndex: number;\n***REMOVED***\n\nexport interface BodyDecorator {\n    (name?: string): (target: any, targetKey: string, parameterIndex: number) => any;\n    (target: any, targetKey: string, parameterIndex: number): any;\n***REMOVED***\n\nexport const Body = <BodyDecorator>function (target: any, targetKey: string | symbol, parameterIndex: number) {\n    if (targetKey === undefined) {\n        return (t: any, tk: string, i: number) => {\n            applyBodyDecorator(t, tk, i, target);\n        ***REMOVED***\n\n  ***REMOVED*** else {\n        applyBodyDecorator(target, targetKey, parameterIndex);\n  ***REMOVED***\n***REMOVED***\n\nexport function applyBodyDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: BodyMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerBody, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerBody, metadatas, target.constructor, targetKey);\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\nimport { ErrorType ***REMOVED*** from '@malagu/core';\n\nexport interface CatchMetadata {\n    errorTypes: ErrorType[];\n    target: any;\n    key: string;\n    descriptor: TypedPropertyDescriptor<Function>;\n***REMOVED***\n\nexport interface CatchDecorator {\n    (errorTypes: ErrorType | ErrorType[]): MethodDecorator;\n***REMOVED***\n\nexport const Catch = <CatchDecorator>function (errorTypes: ErrorType | ErrorType[]) {\n    return (t: any, k: string, d: TypedPropertyDescriptor<Function>) => {\n        applyCatchDecorator(t, k, d, Array.isArray(errorTypes) ? errorTypes : [ errorTypes ]);\n    ***REMOVED***\n***REMOVED***\n\nexport function applyCatchDecorator(target: any, key: string, descriptor: TypedPropertyDescriptor<Function>, errorTypes: ErrorType[]): void {\n    const metadata: CatchMetadata = { errorTypes, target, key, descriptor ***REMOVED***\n    let metadataList: CatchMetadata[] = [];\n\n    if (!Reflect.hasOwnMetadata(METADATA_KEY.controllerCatch, target.constructor)) {\n        Reflect.defineMetadata(METADATA_KEY.controllerCatch, metadataList, target.constructor);\n  ***REMOVED*** else {\n        metadataList = Reflect.getOwnMetadata(METADATA_KEY.controllerCatch, target.constructor);\n  ***REMOVED***\n    metadataList.push(metadata);\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\nimport { Component ***REMOVED*** from '@malagu/core';\n\nexport const CONTROLLER = Symbol('Controller');\n\nexport interface ControllerMetadata {\n    path: string;\n    target: any;\n***REMOVED***\n\nexport function Controller(path: string = '') {\n    return function (target: any) {\n        const metadata: ControllerMetadata = { path, target ***REMOVED***\n        Reflect.defineMetadata(METADATA_KEY.controller, metadata, target);\n        Component({ id: CONTROLLER, proxy: true ***REMOVED***)(target);\n    ***REMOVED***\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface RequestCookieMetadata {\n    name?: string;\n    parameterIndex: number;\n***REMOVED***\n\nexport interface ResponseCookieMetadata {\n    name: string;\n    value: string;\n***REMOVED***\n\nexport interface CookieDecorator {\n    (name?: string): (target: any, targetKey: string, parameterIndex: number) => any;\n    (target: any, targetKey: string, parameterIndex: number): any;\n    (name: string, value: string): (target: any, targetKey: string, descriptor: PropertyDescriptor) => any;\n\n***REMOVED***\n\nexport const Cookie = <CookieDecorator>function (target: any, targetKey: string, parameterIndex: number) {\n    if (parameterIndex !== undefined) {\n        applyRequestCookieDecorator(target, targetKey, parameterIndex);\n  ***REMOVED*** else if (target && targetKey) {\n        return (t: any, tk: string, d: PropertyDescriptor) => {\n            applyResponseCookieDecorator(t, tk, d, target, targetKey);\n        ***REMOVED***\n  ***REMOVED*** else {\n        return (t: any, tk: string, i: number) => {\n            applyRequestCookieDecorator(t, tk, i, target);\n        ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\nexport function applyRequestCookieDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: RequestCookieMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerRequestCookie, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerRequestCookie, metadatas, target.constructor, targetKey);\n***REMOVED***\n\nexport function applyResponseCookieDecorator(target: any, targetKey: string | symbol, descriptor: PropertyDescriptor, name: string, value: string): void {\n    const metadatas: ResponseCookieMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerResponseCookie, target.constructor, targetKey) || [];\n    metadatas.push({ name, value  ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerResponseCookie, metadatas, target.constructor, targetKey);\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface RequestHeaderMetadata {\n    name?: string;\n    parameterIndex: number;\n***REMOVED***\n\nexport interface ResponseHeaderMetadata {\n    name: string;\n    value: string;\n***REMOVED***\n\nexport interface HeaderDecorator {\n    (name?: string): (target: any, targetKey: string, parameterIndex: number) => any;\n    (target: any, targetKey: string, parameterIndex: number): any;\n    (name: string, value: string): (target: any, targetKey: string, descriptor: PropertyDescriptor) => any;\n\n***REMOVED***\n\nexport const Header = <HeaderDecorator>function (target: any, targetKey: string, parameterIndex: number) {\n    if (parameterIndex !== undefined) {\n        applyRequestHeaderDecorator(target, targetKey, parameterIndex);\n  ***REMOVED*** else if (target && targetKey) {\n        return (t: any, tk: string, d: PropertyDescriptor) => {\n            applyResponseHeaderDecorator(t, tk, d, target, targetKey);\n        ***REMOVED***\n  ***REMOVED*** else {\n        return (t: any, tk: string, i: number) => {\n            applyRequestHeaderDecorator(t, tk, i, target);\n        ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\nexport function applyRequestHeaderDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: RequestHeaderMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerRequestHeader, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerRequestHeader, metadatas, target.constructor, targetKey);\n***REMOVED***\n\nexport function applyResponseHeaderDecorator(target: any, targetKey: string | symbol, descriptor: PropertyDescriptor, name: string, value: string): void {\n    const metadatas: ResponseHeaderMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerResponseHeader, target.constructor, targetKey) || [];\n    metadatas.push({ name, value  ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerResponseHeader, metadatas, target.constructor, targetKey);\n***REMOVED***\n","export * from './body';\nexport * from './controller';\nexport * from './header';\nexport * from './method';\nexport * from './param';\nexport * from './query';\nexport * from './view';\nexport * from './cookie';\nexport * from './session';\nexport * from './catch';\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport type StrOrRegex = string | RegExp;\nexport type RouteOptions = StrOrRegex | { path: StrOrRegex ***REMOVED*** | { options: Object, path: StrOrRegex ***REMOVED*** & Object;\n\nexport interface MethodMetadata {\n    options: RouteOptions;\n    target: any;\n    method: string;\n    key: string;\n    descriptor: TypedPropertyDescriptor<Function>;\n***REMOVED***\n\nexport interface MethodDecorator {\n    (\n        method: string,\n        options?: RouteOptions,\n    ): (target: any, key: string, descriptor: TypedPropertyDescriptor<Function>) => void;\n***REMOVED***\n\nexport interface HandlerDecorator {\n    (target: any, key: string, descriptor: TypedPropertyDescriptor<Function>): void;\n***REMOVED***\n\nexport function Get(options?: RouteOptions): HandlerDecorator {\n    return Method('get', options);\n***REMOVED***\n\nexport function Post(options?: RouteOptions): HandlerDecorator {\n    return Method('post', options);\n***REMOVED***\n\nexport function Put(options?: RouteOptions): HandlerDecorator {\n    return Method('put', options);\n***REMOVED***\n\nexport function Patch(options?: RouteOptions): HandlerDecorator {\n    return Method('patch', options);\n***REMOVED***\n\nexport function Head(options?: RouteOptions): HandlerDecorator {\n    return Method('head', options);\n***REMOVED***\n\nexport function Delete(options?: RouteOptions): HandlerDecorator {\n    return Method('delete', options);\n***REMOVED***\n\nexport function Options(options?: RouteOptions): HandlerDecorator {\n    return Method('options', options);\n***REMOVED***\n\nexport const Method = <MethodDecorator>function (\n    method: string,\n    options: RouteOptions = '',\n): HandlerDecorator {\n    return function (target: any, key: string, descriptor: TypedPropertyDescriptor<Function>) {\n        const metadata: MethodMetadata = { options, method, target, key, descriptor ***REMOVED***\n        let metadataList: MethodMetadata[] = [];\n\n        if (!Reflect.hasOwnMetadata(METADATA_KEY.controllerMethod, target.constructor)) {\n            Reflect.defineMetadata(METADATA_KEY.controllerMethod, metadataList, target.constructor);\n      ***REMOVED*** else {\n            metadataList = Reflect.getOwnMetadata(METADATA_KEY.controllerMethod, target.constructor);\n      ***REMOVED***\n        metadataList.push(metadata);\n    ***REMOVED***\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface ParamMetadata {\n    name?: string;\n    parameterIndex: number;\n***REMOVED***\n\nexport interface ParamDecorator {\n    (name?: string): (target: any, targetKey: string, parameterIndex: number) => any;\n    (target: any, targetKey: string, parameterIndex: number): any;\n***REMOVED***\n\nexport const Param = <ParamDecorator>function (target: any, targetKey: string | symbol, parameterIndex: number) {\n    if (targetKey === undefined) {\n        return (t: any, tk: string, i: number) => {\n            applyParamDecorator(t, tk, i, target);\n        ***REMOVED***\n\n  ***REMOVED*** else {\n        applyParamDecorator(target, targetKey, parameterIndex);\n  ***REMOVED***\n***REMOVED***\n\nexport function applyParamDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: ParamMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerParam, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerParam, metadatas, target.constructor, targetKey);\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface QueryMetadata {\n    name?: string;\n    parameterIndex: number;\n***REMOVED***\n\nexport interface QueryDecorator {\n    (name?: string): (target: any, targetKey: string, parameterIndex: number) => any;\n    (target: any, targetKey: string, parameterIndex: number): any;\n***REMOVED***\n\nexport const Query = <QueryDecorator>function (target: any, targetKey: string | symbol, parameterIndex: number) {\n    if (targetKey === undefined) {\n        return (t: any, tk: string, i: number) => {\n            applyQueryDecorator(t, tk, i, target);\n        ***REMOVED***\n\n  ***REMOVED*** else {\n        applyQueryDecorator(target, targetKey, parameterIndex);\n  ***REMOVED***\n***REMOVED***\n\nexport function applyQueryDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: QueryMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerQuery, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerQuery, metadatas, target.constructor, targetKey);\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface RequestSessionMetadata {\n    name?: string;\n    parameterIndex: number;\n***REMOVED***\n\nexport interface ResponseSessionMetadata {\n    name: string;\n    value: string;\n***REMOVED***\n\nexport interface SessionDecorator {\n    (name?: string): (target: any, targetKey: string, parameterIndex: number) => any;\n    (target: any, targetKey: string, parameterIndex: number): any;\n    (name: string, value: string): (target: any, targetKey: string, descriptor: PropertyDescriptor) => any;\n\n***REMOVED***\n\nexport const Session = <SessionDecorator>function (target: any, targetKey: string, parameterIndex: number) {\n    if (parameterIndex !== undefined) {\n        applyRequestSessionDecorator(target, targetKey, parameterIndex);\n  ***REMOVED*** else if (target && targetKey) {\n        return (t: any, tk: string, d: PropertyDescriptor) => {\n            applyResponseSessionDecorator(t, tk, d, target, targetKey);\n        ***REMOVED***\n  ***REMOVED*** else {\n        return (t: any, tk: string, i: number) => {\n            applyRequestSessionDecorator(t, tk, i, target);\n        ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\nexport function applyRequestSessionDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: RequestSessionMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerRequestSession, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerRequestSession, metadatas, target.constructor, targetKey);\n***REMOVED***\n\nexport function applyResponseSessionDecorator(target: any, targetKey: string | symbol, descriptor: PropertyDescriptor, name: string, value: string): void {\n    const metadatas: ResponseSessionMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerResponseSession, target.constructor, targetKey) || [];\n    metadatas.push({ name, value  ***REMOVED***\n    Reflect.defineMetadata(METADATA_KEY.controllerResponseSession, metadatas, target.constructor, targetKey);\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\n\nexport interface ViewMetadata {\n    viewName: string;\n***REMOVED***\n\nexport interface ViewDecorator {\n    (viewName: string): (target: any, key: string, descriptor: TypedPropertyDescriptor<Function>) => void;\n***REMOVED***\n\nexport const View = <ViewDecorator>function (viewName: string) {\n    return (t: any, k: string, d: TypedPropertyDescriptor<Function>) => {\n        applyViewDecorator(t, k, d, viewName);\n    ***REMOVED***\n***REMOVED***\n\nexport function applyViewDecorator(target: any, targetKey: string, descriptor: TypedPropertyDescriptor<Function>, viewName: string): void {\n    Reflect.defineMetadata(METADATA_KEY.controllerView, { viewName ***REMOVED***, target.constructor, targetKey);\n***REMOVED***\n","export const METADATA_KEY = {\n    controller: 'malagu:controller',\n    controllerMethod: 'malagu:controller-method',\n    controllerParam: 'malagu:controller-param',\n    controllerRequestHeader: 'malagu:controller-request-header',\n    controllerResponseHeader: 'malagu:controller-response-header',\n    controllerRequestCookie: 'malagu:controller-request-cookie',\n    controllerResponseCookie: 'malagu:controller-response-cookie',\n    controllerRequestSession: 'malagu:controller-request-session',\n    controllerResponseSession: 'malagu:controller-response-session',\n    controllerQuery: 'malagu:controller-query',\n    controllerBody: 'malagu:controller-body',\n    controllerView: 'malagu:controller-view',\n    controllerCatch: 'malagu:controller-catch'\n\n***REMOVED***\n","import { Component, Autowired, Value ***REMOVED*** from '@malagu/core';\nimport { PathResolver ***REMOVED*** from '@malagu/web';\nimport { Context, RequestMatcher, HandlerAdapter ***REMOVED*** from '@malagu/web/lib/node';\nimport { ViewResolver, ResponseResolverProvider, MethodArgsResolverProvider ***REMOVED*** from '../resolver';\nimport { MVC_HANDLER_ADAPTER_PRIORITY, RouteMetadataMatcher ***REMOVED*** from './handler-protocol';\nimport { MVC_PATH ***REMOVED*** from '../../common';\nimport { PipeManager ***REMOVED*** from '@malagu/core';\nimport { NotFoundAndContinueError ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(HandlerAdapter)\nexport class MvcHandlerAdapter implements HandlerAdapter {\n    readonly priority = MVC_HANDLER_ADAPTER_PRIORITY;\n\n    @Autowired(MethodArgsResolverProvider)\n    protected readonly methodArgsResolverProvider: MethodArgsResolverProvider;\n\n    @Autowired(ResponseResolverProvider)\n    protected readonly responseResolverProvider: ResponseResolverProvider;\n\n    @Autowired(ViewResolver)\n    protected readonly viewResolver: ViewResolver;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    @Autowired(PathResolver)\n    protected readonly pathResolver: PathResolver;\n\n    @Autowired(PipeManager)\n    protected readonly pipeManager: PipeManager;\n\n    @Value(MVC_PATH)\n    protected readonly mvcPath: string;\n\n    @Autowired(RouteMetadataMatcher)\n    protected readonly routeMetadataMatcher: RouteMetadataMatcher;\n\n    protected async resolveMethodArgs(metadata: any) {\n        const args: any[] = [];\n        for (const resolver of this.methodArgsResolverProvider.provide()) {\n            await resolver.resolve(metadata, args);\n      ***REMOVED***\n        return args;\n  ***REMOVED***\n\n    protected async resolveResponse(metadata: any) {\n        for (const resolver of this.responseResolverProvider.provide()) {\n            await resolver.resolve(metadata);\n      ***REMOVED***\n  ***REMOVED***\n\n    async handle(): Promise<void> {\n        const ctx = Context.getCurrent();\n        const path = ctx.request.path;\n        const routeMetadata = await this.routeMetadataMatcher.match();\n        if (routeMetadata) {\n            await this.doHandle(routeMetadata);\n      ***REMOVED*** else {\n            throw new NotFoundAndContinueError(`No mapping found: ${ctx.request.method***REMOVED*** ${path***REMOVED***`);\n      ***REMOVED***\n  ***REMOVED***\n\n    protected async doHandle(metadata: any, err?: any): Promise<void> {\n        let args = await this.resolveMethodArgs(metadata);\n        if (err) {\n            args = [err, ...args];\n      ***REMOVED***\n        const methodMetadata = metadata.methodMetadata;\n        const target = methodMetadata.target;\n        let model: any;\n      ***REMOVED***\n            await this.pipeManager.apply({ target, method: methodMetadata.key ***REMOVED***, args);\n            model = await target[methodMetadata.key](...args);\n      ***REMOVED*** catch (error) {\n            if (!err) {\n                const errorMetadata = await this.getErrorMetadata(error);\n                if (!errorMetadata.viewMetadata.viewName) {\n                    errorMetadata.viewMetadata.viewName = metadata.viewMetadata.viewName;\n              ***REMOVED***\n                await this.doHandle(errorMetadata, error);\n          ***REMOVED*** else {\n            ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n        if (model) {\n            await this.viewResolver.resolve(metadata, model);\n      ***REMOVED***\n        await this.resolveResponse(metadata);\n  ***REMOVED***\n\n    protected async getErrorMetadata(error: Error) {\n        const routeMetadata = await this.routeMetadataMatcher.match(error);\n        if (routeMetadata) {\n            return routeMetadata;\n      ***REMOVED***\n    ***REMOVED***\n  ***REMOVED***\n\n    async canHandle(): Promise<boolean> {\n        return this.requestMatcher.match(await this.pathResolver.resolve(this.mvcPath));\n  ***REMOVED***\n***REMOVED***\n","import { StrOrRegex, ParamMetadata, BodyMetadata, QueryMetadata, RequestHeaderMetadata,\n    ResponseHeaderMetadata, RequestCookieMetadata, ResponseCookieMetadata, RequestSessionMetadata,\n    ResponseSessionMetadata, ViewMetadata, MethodMetadata, CatchMetadata, ControllerMetadata ***REMOVED*** from '../annotation';\nimport { ErrorType ***REMOVED*** from '@malagu/core';\n\nexport const MVC_HANDLER_ADAPTER_PRIORITY = 2000;\n\nexport const RouteProvider = Symbol('RouteProvider');\nexport const RouteMetadataMatcher = Symbol('RouteMetadataMatcher');\n\nexport interface Route {\n    mapping: Map<string, Map<StrOrRegex, RouteMetadata>>;\n    errorMapping: Map<ErrorType, RouteMetadata>;\n***REMOVED***\n\nexport interface RouteMetadata {\n    controllerMetadata: ControllerMetadata;\n    methodMetadata: MethodMetadata | CatchMetadata;\n    paramMetadata?: ParamMetadata[];\n    bodyMetadata?: BodyMetadata[];\n    queryMetadata?: QueryMetadata[];\n    requestHeaderMetadata?: RequestHeaderMetadata[];\n    responseHeaderMetadata?: ResponseHeaderMetadata[];\n    requestCookieMetadata?: RequestCookieMetadata[];\n    responseCookieMetadata?: ResponseCookieMetadata[];\n    requestSessionMetadata?: RequestSessionMetadata[];\n    responseSessionMetadata?: ResponseSessionMetadata[];\n    viewMetadata: ViewMetadata;\n***REMOVED***\n\nexport interface RouteProvider {\n    provide(): Promise<Route>;\n***REMOVED***\n\nexport interface RouteMetadataMatcher {\n    match(error?: Error): Promise<RouteMetadata | undefined>;\n***REMOVED***\n","export * from './handler-adapter';\nexport * from './handler-protocol';\nexport * from './route-builder';\nexport * from './route-provider';\nexport * from './route-metadata-matcher';\n","import { CONTROLLER, ControllerMetadata ***REMOVED*** from '../annotation/controller';\nimport { METADATA_KEY ***REMOVED*** from '../constants';\nimport { StrOrRegex, MethodMetadata ***REMOVED*** from '../annotation/method';\nimport { getOwnMetadata, Component, Autowired, Optional, ErrorType ***REMOVED*** from '@malagu/core';\nimport { PathResolver ***REMOVED*** from '@malagu/web';\nimport { CatchMetadata ***REMOVED*** from '../annotation';\nimport { RouteMetadata ***REMOVED*** from './handler-protocol';\nimport { getTargetClass ***REMOVED*** from '@malagu/core/lib/common/utils/proxy-util';\n\n@Component()\nexport class RouteBuilder {\n\n    @Autowired(CONTROLLER) @Optional\n    protected readonly controllers: any[] = [];\n\n    @Autowired(PathResolver)\n    protected readonly pathResolver: PathResolver;\n\n    async build() {\n        const mapping: Map<string, Map<StrOrRegex, RouteMetadata>> = new Map<string, Map<StrOrRegex, any>>();\n        const errorMapping: Map<ErrorType, any> = new Map<ErrorType, RouteMetadata>();\n\n        for (const controller of this.controllers) {\n            const targetConstructor = getTargetClass(controller);\n\n            const controllerMetadata = <ControllerMetadata>Reflect.getOwnMetadata(METADATA_KEY.controller, targetConstructor);\n            await this.doBuildRouteMap(mapping, targetConstructor, controller, controllerMetadata);\n            await this.doBuildErrorRouteMap(errorMapping, targetConstructor, controller, controllerMetadata);\n\n      ***REMOVED***\n        return {\n            mapping,\n            errorMapping\n        ***REMOVED***\n  ***REMOVED***\n\n    protected async doBuildRouteMap(mapping: Map<string, Map<StrOrRegex, RouteMetadata>>, targetConstructor: any, controller: any, controllerMetadata: ControllerMetadata) {\n\n        const methodMetadata: MethodMetadata[] = getOwnMetadata(\n            METADATA_KEY.controllerMethod,\n            targetConstructor\n        );\n        for (const metadata of methodMetadata) {\n            const routeOptions: any = (typeof metadata.options === 'string' || metadata.options instanceof RegExp) ? { path: metadata.options ***REMOVED*** : metadata.options;\n            const m = { ...metadata ***REMOVED***\n            const method = m.method;\n            m.target = controller;\n            let pathMap = mapping.get(method);\n            if (!pathMap) {\n                pathMap = new Map<StrOrRegex, RouteMetadata>();\n                mapping.set(method, pathMap);\n          ***REMOVED***\n            let path: StrOrRegex = routeOptions.path;\n            if (typeof path === 'string' ) {\n                path = await this.pathResolver.resolve(controllerMetadata.path, path);\n          ***REMOVED*** else if (path instanceof RegExp) {\n                if (controllerMetadata.path) {\n                    path = new RegExp(await this.pathResolver.resolve(controllerMetadata.path, path.source));\n              ***REMOVED***\n          ***REMOVED***\n            pathMap.set(path, {\n                controllerMetadata,\n                methodMetadata: m,\n                ...this.doRouteMetadata(targetConstructor, m.key)\n            ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    protected async doBuildErrorRouteMap(errorMapping: Map<ErrorType, RouteMetadata>, targetConstructor: any, controller: any, controllerMetadata: ControllerMetadata) {\n        const methodMetadata: CatchMetadata[] = getOwnMetadata(\n            METADATA_KEY.controllerCatch,\n            targetConstructor\n        );\n        for (const metadata of methodMetadata) {\n            const m = { ...metadata ***REMOVED***\n            m.target = controller;\n            for (const errorType of metadata.errorTypes) {\n                errorMapping.set(errorType, {\n                    controllerMetadata,\n                    methodMetadata: m,\n                    ...this.doRouteMetadata(targetConstructor, m.key)\n                ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    protected doRouteMetadata(targetConstructor: any, method: string) {\n        return {\n            paramMetadata: getOwnMetadata(METADATA_KEY.controllerParam, targetConstructor, method),\n            bodyMetadata: getOwnMetadata(METADATA_KEY.controllerBody, targetConstructor, method),\n            queryMetadata: getOwnMetadata(METADATA_KEY.controllerQuery, targetConstructor, method),\n            requestHeaderMetadata: getOwnMetadata(METADATA_KEY.controllerRequestHeader, targetConstructor, method),\n            responseHeaderMetadata: getOwnMetadata(METADATA_KEY.controllerResponseHeader, targetConstructor, method),\n            requestCookieMetadata: getOwnMetadata(METADATA_KEY.controllerRequestCookie, targetConstructor, method),\n            responseCookieMetadata: getOwnMetadata(METADATA_KEY.controllerResponseCookie, targetConstructor, method),\n            requestSessionMetadata: getOwnMetadata(METADATA_KEY.controllerRequestSession, targetConstructor, method),\n            responseSessionMetadata: getOwnMetadata(METADATA_KEY.controllerResponseSession, targetConstructor, method),\n            viewMetadata: getOwnMetadata(METADATA_KEY.controllerView, targetConstructor, method) || { ***REMOVED***\n        ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","import { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport { RouteProvider, RouteMetadata, RouteMetadataMatcher ***REMOVED*** from './handler-protocol';\nimport { Context, RequestMatcher ***REMOVED*** from '@malagu/web/lib/node';\n\nexport const PATH_PARMAS_ATTR = 'pathParams';\n\n@Component(RouteMetadataMatcher)\nexport class RouteMetadataMatcherImpl implements RouteMetadataMatcher {\n\n    @Autowired(RouteProvider)\n    protected readonly routeProvider: RouteProvider;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    async match(error?: Error): Promise<RouteMetadata | undefined> {\n        const route = await this.routeProvider.provide();\n        if (error) {\n            const metadata = route.errorMapping.get(error.constructor);\n            if (metadata) {\n                return metadata;\n          ***REMOVED*** else {\n                for (const entry of route.errorMapping) {\n                    if (error instanceof <any>entry[0]) {\n                        return entry[1];\n                  ***REMOVED***\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED*** else {\n            const request = Context.getRequest();\n            const pathMap = route.mapping.get(request.method!.toLowerCase());\n            if (pathMap) {\n                for (const entry of pathMap) {\n                    const [ p, metadata ] = entry;\n                    const pathParams = await this.requestMatcher.match(p);\n                    if (pathParams) {\n                        Context.setAttr(PATH_PARMAS_ATTR, pathParams);\n                        return metadata;\n                  ***REMOVED***\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { Component, Autowired, Deferred ***REMOVED*** from '@malagu/core';\nimport { Route, RouteProvider ***REMOVED*** from './handler-protocol';\nimport { RouteBuilder ***REMOVED*** from './route-builder';\nimport { postConstruct ***REMOVED*** from 'inversify';\n\n@Component(RouteProvider)\nexport class RouteProviderImpl implements RouteProvider {\n\n    protected route: Route;\n\n    protected routeDefered = new Deferred<Route>();\n\n    @Autowired(RouteBuilder)\n    protected readonly routeBuilder: RouteBuilder;\n\n    @postConstruct()\n    protected async init() {\n        this.route = await this.routeBuilder.build();\n        this.routeDefered.resolve(this.route);\n  ***REMOVED***\n\n    provide(): Promise<Route> {\n        return this.routeDefered.promise;\n  ***REMOVED***\n\n***REMOVED***\n","export * from './annotation';\nexport * from './handler';\nexport * from './resolver';\nexport * from './view';\n","import 'reflect-metadata';\nimport { autoBind ***REMOVED*** from '@malagu/core';\nimport '.';\n\nexport default autoBind();\n","export * from './response-resolver';\nexport * from './method-args-resolver';\nexport * from './method-args-resolver-provider';\nexport * from './resolver-protocol';\nexport * from './response-resolver-provider';\nexport * from './view-resolver';\nexport * from './view-resolver-provider';\n","import { Component, Autowired, Prioritizeable ***REMOVED*** from '@malagu/core';\nimport { MethodArgsResolver ***REMOVED*** from './resolver-protocol';\n\n@Component()\nexport class MethodArgsResolverProvider {\n\n    protected prioritized: MethodArgsResolver[];\n\n    constructor(\n        @Autowired(MethodArgsResolver)\n        protected readonly methodArgsResolvers: MethodArgsResolver[]\n    ) { ***REMOVED***\n\n    provide(): MethodArgsResolver[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.methodArgsResolvers).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import { MethodArgsResolver ***REMOVED*** from './resolver-protocol';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { Component ***REMOVED*** from '@malagu/core';\nimport { BodyMetadata, RequestHeaderMetadata, ParamMetadata, QueryMetadata, RequestCookieMetadata, RequestSessionMetadata ***REMOVED*** from '../annotation';\nimport { PATH_PARMAS_ATTR ***REMOVED*** from '../handler';\n\n@Component(MethodArgsResolver)\nexport class BodyMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 100;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const body: any = Context.getCurrent().request.body;\n        const bodyMetadatas = <BodyMetadata[]>metadata.bodyMetadata;\n        if (bodyMetadatas && body !== undefined) {\n            for (const m of bodyMetadatas) {\n                args[m.parameterIndex] = m.name ? body[m.name] : body;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(MethodArgsResolver)\nexport class HeaderMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 200;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const headers: any = Context.getCurrent().request.headers;\n        const headerMetadatas = <RequestHeaderMetadata[]>metadata.requestHeaderMetadata;\n        if (headerMetadatas && headers !== undefined) {\n            for (const m of headerMetadatas) {\n                args[m.parameterIndex] = m.name ? headers[m.name] : headers;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(MethodArgsResolver)\nexport class ParamMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 300;\n\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const params: any = Context.getAttr(PATH_PARMAS_ATTR);\n        const paramMetadatas = <ParamMetadata[]>metadata.paramMetadata;\n        if (paramMetadatas && params) {\n            for (const m of paramMetadatas) {\n                args[m.parameterIndex] = m.name ? params[m.name] : params;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(MethodArgsResolver)\nexport class QueryMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 400;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const query: any = Context.getCurrent().request.query;\n        const queryMetadatas = <QueryMetadata[]>metadata.queryMetadata;\n        if (queryMetadatas && query !== undefined) {\n            for (const m of queryMetadatas) {\n                args[m.parameterIndex] = m.name ? query[m.name] : query;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(MethodArgsResolver)\nexport class CookieMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 500;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const cookies = Context.getCookies();\n        const cookieMetadatas = <RequestCookieMetadata[]>metadata.requestCookieMetadata;\n        if (cookieMetadatas && cookies !== undefined) {\n            for (const m of cookieMetadatas) {\n                args[m.parameterIndex] = m.name ? cookies.get(m.name) : cookies;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(MethodArgsResolver)\nexport class SessionMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 600;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const session = Context.getSession();\n        const sessionMetadatas = <RequestSessionMetadata[]>metadata.requestSessionMetadata;\n        if (sessionMetadatas && session !== undefined) {\n            for (const m of sessionMetadatas) {\n                args[m.parameterIndex] = m.name ? session[m.name] : session;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","\nexport const MethodArgsResolver = Symbol('MethodArgsResolver');\nexport const ResponseResolver = Symbol('ResponseResolver');\nexport const ViewResolver = Symbol('ViewResolver');\n\nexport interface MethodArgsResolver {\n    readonly priority: number;\n    resolve(metadata: any, args: any[]): Promise<void>;\n***REMOVED***\n\nexport interface ResponseResolver {\n    readonly priority: number;\n    resolve(metadata: any): Promise<void>;\n***REMOVED***\n\nexport interface ViewResolver {\n    resolve(metadata: any, model: any): Promise<void>;\n***REMOVED***\n","import { Component, Autowired, Prioritizeable ***REMOVED*** from '@malagu/core';\nimport { ResponseResolver ***REMOVED*** from './resolver-protocol';\n\n@Component()\nexport class ResponseResolverProvider {\n\n    protected prioritized: ResponseResolver[];\n\n    constructor(\n        @Autowired(ResponseResolver)\n        protected readonly responseResolvers: ResponseResolver[]\n    ) { ***REMOVED***\n\n    provide(): ResponseResolver[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.responseResolvers).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import { ResponseResolver ***REMOVED*** from './resolver-protocol';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { Component ***REMOVED*** from '@malagu/core';\nimport { ResponseHeaderMetadata, ResponseCookieMetadata, ResponseSessionMetadata ***REMOVED*** from '../annotation';\n\n@Component(ResponseResolver)\nexport class HeaderResponseResolver implements ResponseResolver {\n    readonly priority = 500;\n    async resolve(metadata: any): Promise<void> {\n        const response = Context.getCurrent().response;\n        const headerMetadatas = <ResponseHeaderMetadata[]>metadata.responseHeaderMetadata;\n        if (headerMetadatas) {\n            for (const m of headerMetadatas) {\n                response.setHeader(m.name, m.value);\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(ResponseResolver)\nexport class CookieResponseResolver implements ResponseResolver {\n    readonly priority = 500;\n    async resolve(metadata: any): Promise<void> {\n        const cookies = Context.getCookies();\n        const cookieMetadatas = <ResponseCookieMetadata[]>metadata.responseCookieMetadata;\n        if (cookieMetadatas && cookies) {\n            for (const m of cookieMetadatas) {\n                cookies.set(m.name, m.value);\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(ResponseResolver)\nexport class SessionResponseResolver implements ResponseResolver {\n    readonly priority = 500;\n    async resolve(metadata: any): Promise<void> {\n        const session = Context.getSession();\n        const sessionMetadatas = <ResponseSessionMetadata[]>metadata.responseSessionMetadata;\n        if (sessionMetadatas && session) {\n            for (const m of sessionMetadatas) {\n                session[m.name] = m.value;\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","import { Component, Autowired, Prioritizeable ***REMOVED*** from '@malagu/core';\nimport { ViewResolver ***REMOVED*** from './resolver-protocol';\n\n@Component()\nexport class ViewResolverProvider {\n\n    protected prioritized: ViewResolver[];\n\n    constructor(\n        @Autowired(ViewResolver)\n        protected readonly viewResolvers: ViewResolver[]\n    ) { ***REMOVED***\n\n    provide(): ViewResolver[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.viewResolvers).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import { ViewResolver ***REMOVED*** from './resolver-protocol';\nimport { Component, Autowired, Value ***REMOVED*** from '@malagu/core';\nimport { ViewProvider ***REMOVED*** from '../view/view-provider';\nimport { ViewMetadata ***REMOVED*** from '../annotation/view';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(ViewResolver)\nexport class ViewResolverImpl implements ViewResolver {\n\n    @Value('malagu.mvc.defaultViewName')\n    protected readonly defaultViewName: string;\n\n    @Autowired\n    protected readonly viewProvider: ViewProvider;\n\n    async resolve(metadata: any, model: any): Promise<void> {\n        const viewMetadata = <ViewMetadata>metadata.viewMetadata;\n        const viewName = viewMetadata.viewName || this.defaultViewName;\n        for (const view of this.viewProvider.provide()) {\n            if (await view.support(viewName)) {\n                Context.getResponse().setHeader('Content-type', view.contentType);\n                await view.render(model, viewName);\n            ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n        throw new Error('Not found a suitable view.');\n  ***REMOVED***\n***REMOVED***\n","import { Component, Value ***REMOVED*** from '@malagu/core';\nimport { View ***REMOVED*** from './view-protocol';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { render, parse ***REMOVED*** from 'mustache';\nimport { join ***REMOVED*** from 'path';\nimport { readFileSync ***REMOVED*** from 'fs-extra';\n\n@Component(View)\nexport class HtmlView implements View {\n\n    readonly contentType = 'text/html';\n\n    readonly priority = 500;\n\n    @Value('malagu.mustache')\n    protected readonly options: any;\n\n    async render(model: any, viewName: string): Promise<void> {\n        const response = Context.getCurrent().response;\n        const { baseViewDir, cache ***REMOVED*** = this.options;\n        const template = readFileSync(join(__dirname, baseViewDir, viewName), { encoding: 'utf8' ***REMOVED***\n        if (cache) {\n            parse(template);\n      ***REMOVED***\n        response.body = render(template, model);\n  ***REMOVED***\n\n    support(viewName: string): Promise<boolean> {\n        return Promise.resolve(viewName.endsWith('.mustache'));\n  ***REMOVED***\n***REMOVED***\n","export * from './json-view';\nexport * from './text-view';\nexport * from './view-provider';\nexport * from './html-view';\n","import { Component ***REMOVED*** from '@malagu/core';\nimport { View ***REMOVED*** from './view-protocol';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(View)\nexport class JsonView implements View {\n\n    static VIEW_NAME = 'json';\n\n    readonly contentType = 'application/json';\n\n    readonly priority = 500;\n\n    async render(model: any, viewName: string): Promise<void> {\n        const response = Context.getCurrent().response;\n        response.body = JSON.stringify(model);\n  ***REMOVED***\n\n    support(viewName: string): Promise<boolean> {\n        return Promise.resolve(viewName === JsonView.VIEW_NAME);\n  ***REMOVED***\n***REMOVED***\n","import { Component ***REMOVED*** from '@malagu/core';\nimport { View ***REMOVED*** from './view-protocol';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(View)\nexport class TextView implements View {\n\n    static VIEW_NAME = 'text';\n\n    readonly contentType = 'text/plain';\n\n    readonly priority = 600;\n\n    async render(model: any, viewName: string): Promise<void> {\n        const response = Context.getCurrent().response;\n        response.body = model;\n  ***REMOVED***\n\n    support(viewName: string): Promise<boolean> {\n        return Promise.resolve(viewName === TextView.VIEW_NAME);\n  ***REMOVED***\n***REMOVED***\n","export const View = Symbol('View');\n\nexport interface View {\n    readonly contentType: string;\n    render(model: any, viewName: string): Promise<void>;\n    support(viewName: string): Promise<boolean>;\n***REMOVED***\n","import { Component, Autowired, Prioritizeable ***REMOVED*** from '@malagu/core';\nimport { View ***REMOVED*** from './view-protocol';\n\n@Component()\nexport class ViewProvider {\n\n    protected prioritized: View[];\n\n    constructor(\n        @Autowired(View)\n        protected readonly views: View[]\n    ) { ***REMOVED***\n\n    provide(): View[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.views).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import { autoBind ***REMOVED*** from '@malagu/core';\n\nexport default autoBind();\n","import { AutowiredDecorator, getAutowiredOption, applyAutowiredDecorator ***REMOVED*** from '@malagu/core';\nimport { inject, named ***REMOVED*** from 'inversify';\nimport { ServiceIdentifierOrFunc ***REMOVED*** from 'inversify/dts/annotation/inject';\n\nexport const RPC = Symbol('RPC');\n\nexport const Autorpc = <AutowiredDecorator>function (target: any, targetKey: string, index?: number) {\n    const option = getAutowiredOption(target, targetKey, index);\n    const doInject = (id: ServiceIdentifierOrFunc, isMulti: boolean, t: any, k: string, i?: number) => {\n        inject(RPC)(t, k, i);\n        named(id.toString())(t, k, i);\n    ***REMOVED***\n\n    if (targetKey === undefined) {\n        return (t: any, tk: string, i?: number) => {\n            applyAutowiredDecorator(option, t, tk, i, doInject);\n        ***REMOVED***\n\n  ***REMOVED*** else {\n        applyAutowiredDecorator(option, target, targetKey, index, doInject);\n  ***REMOVED***\n***REMOVED***\n","export * from './rpc';\nexport * from './autorpc';\n","import { interfaces ***REMOVED*** from 'inversify';\nimport { fluentProvide ***REMOVED*** from 'inversify-binding-decorators';\nimport { ConnectionHandler, NoOpConnectionHandler, JsonRpcConnectionHandler ***REMOVED*** from '../jsonrpc';\nimport {applyComponentDecorator ***REMOVED*** from '@malagu/core';\nimport { PipeManager ***REMOVED*** from '@malagu/core';\n\nexport const Rpc = (id: interfaces.ServiceIdentifier<any>) => (target: any) => {\n    applyComponentDecorator({ id, proxy: true ***REMOVED***, target);\n    fluentProvide(ConnectionHandler).inSingletonScope().onActivation(context => {\n        const t = context.container.get(id);\n        const pipeManager = context.container.get<PipeManager>(PipeManager);\n        return new JsonRpcConnectionHandler(id.toString(), () => t, pipeManager);\n  ***REMOVED***).done(true)(NoOpConnectionHandler);\n***REMOVED***\n","export const RPC_PATH = 'malagu.rpc.path';\n","export * from './annotation';\nexport * from './jsonrpc';\nexport * from './constants';\n","import { Disposable ***REMOVED*** from 'vscode-jsonrpc';\nimport { DisposableCollection ***REMOVED*** from '@malagu/core';\n\nexport interface Channel {\n    handleMessage(message: Channel.Message): void;\n    send(content: string): void;\n    onMessage(cb: (data: any) => void): void;\n***REMOVED***\n\nexport namespace Channel {\n    export interface OpenMessage {\n        kind: 'open'\n        id: number\n        path: string\n  ***REMOVED***\n    export interface ReadyMessage {\n        kind: 'ready'\n        id: number\n  ***REMOVED***\n    export interface DataMessage {\n        kind: 'data'\n        id: number\n        content: string\n  ***REMOVED***\n    export interface CloseMessage {\n        kind: 'close'\n        id: number\n        code: number\n        reason: string\n  ***REMOVED***\n    export interface HttpMessage {\n        kind: 'http'\n        id: number\n        path?: string\n        content: string\n  ***REMOVED***\n    export type Message = OpenMessage | ReadyMessage | DataMessage | CloseMessage | HttpMessage;\n***REMOVED***\n\nexport abstract class AbstractChannel implements Channel, Disposable {\n\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(\n        readonly id: number,\n        protected readonly doSend: (content: string) => Promise<void>\n    ) { ***REMOVED***\n\n    dispose(): void {\n        this.toDispose.dispose();\n  ***REMOVED***\n\n    protected checkNotDisposed(): void {\n        if (this.toDispose.disposed) {\n            throw new Error('The channel has been disposed.');\n      ***REMOVED***\n  ***REMOVED***\n\n    abstract handleMessage(message: Channel.Message): void;\n\n    abstract doGetMessage(content: string): Channel.Message;\n\n    send(content: string): void {\n        this.checkNotDisposed();\n        this.doSend(JSON.stringify(this.doGetMessage(content)));\n  ***REMOVED***\n\n    protected fireMessage: (data: any) => void = () => { ***REMOVED***\n    onMessage(cb: (data: any) => void): void {\n        this.checkNotDisposed();\n        this.fireMessage = cb;\n        this.toDispose.push(Disposable.create(() => this.fireMessage = () => { ***REMOVED***));\n  ***REMOVED***\n\n    fireError: (reason: any) => void = () => { ***REMOVED***\n    onError(cb: (reason: any) => void): void {\n        this.checkNotDisposed();\n        this.fireError = cb;\n        this.toDispose.push(Disposable.create(() => this.fireError = () => { ***REMOVED***));\n  ***REMOVED***\n\n***REMOVED***\n","import { MessageConnection, createMessageConnection, Logger ***REMOVED*** from 'vscode-jsonrpc';\nimport { Channel ***REMOVED*** from './channel-protocol';\nimport { ChannelMessageReader ***REMOVED*** from './reader';\nimport { ChannelMessageWriter ***REMOVED*** from './writer';\nimport { Component ***REMOVED*** from '@malagu/core';\n\nexport const ConnnectionFactory = Symbol('ConnnectionFactory');\n\nexport interface ConnnectionFactory<T> {\n    create(t: T, logger: Logger): MessageConnection;\n***REMOVED***\n@Component(ConnnectionFactory)\nexport class ConnnectionFactoryImpl implements ConnnectionFactory<Channel> {\n    create(channel: Channel, logger: Logger): MessageConnection {\n        const messageReader = new ChannelMessageReader(channel);\n        const messageWriter = new ChannelMessageWriter(channel);\n        const connection = createMessageConnection(messageReader, messageWriter, logger);\n        connection.onClose(() => connection.dispose());\n        return connection;\n  ***REMOVED***\n***REMOVED***\n","import { MessageConnection ***REMOVED*** from 'vscode-jsonrpc';\n\nexport const ConnectionHandler = Symbol('ConnectionHandler');\n\nexport interface ConnectionHandler {\n    readonly path: string;\n    onConnection(connection: MessageConnection): void;\n***REMOVED***\n\nexport class NoOpConnectionHandler implements ConnectionHandler {\n    readonly path: string;\n    onConnection(connection: MessageConnection): void {***REMOVED***\n***REMOVED***\n","import { Channel, AbstractChannel ***REMOVED*** from './channel-protocol';\n\nexport class HttpChannel extends AbstractChannel {\n\n    constructor(\n        id: number,\n        doSend: (content: string) => Promise<void>,\n        protected readonly path?: string\n    ) {\n        super(id, doSend);\n  ***REMOVED***\n\n    protected checkNotDisposed(): void {\n        // noop\n  ***REMOVED***\n\n    handleMessage(message: Channel.HttpMessage) {\n        this.fireMessage(message.content);\n  ***REMOVED***\n\n    doGetMessage(content: string): Channel.Message {\n        return <Channel.HttpMessage>{\n            kind: 'http',\n            id: this.id,\n            path: this.path,\n            content\n        ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","export * from './handler';\nexport * from './proxy-factory';\nexport * from './http-channel';\nexport * from './connection-factory';\nexport * from './reader';\nexport * from './writer';\nexport * from './channel-protocol';\n","import { MessageConnection, ResponseError, Emitter, Event ***REMOVED*** from 'vscode-jsonrpc';\nimport { ConnectionHandler ***REMOVED*** from './handler';\nimport { ApplicationError, Disposable ***REMOVED*** from '@malagu/core';\nimport { PipeManager ***REMOVED*** from '@malagu/core';\n\nexport type JsonRpcServer<Client> = Disposable & {\n    /**\n     * If this server is a proxy to a remote server then\n     * a client is used as a local object\n     * to handle JSON-RPC messages from the remote server.\n     */\n    setClient(client: Client | undefined): void;\n***REMOVED***\n\nexport interface JsonRpcConnectionEventEmitter {\n    readonly onDidOpenConnection: Event<void> ;\n    readonly onDidCloseConnection: Event<void>;\n***REMOVED***\nexport type JsonRpcProxy<T> = T & JsonRpcConnectionEventEmitter;\n\nexport class JsonRpcConnectionHandler<T extends object> implements ConnectionHandler {\n    constructor(\n        readonly path: string,\n        readonly targetFactory: (proxy: JsonRpcProxy<T>) => any,\n        readonly pipeManager: PipeManager\n    ) { ***REMOVED***\n\n    onConnection(connection: MessageConnection): void {\n        const factory = new JsonRpcProxyFactory<T>(undefined, this.pipeManager);\n        const proxy = factory.createProxy();\n        factory.target = this.targetFactory(proxy);\n        factory.listen(connection);\n  ***REMOVED***\n***REMOVED***\n\nexport class JsonRpcProxyFactory<T extends object> implements ProxyHandler<T> {\n\n    private static SET_CLIENT = 'setClient';\n    private static ON_DID_OPEN_CONNECTION = 'onDidOpenConnection';\n    private static ON_DID_CLOSE_CONNECTION = 'onDidCloseConnection';\n    private readonly onDidOpenConnectionEmitter = new Emitter<void>();\n    private readonly onDidCloseConnectionEmitter = new Emitter<void>();\n    protected internalMethods: Map<string, () => any>;\n\n    protected connectionPromiseResolve: (connection: MessageConnection) => void;\n    protected connectionPromise: Promise<MessageConnection>;\n\n    constructor(public target?: any, protected pipeMananger?: PipeManager) {\n        this.waitForConnection();\n  ***REMOVED***\n\n    protected waitForConnection(): void {\n        this.connectionPromise = new Promise(resolve =>\n            this.connectionPromiseResolve = resolve\n        );\n        this.connectionPromise.then(connection => {\n            connection.onClose(() =>\n                this.onDidCloseConnectionEmitter.fire(undefined)\n            );\n            this.onDidOpenConnectionEmitter.fire(undefined);\n        ***REMOVED***\n  ***REMOVED***\n\n    protected registerMethods(connection: MessageConnection) {\n        if (this.target) {\n            for (const prop in this.target) {\n                if (typeof this.target[prop] === 'function') {\n                    connection.onRequest(prop, (...args) => this.onRequest(prop, ...args));\n                    connection.onNotification(prop, (...args) => this.onNotification(prop, ...args));\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    listen(connection: MessageConnection) {\n        this.registerMethods(connection);\n        connection.onDispose(() => this.waitForConnection());\n        connection.listen();\n        this.connectionPromiseResolve(connection);\n  ***REMOVED***\n\n    protected async onRequest(method: string, ...args: any[]): Promise<any> {\n      ***REMOVED***\n            if (this.pipeMananger) {\n                await this.pipeMananger.apply({ target: this.target, method: method ***REMOVED***, args);\n          ***REMOVED***\n            return await this.target[method](...args);\n      ***REMOVED*** catch (error) {\n            const e = this.serializeError(error);\n            if (e instanceof ResponseError) {\n                throw e;\n          ***REMOVED***\n            const reason = e.message || '';\n            const stack = e.stack || '';\n            console.error(`Request ${method***REMOVED*** failed with error: ${reason***REMOVED***`, stack);\n            throw e;\n      ***REMOVED***\n  ***REMOVED***\n\n    protected onNotification(method: string, ...args: any[]): void {\n        this.target[method](...args);\n  ***REMOVED***\n\n    createProxy(): JsonRpcProxy<T> {\n        const proxy = new Proxy<T>(this as any, this);\n        return proxy as any;\n  ***REMOVED***\n\n    get(target: T, p: PropertyKey, receiver: any): any {\n        const method = this.getInternalMethod(p.toString());\n        if (method) {\n            return method;\n      ***REMOVED***\n        return this.createProxyMethod(p.toString());\n  ***REMOVED***\n\n    protected getInternalMethod(method: string) {\n        if (method === JsonRpcProxyFactory.SET_CLIENT) {\n            return  (client: any) => this.target = client;\n      ***REMOVED***\n        if (method === JsonRpcProxyFactory.ON_DID_OPEN_CONNECTION) {\n            return this.onDidOpenConnectionEmitter.event;\n      ***REMOVED***\n        if (method === JsonRpcProxyFactory.ON_DID_CLOSE_CONNECTION) {\n            return this.onDidCloseConnectionEmitter.event;\n      ***REMOVED***\n  ***REMOVED***\n\n    protected createProxyMethod(method: string) {\n        const isNotify = this.isNotification(method);\n        return async (...args: any[]) => {\n            const capturedError = new Error(`Request '${method***REMOVED***' failed`);\n            const connection =  await this.connectionPromise;\n            if (isNotify) {\n                connection.sendNotification(method, ...args);\n          ***REMOVED*** else {\n              ***REMOVED***\n                    return await connection.sendRequest(method, ...args) as Promise<any>;\n              ***REMOVED*** catch (err) {\n                    throw this.deserializeError(capturedError, err);\n              ***REMOVED***\n          ***REMOVED***\n        ***REMOVED***\n  ***REMOVED***\n\n    protected isNotification(p: PropertyKey): boolean {\n        return p.toString().startsWith('notify') || p.toString().startsWith('on');\n  ***REMOVED***\n\n    protected serializeError(e: any): any {\n        if (ApplicationError.is(e)) {\n            return new ResponseError(e.code, '',\n                Object.assign({ kind: 'application' ***REMOVED***, e.toJson())\n            );\n      ***REMOVED***\n        return e;\n  ***REMOVED***\n    protected deserializeError(capturedError: Error, e: any): any {\n        if (e instanceof ResponseError) {\n            const capturedStack = capturedError.stack || '';\n            if (e.data && e.data.kind === 'application') {\n                const { stack, data, message ***REMOVED*** = e.data;\n                return ApplicationError.fromJson(e.code, {\n                    message: message || capturedError.message,\n                    data,\n                    stack: `${capturedStack***REMOVED***\\nCaused by: ${stack***REMOVED***`\n                ***REMOVED***\n          ***REMOVED***\n            e.stack = capturedStack;\n      ***REMOVED***\n        return e;\n  ***REMOVED***\n\n***REMOVED***\n","import { DataCallback, PartialMessageInfo ***REMOVED*** from 'vscode-jsonrpc/lib/messageReader';\nimport { Channel ***REMOVED*** from './channel-protocol';\nimport { Emitter, Event ***REMOVED*** from 'vscode-jsonrpc/lib/events';\n\nexport abstract class AbstractMessageReader {\n\n    private errorEmitter: Emitter<Error>;\n    private closeEmitter: Emitter<void>;\n\n    private partialMessageEmitter: Emitter<PartialMessageInfo>;\n\n    constructor() {\n        this.errorEmitter = new Emitter<Error>();\n        this.closeEmitter = new Emitter<void>();\n        this.partialMessageEmitter = new Emitter<PartialMessageInfo>();\n  ***REMOVED***\n\n    public dispose(): void {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n  ***REMOVED***\n\n    public get onError(): Event<Error> {\n        return this.errorEmitter.event;\n  ***REMOVED***\n\n    protected fireError(error: any): void {\n        this.errorEmitter.fire(this.asError(error));\n  ***REMOVED***\n\n    public get onClose(): Event<void> {\n        return this.closeEmitter.event;\n  ***REMOVED***\n\n    protected fireClose(): void {\n        this.closeEmitter.fire(undefined);\n  ***REMOVED***\n\n    public get onPartialMessage(): Event<PartialMessageInfo> {\n        return this.partialMessageEmitter.event;\n  ***REMOVED***\n\n    protected firePartialMessage(info: PartialMessageInfo): void {\n        this.partialMessageEmitter.fire(info);\n  ***REMOVED***\n\n    private asError(error: any): Error {\n        if (error instanceof Error) {\n            return error;\n      ***REMOVED*** else {\n            return new Error(`Reader received error. Reason: ${typeof (error.message) === 'string' ? error.message : 'unknown'***REMOVED***`);\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\nexport class ChannelMessageReader extends AbstractMessageReader {\n\n    protected state: 'initial' | 'listening' | 'closed' = 'initial';\n    protected callback: DataCallback | undefined;\n    protected readonly events: { message?: any, error?: any ***REMOVED***[] = [];\n\n    constructor(protected readonly channel: Channel) {\n        super();\n        this.channel.onMessage(message =>\n            this.readMessage(message)\n        );\n  ***REMOVED***\n\n    listen(callback: DataCallback): void {\n        if (this.state === 'initial') {\n            this.state = 'listening';\n            this.callback = callback;\n            while (this.events.length !== 0) {\n                const event = this.events.pop()!;\n                if (event.message) {\n                    this.readMessage(event.message);\n              ***REMOVED*** else if (event.error) {\n                    this.fireError(event.error);\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    protected readMessage(message: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { message ***REMOVED***\n      ***REMOVED*** else if (this.state === 'listening') {\n            const data = JSON.parse(message);\n            this.callback!(data);\n      ***REMOVED***\n  ***REMOVED***\n\n    protected fireError(error: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { error ***REMOVED***\n      ***REMOVED*** else if (this.state === 'listening') {\n            super.fireError(error);\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { Message ***REMOVED*** from 'vscode-jsonrpc/lib/messages';\nimport { ***REMOVED*** from 'vscode-jsonrpc/lib/messageWriter';\nimport { Channel ***REMOVED*** from './channel-protocol';\nimport { Emitter, Event ***REMOVED*** from 'vscode-jsonrpc/lib/events';\n\nexport abstract class AbstractMessageWriter {\n\n    private errorEmitter: Emitter<[Error, Message | undefined, number | undefined]>;\n    private closeEmitter: Emitter<void>;\n\n    constructor() {\n        this.errorEmitter = new Emitter<[Error, Message, number]>();\n        this.closeEmitter = new Emitter<void>();\n  ***REMOVED***\n\n    public dispose(): void {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n  ***REMOVED***\n\n    public get onError(): Event<[Error, Message | undefined, number | undefined]> {\n        return this.errorEmitter.event;\n  ***REMOVED***\n\n    protected fireError(error: any, message?: Message, count?: number): void {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n  ***REMOVED***\n\n    public get onClose(): Event<void> {\n        return this.closeEmitter.event;\n  ***REMOVED***\n\n    protected fireClose(): void {\n        this.closeEmitter.fire(undefined);\n  ***REMOVED***\n\n    private asError(error: any): Error {\n        if (error instanceof Error) {\n            return error;\n      ***REMOVED*** else {\n            return new Error(`Writer received error. Reason: ${typeof error.message === 'string' ? error.message : 'unknown'***REMOVED***`);\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\nexport class ChannelMessageWriter extends AbstractMessageWriter {\n\n    protected errorCount = 0;\n\n    constructor(protected readonly channel: Channel) {\n        super();\n  ***REMOVED***\n\n    write(msg: Message): void {\n      ***REMOVED***\n            const content = JSON.stringify(msg);\n            this.channel.send(content);\n      ***REMOVED*** catch (e) {\n            this.errorCount++;\n            this.fireError(e, msg, this.errorCount);\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { Context, NotFoundError ***REMOVED*** from '@malagu/web/lib/node';\nimport { optional ***REMOVED*** from 'inversify';\nimport { ConnectionHandler, ConnnectionFactory, Channel ***REMOVED*** from '../../common';\nimport { Component, Autowired, ConsoleLogger ***REMOVED*** from '@malagu/core';\nimport { CURRENT_CHANNEL_STRATEGY_REQUEST_KEY, ChannelStrategy ***REMOVED*** from './channel-protocol';\n\n// tslint:disable:no-any\n@Component()\nexport class ChannelManager {\n\n    protected _handlers = new Map<string, ConnectionHandler>();\n\n    constructor(\n        @Autowired(ConnectionHandler) @optional()\n        protected readonly handlers: ConnectionHandler[],\n        @Autowired(ConnnectionFactory) protected connnectionFactory: ConnnectionFactory<Channel>\n    ) {\n        for (const handler of handlers) {\n            this._handlers.set(handler.path, handler);\n      ***REMOVED***\n  ***REMOVED***\n\n    async handleChannels(): Promise<void> {\n        const channelStrategy: ChannelStrategy = Context.getAttr(CURRENT_CHANNEL_STRATEGY_REQUEST_KEY);\n        await channelStrategy.handleChannels(async () => {\n            const { id, path ***REMOVED*** = (await channelStrategy.getMessage() as any);\n            if (path) {\n                const handler = this._handlers.get(this.getRealPath(path));\n                if (handler) {\n                    const channel = await channelStrategy.createChannel(id);\n                    handler.onConnection(this.connnectionFactory.create(channel, new ConsoleLogger()));\n                    return channel;\n              ***REMOVED***\n          ***REMOVED***\n            throw new NotFoundError(`Cannot find a service for the path: ${path***REMOVED***`);\n        ***REMOVED***\n  ***REMOVED***\n\n    protected getRealPath(path: string): string {\n        return <string>path.split(':').pop();\n  ***REMOVED***\n\n***REMOVED***\n","import { Middleware, Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport { ChannelStrategy, CHANNEL_MIDDLEWARE_PRIORITY, CURRENT_CHANNEL_STRATEGY_REQUEST_KEY ***REMOVED*** from './channel-protocol';\n\n@Component(Middleware)\nexport class ChannelMiddleware implements Middleware {\n\n    @Autowired(ChannelStrategy)\n    protected readonly channelStrategies: ChannelStrategy[];\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        for (const channelStrategy of this.channelStrategies) {\n            if (await channelStrategy.support()) {\n                Context.setAttr(CURRENT_CHANNEL_STRATEGY_REQUEST_KEY, channelStrategy);\n                break;\n          ***REMOVED***\n      ***REMOVED***\n\n        ctx.response.setHeader('Content-Type', 'application/json;charset=utf8');\n\n        await next();\n  ***REMOVED***\n\n    readonly priority = CHANNEL_MIDDLEWARE_PRIORITY;\n\n***REMOVED***\n","import { Channel ***REMOVED*** from '../../common';\n\nexport const ChannelStrategy = Symbol('ChannelStrategy');\n\nexport const CHANNEL_MIDDLEWARE_PRIORITY = 2100;\n\nexport const CURRENT_CHANNEL_STRATEGY_REQUEST_KEY = 'CurrentChannelStrategyRequest';\n\nexport interface ChannelStrategy {\n\n    getMessage(): Promise<Channel.Message>;\n\n    handleMessage(message: any): Promise<void>;\n\n    createChannel(id: number): Promise<Channel>\n\n    handleChannels(channelFactory: () => Promise<Channel>): Promise<void>;\n\n    support(): Promise<boolean>;\n\n***REMOVED***\n","import { Channel, HttpChannel ***REMOVED*** from '../../common/jsonrpc';\nimport { ChannelStrategy ***REMOVED*** from './channel-protocol';\nimport { Component, Deferred ***REMOVED*** from '@malagu/core';\nimport { Context, HttpContext ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(ChannelStrategy)\nexport class HttpChannelStrategy implements ChannelStrategy {\n    getMessage(): Promise<Channel.Message> {\n        return Context.getRequest().body;\n  ***REMOVED***\n\n    async createChannel(id: number): Promise<Channel> {\n        return new HttpChannel(id, async content => {\n            this.handleMessage(content);\n        ***REMOVED***\n  ***REMOVED***\n\n    async handleChannels(channelFactory: () => Promise<Channel>): Promise<void> {\n        const channel = await channelFactory();\n        channel.handleMessage(await this.getMessage());\n        Context.getResponse().body = new Deferred<any>();\n  ***REMOVED***\n\n    async handleMessage(message: string): Promise<void> {\n        const deferred = Context.getResponse().body;\n        deferred.resolve(message);\n  ***REMOVED***\n\n    async support(): Promise<boolean> {\n        return Context.getCurrent() instanceof HttpContext;\n  ***REMOVED***\n\n***REMOVED***\n","export * from './channel-manager';\nexport * from './channel-protocol';\nexport * from './channel-strategy';\nexport * from './channel-middleware';\n","import { Component, Autowired, Value ***REMOVED*** from '@malagu/core';\nimport { ChannelManager ***REMOVED*** from '../channel';\nimport { RPC_HANDLER_ADAPTER_PRIORITY ***REMOVED*** from './handler-protocol';\nimport { RequestMatcher, HandlerAdapter ***REMOVED*** from '@malagu/web/lib/node';\nimport { PathResolver ***REMOVED*** from '@malagu/web';\nimport { RPC_PATH ***REMOVED*** from '../../common';\n\nexport const PATH_PARMAS_ATTR = 'pathParams';\n\n@Component(HandlerAdapter)\nexport class RpcHandlerAdapter implements HandlerAdapter {\n    readonly priority = RPC_HANDLER_ADAPTER_PRIORITY;\n\n    @Autowired\n    protected readonly channelManager: ChannelManager;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    @Autowired(PathResolver)\n    protected readonly pathResolver: PathResolver;\n\n    @Value(RPC_PATH)\n    protected readonly rpcPath: string;\n\n    handle(): Promise<void> {\n        return this.channelManager.handleChannels();\n  ***REMOVED***\n\n    async canHandle(): Promise<boolean> {\n        return this.requestMatcher.match(await this.pathResolver.resolve(this.rpcPath));\n  ***REMOVED***\n\n***REMOVED***\n","export const RPC_HANDLER_ADAPTER_PRIORITY = 1000;\n","export * from './handler-adapter';\nexport * from './handler-protocol';\n","export * from './channel';\nexport * from './handler';\n","import '../common';\nimport { autoBind ***REMOVED*** from '@malagu/core';\nimport '.';\n\nexport default autoBind();\n","import { AccessDecisionManager, SecurityMetadata, AccessDecisionVoter, ACCESS_DENIED, ACCESS_GRANTED ***REMOVED*** from './access-protocol';\nimport { Component, Prioritizeable, Autowired ***REMOVED*** from '@malagu/core';\nimport { AccessDeniedError ***REMOVED*** from '../error';\n\n@Component(AccessDecisionManager)\nexport class AccessDecisionManagerImpl implements AccessDecisionManager {\n\n    protected prioritized: AccessDecisionVoter[];\n\n    constructor(\n        @Autowired(AccessDecisionVoter)\n        protected readonly accessDecisionVoters: AccessDecisionVoter[]\n    ) {\n        this.prioritized = Prioritizeable.prioritizeAllSync(this.accessDecisionVoters).map(c => c.value);\n  ***REMOVED***\n\n    async decide(securityMetadata: SecurityMetadata): Promise<void> {\n        let grant = 0;\n        for (const voter of this.prioritized) {\n            if (await voter.support(securityMetadata)) {\n                const result = await voter.vote(securityMetadata);\n                if (result === ACCESS_DENIED) {\n                    throw new AccessDeniedError('Access is denied');\n              ***REMOVED*** else if (result === ACCESS_GRANTED) {\n                    grant++;\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n        if (grant <= 0) {\n            throw new AccessDeniedError('Access is denied');\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { SecurityMetadata, AccessDecisionVoter, ACCESS_DENIED, ACCESS_GRANTED,\n    POLICY_BASED_VOTER_PRIORITY, PolicyResolver, PrincipalPolicyProvider, ResourcePolicyProvider ***REMOVED*** from './access-protocol';\nimport { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport { AuthorizeType ***REMOVED*** from '../annotation';\n\n@Component(AccessDecisionVoter)\nexport class PolicyBasedVoter implements AccessDecisionVoter {\n\n    readonly priority = POLICY_BASED_VOTER_PRIORITY;\n\n    @Autowired(PolicyResolver)\n    protected readonly policyResolvers: PolicyResolver[];\n\n    @Autowired(ResourcePolicyProvider)\n    protected readonly resourcePolicyProvider: ResourcePolicyProvider;\n\n    @Autowired(PrincipalPolicyProvider)\n    protected readonly principalPolicyProvider: PrincipalPolicyProvider;\n\n    async vote(securityMetadata: SecurityMetadata): Promise<number> {\n\n        const principalPolicies = await this.principalPolicyProvider.provide(securityMetadata.principal, securityMetadata.authorizeType);\n        const resourcePolicies = await this.resourcePolicyProvider.provide(securityMetadata.resource, securityMetadata.authorizeType);\n        const policies = [ ...principalPolicies, ...resourcePolicies, ...securityMetadata.policies ];\n        let grant = 0;\n        for (const policy of policies) {\n            for (const policyResolver of this.policyResolvers) {\n                if (await policyResolver.support(policy)) {\n                    if (await policyResolver.resolve(policy, securityMetadata)) {\n                        grant++;\n                  ***REMOVED*** else {\n                        return ACCESS_DENIED;\n                  ***REMOVED***\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n        if (securityMetadata.authorizeType === AuthorizeType.Post || grant > 0) {\n            return ACCESS_GRANTED;\n      ***REMOVED***\n        return ACCESS_DENIED;\n  ***REMOVED***\n\n    async support(securityMetadata: SecurityMetadata): Promise<boolean> {\n        return true;\n  ***REMOVED***\n\n***REMOVED***\n","import { AuthorizeType ***REMOVED*** from '../annotation/authorize';\n\nexport const AccessDecisionManager = Symbol('AccessDecisionManager');\nexport const AccessDecisionVoter = Symbol('AccessDecisionVoter');\nexport const SecurityMetadataSource = Symbol('SecurityMetadataSource');\nexport const PolicyResolver = Symbol('PolicyResolver');\nexport const SecurityExpressionContextHandler = Symbol('SecurityExpressionContextHandler');\nexport const ResourcePolicyProvider = Symbol('ResourcePolicyProvider');\nexport const PrincipalPolicyProvider = Symbol('PrincipalPolicyProvider');\nexport const PolicyFactory = Symbol('PolicyFactory');\n\nexport const SECURITY_EXPRESSION_CONTEXT_KEY = 'SecurityExpressionContext';\n\nexport const ACCESS_GRANTED = 1;\nexport const ACCESS_ABSTAIN = 0;\nexport const ACCESS_DENIED = -1;\n\nexport const POLICY_BASED_VOTER_PRIORITY = 2000;\n\nexport enum PolicyType {\n    El= 'el'\n***REMOVED***\n\nexport interface Policy {\n    type: PolicyType | string\n    authorizeType: AuthorizeType;\n    [key: string]: any;\n***REMOVED***\n\nexport interface ResourcePolicyProvider {\n    provide(resource: string, type: AuthorizeType): Promise<Policy[]>;\n***REMOVED***\n\nexport interface PrincipalPolicyProvider {\n    provide(principal: any, type: AuthorizeType): Promise<Policy[]>;\n***REMOVED***\n\nexport interface PolicyFactory {\n    create(options: any): Promise<Policy>;\n    support(options: any): Promise<boolean>;\n***REMOVED***\n\nexport interface PolicyResolver<> {\n    resolve(policy: Policy, securityMetadata: SecurityMetadata): Promise<boolean>;\n    support(policy: Policy): Promise<boolean>;\n***REMOVED***\n\nexport interface ElPolicy extends Policy {\n    context: any;\n    el: string;\n***REMOVED***\n\nexport interface SecurityExpressionContextHandler {\n    handle(context: any): Promise<void>\n***REMOVED***\n\nexport interface SecurityMetadata {\n    authorizeType: AuthorizeType;\n    action: string;\n    resource: string;\n    principal: any;\n    policies: Policy[];\n***REMOVED***\n\nexport interface SecurityMetadataContext {\n***REMOVED***\n\nexport interface MethodSecurityMetadataContext extends SecurityMetadataContext {\n    authorizeType: AuthorizeType\n    method: string;\n    args: any[];\n    target: any;\n    returnValue?: any\n\n***REMOVED***\n\nexport interface SecurityMetadataSource {\n    load(context: SecurityMetadataContext): Promise<SecurityMetadata>;\n***REMOVED***\n\nexport interface AccessDecisionManager {\n    decide(securityMetadata: SecurityMetadata): Promise<void>;\n***REMOVED***\n\nexport interface AccessDecisionVoter {\n    vote(securityMetadata: SecurityMetadata): Promise<number>;\n    support(securityMetadata: SecurityMetadata): Promise<boolean>;\n    readonly priority: number;\n***REMOVED***\n","export * from './access-decision-manager';\nexport * from './access-protocol';\nexport * from './access-decision-voter';\nexport * from './method-advice';\nexport * from './policy-provider';\nexport * from './policy-resolver';\nexport * from './security-metadata-source';\n","import { MethodBeforeAdvice, Autowired, Component, AfterReturningAdvice, Value ***REMOVED*** from '@malagu/core';\nimport { AccessDecisionManager, SecurityMetadataSource ***REMOVED*** from './access-protocol';\nimport { AuthorizeType ***REMOVED*** from '../annotation/authorize';\n\n@Component(MethodBeforeAdvice)\nexport class SecurityMethodBeforeAdivice implements MethodBeforeAdvice {\n\n    @Autowired(AccessDecisionManager)\n    protected readonly accessDecisionManager: AccessDecisionManager;\n\n    @Autowired(SecurityMetadataSource)\n    protected readonly securityMetadataSource: SecurityMetadataSource;\n\n    @Value('malagu.security.enabled')\n    protected readonly enabled: boolean;\n\n    async before(method: string | number | symbol, args: any[], target: any): Promise<void> {\n        if (this.enabled !== true) {\n        ***REMOVED***\n      ***REMOVED***\n        if (typeof method !== 'string') {\n        ***REMOVED***\n      ***REMOVED***\n        const securityMetadata = await this.securityMetadataSource.load({ method, args, target, authorizeType: AuthorizeType.Pre ***REMOVED***\n        await this.accessDecisionManager.decide(securityMetadata);\n  ***REMOVED***\n\n***REMOVED***\n\n@Component(AfterReturningAdvice)\nexport class SecurityAfterReturningAdvice implements AfterReturningAdvice {\n\n    @Autowired(AccessDecisionManager)\n    protected readonly accessDecisionManager: AccessDecisionManager;\n\n    @Autowired(SecurityMetadataSource)\n    protected readonly securityMetadataSource: SecurityMetadataSource;\n\n    async afterReturning(returnValue: any, method: string | number | symbol, args: any[], target: any): Promise<void> {\n        if (typeof method !== 'string') {\n        ***REMOVED***\n      ***REMOVED***\n        const securityMetadata = await this.securityMetadataSource.load({ method, args, target, returnValue, authorizeType: AuthorizeType.Post ***REMOVED***\n        await this.accessDecisionManager.decide(securityMetadata);\n  ***REMOVED***\n\n***REMOVED***\n","import { Policy, PrincipalPolicyProvider, ResourcePolicyProvider ***REMOVED*** from './access-protocol';\nimport { Component, Value ***REMOVED*** from '@malagu/core';\nimport { postConstruct ***REMOVED*** from 'inversify';\nimport { AuthorizeType ***REMOVED*** from '../annotation';\n\n@Component(PrincipalPolicyProvider)\nexport class PrincipalPolicyProviderImpl implements PrincipalPolicyProvider {\n\n    async provide(principal: any, type: AuthorizeType): Promise<Policy[]> {\n        const policies: Policy[] = principal && principal.policies || [];\n        return policies.filter(p => p.authorizeType === type);\n  ***REMOVED***\n***REMOVED***\n\n@Component(ResourcePolicyProvider)\nexport class ResourcePolicyProviderImpl implements ResourcePolicyProvider {\n\n    @Value('malagu.security.policies')\n    protected readonly policies?: any;\n\n    protected readonly policyMap: Map<string, Map<string, Policy[]>> = new Map<string, Map<string, Policy[]>>();\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        if (this.policies) {\n            for (const resource of Object.keys(this.policies)) {\n                for (const options of this.policies[resource]) {\n                    let opts = options;\n                    if (!Array.isArray(options)) {\n                        opts = [ options ];\n                  ***REMOVED***\n                    const preResult: Policy[] = [];\n                    const postResult: Policy[] = [];\n                    const result = new Map<string, Policy[]>();\n                    for (const opt of opts) {\n                        if (!opt.type || opt.type === AuthorizeType.Pre) {\n                            preResult.push(opt);\n                      ***REMOVED*** else if (opt.type === AuthorizeType.Post) {\n                            postResult.push(opt);\n                      ***REMOVED***\n                        result.set(AuthorizeType.Pre, preResult);\n                        result.set(AuthorizeType.Post, postResult);\n                  ***REMOVED***\n                    this.policyMap.set(resource, result);\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    async provide(resource: string, type: AuthorizeType): Promise<Policy[]> {\n        const result = this.policyMap.get(resource);\n        return result && result.get(type) || [];\n  ***REMOVED***\n***REMOVED***\n","import { Policy, ElPolicy, PolicyResolver, SecurityMetadata, PolicyType, SECURITY_EXPRESSION_CONTEXT_KEY ***REMOVED*** from './access-protocol';\nimport { eval ***REMOVED*** from 'jexl';\nimport { Component ***REMOVED*** from '@malagu/core';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(PolicyResolver)\nexport class ElPolicyResolver implements PolicyResolver {\n\n    resolve(policy: ElPolicy, securityMetadata: SecurityMetadata): Promise<boolean> {\n        return eval(policy.el, policy.context || Context.getAttr(SECURITY_EXPRESSION_CONTEXT_KEY));\n  ***REMOVED***\n\n    async support(policy: Policy): Promise<boolean> {\n        return policy.type === PolicyType.El;\n  ***REMOVED***\n***REMOVED***\n","import { Component, Autowired, Optional, getOwnMetadata ***REMOVED*** from '@malagu/core';\nimport {\n    SecurityMetadataSource, SecurityMetadata, MethodSecurityMetadataContext,\n    SecurityExpressionContextHandler, SECURITY_EXPRESSION_CONTEXT_KEY, Policy\n***REMOVED*** from './access-protocol';\nimport { SecurityContext ***REMOVED*** from '../context';\nimport { METADATA_KEY ***REMOVED*** from '../constants';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(SecurityMetadataSource)\nexport class MethodSecurityMetadataSource implements SecurityMetadataSource {\n\n    @Autowired(SecurityExpressionContextHandler) @Optional\n    protected readonly securityExpressionContextHandler: SecurityExpressionContextHandler;\n\n    async load(context: MethodSecurityMetadataContext): Promise<SecurityMetadata> {\n        const classPolicies: Policy[] = getOwnMetadata(METADATA_KEY.authorize, context.target.constructor);\n        const methodPolicies: Policy[] = getOwnMetadata(METADATA_KEY.authorize, context.target.constructor, context.method);\n        const ctx = {\n            ...context,\n            ...SecurityContext.getAuthentication()\n        ***REMOVED***\n        if (this.securityExpressionContextHandler) {\n            await this.securityExpressionContextHandler.handle(ctx);\n      ***REMOVED***\n        Context.setAttr(SECURITY_EXPRESSION_CONTEXT_KEY, ctx);\n        const policies = classPolicies.concat(...methodPolicies)\n            .filter(item => item.authorizeType === context.authorizeType);\n\n        const resource = context.target.constructor.name;\n        return {\n            authorizeType: context.authorizeType,\n            principal: SecurityContext.getAuthentication().principal,\n            action: context.method,\n            resource,\n            policies: policies\n        ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","import { Authorize, AuthorizeType ***REMOVED*** from './authorize';\n\nexport const Anonymous = function (): any {\n    return Authorize({ el: 'true', authorizeType: AuthorizeType.Pre ***REMOVED***\n***REMOVED***\n","import { Authorize, AuthorizeType ***REMOVED*** from './authorize';\n\nexport const Authenticated = function () {\n    return Authorize({ el: 'authenticated', authorizeType: AuthorizeType.Pre ***REMOVED***\n***REMOVED***\n","import { METADATA_KEY ***REMOVED*** from '../constants';\nimport { Policy, PolicyType ***REMOVED*** from '../access';\n\nexport enum AuthorizeType {\n    Pre= 'Pre', Post= 'Post'\n***REMOVED***\n\nexport interface ElOption {\n    el: string;\n    authorizeType: AuthorizeType;\n***REMOVED***\n\nexport namespace ElOption {\n    export function is(option: any): option is ElOption {\n        return option && (option.el !== undefined || option.authorizeType);\n  ***REMOVED***\n***REMOVED***\n\nexport const Authorize = function (elOrElOptionOrPolicy: string | ElOption | Policy) {\n    const policy = getPolicy(elOrElOptionOrPolicy);\n    return (target: any, targetKey?: string, descriptor?: TypedPropertyDescriptor<Function>) => {\n        if (targetKey) {\n            const policies: Policy[] = Reflect.getOwnMetadata(METADATA_KEY.authorize, target.constructor, targetKey) || [];\n            policies.push(policy);\n            Reflect.defineMetadata(METADATA_KEY.authorize, policies, target.constructor, targetKey);\n      ***REMOVED*** else {\n            const policies: Policy[] = Reflect.getOwnMetadata(METADATA_KEY.authorize, target.constructor) || [];\n            policies.push(policy);\n            Reflect.defineMetadata(METADATA_KEY.authorize, policies, target);\n      ***REMOVED***\n    ***REMOVED***\n\n***REMOVED***\n\nexport function getPolicy(elOrElOptionOrPolicy: string | ElOption | Policy) {\n    let policy: Policy;\n    if (typeof elOrElOptionOrPolicy === 'string') {\n        policy = { authorizeType: AuthorizeType.Pre, el: elOrElOptionOrPolicy, type: PolicyType.El ***REMOVED***\n  ***REMOVED*** else {\n        policy = { authorizeType: AuthorizeType.Pre, type: PolicyType.El, ...elOrElOptionOrPolicy***REMOVED***\n  ***REMOVED***\n    return policy;\n***REMOVED***\n","export * from './anonymous';\nexport * from './authenticated';\nexport * from './authorize';\nexport * from './post-authorize';\nexport * from './pre-authorize';\n","import { Authorize, AuthorizeType ***REMOVED*** from './authorize';\n\nexport const PostAuthorize = function (el: string) {\n    return Authorize({ el, authorizeType: AuthorizeType.Post ***REMOVED***\n***REMOVED***\n","import { Authorize, AuthorizeType ***REMOVED*** from './authorize';\n\nexport const PreAuthorize = function (el: string) {\n    return Authorize({ el, authorizeType: AuthorizeType.Pre ***REMOVED***\n***REMOVED***\n","import { HandlerAdapter ***REMOVED*** from '@malagu/web/lib/node';\nimport { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport { AuthenticationManager, AUTHENTICATION_HANDLER_ADAPTER_PRIORITY ***REMOVED*** from './authentication-protocol';\n\n@Component(HandlerAdapter)\nexport class AuthenticationHandlerAdapter implements HandlerAdapter {\n\n    @Autowired(AuthenticationManager)\n    protected readonly authenticationManager: AuthenticationManager;\n\n    async handle(): Promise<void> {\n        await this.authenticationManager.authenticate();\n  ***REMOVED***\n\n    canHandle(): Promise<boolean> {\n        return this.authenticationManager.support();\n  ***REMOVED***\n\n    readonly priority: number = AUTHENTICATION_HANDLER_ADAPTER_PRIORITY;\n\n***REMOVED***\n","import { Component, Autowired, Prioritizeable ***REMOVED*** from '@malagu/core';\nimport { AuthenticationProvider, AuthenticationManager, Authentication ***REMOVED*** from './authentication-protocol';\nimport { AccountStatusError, AuthenticationError ***REMOVED*** from '../error';\nimport { SecurityContext ***REMOVED*** from '../context';\nimport { postConstruct ***REMOVED*** from 'inversify';\n\n@Component(AuthenticationManager)\nexport class AuthenticationManagerImpl implements AuthenticationManager {\n\n    protected prioritized: AuthenticationProvider[];\n\n    @Autowired(AuthenticationProvider)\n    protected readonly authenticationProviders: AuthenticationProvider[];\n\n    @postConstruct()\n    async init() {\n        this.prioritized = Prioritizeable.prioritizeAllSync(this.authenticationProviders).map(c => c.value);\n  ***REMOVED***\n\n    async authenticate(): Promise<void> {\n        let result: Authentication | undefined;\n        let lastError: any;\n        for (const authenticationProvider of this.prioritized) {\n          ***REMOVED***\n                if (await authenticationProvider.support()) {\n                    result = await authenticationProvider.authenticate();\n                    if (result) {\n                        SecurityContext.setAuthentication(result);\n                    ***REMOVED***\n                  ***REMOVED***\n              ***REMOVED***\n          ***REMOVED*** catch (error) {\n                if (error instanceof AccountStatusError) {\n                ***REMOVED***\n              ***REMOVED*** else if (error instanceof AuthenticationError) {\n                    lastError = error;\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n        if (lastError) {\n            throw lastError;\n      ***REMOVED***\n  ***REMOVED***\n\n    async support(): Promise<boolean> {\n        for (const authenticationProvider of this.prioritized) {\n            if (await authenticationProvider.support()) {\n                return true;\n          ***REMOVED***\n      ***REMOVED***\n        return false;\n  ***REMOVED***\n***REMOVED***\n","import { Policy ***REMOVED*** from '../access';\n\nexport const AuthenticationProvider = Symbol('AuthenticationProvider');\nexport const AuthenticationManager = Symbol('AuthenticationManager');\n\nexport const AUTHENTICATION_HANDLER_ADAPTER_PRIORITY = 500;\nexport const DEFAULT_AUTHENTICATION_PROVIDER_PRIORITY =  2000;\n\nexport interface AuthenticationManager {\n    authenticate(): Promise<void>;\n    support(): Promise<boolean>;\n***REMOVED***\n\nexport interface AuthenticationProvider {\n    readonly priority: number;\n    authenticate(): Promise<Authentication>;\n    support(): Promise<boolean>;\n***REMOVED***\n\nexport interface Authentication {\n    policies: Policy[];\n    credentials: any;\n    details?: any;\n    principal: any;\n    authenticated: boolean;\n***REMOVED***\n","import { Component, Autowired, Value ***REMOVED*** from '@malagu/core';\nimport { AuthenticationProvider, Authentication, DEFAULT_AUTHENTICATION_PROVIDER_PRIORITY ***REMOVED*** from './authentication-protocol';\nimport { Context, RequestMatcher ***REMOVED*** from '@malagu/web/lib/node';\nimport { PasswordEncoder ***REMOVED*** from '../crypto';\nimport { UserStore, UserChecker ***REMOVED*** from '../user';\nimport { BadCredentialsError ***REMOVED*** from '../error';\n\n@Component(AuthenticationProvider)\nexport class AuthenticationProviderImpl implements AuthenticationProvider {\n\n    @Value('malagu.security')\n    protected readonly options: any;\n\n    @Autowired(PasswordEncoder)\n    protected readonly passwordEncoder: PasswordEncoder;\n\n    @Autowired(UserStore)\n    protected readonly userStore: UserStore;\n\n    @Autowired(UserChecker)\n    protected readonly userChecker: UserChecker;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    priority = DEFAULT_AUTHENTICATION_PROVIDER_PRIORITY;\n\n    async authenticate(): Promise<Authentication> {\n        const username = this.doGetValue(this.options.usernameKey);\n        const password = this.doGetValue(this.options.passwordKey);\n        if (!password || !username) {\n            throw new BadCredentialsError('Bad credentials');\n      ***REMOVED***\n        const user = await this.userStore.load(username);\n        await this.userChecker.check(user);\n        if (!await this.passwordEncoder.matches(password, user.password)) {\n            throw new BadCredentialsError('Bad credentials');\n      ***REMOVED***\n\n        return {\n            principal: user,\n            credentials: '',\n            policies: user.policies,\n            authenticated: true\n        ***REMOVED***\n\n  ***REMOVED***\n\n    protected doGetValue(key: string): string {\n        const request = Context.getRequest();\n        if (request.body) {\n            return request.body[key];\n      ***REMOVED*** else {\n            return request.query[key];\n      ***REMOVED***\n  ***REMOVED***\n\n    async support(): Promise<boolean> {\n        return !!await this.requestMatcher.match(this.options.loginUrl, this.options.loginMethod);\n  ***REMOVED***\n\n***REMOVED***\n","export * from './authentication-protocol';\nexport * from './authentication-manager';\nexport * from './authentication-provider';\nexport * from './authentication-handler-adapter';\n","export const METADATA_KEY = {\n    authorize: 'malagu:authorize',\n***REMOVED***\n","import { Context, AttributeScope ***REMOVED*** from '@malagu/web/lib/node';\nimport { Authentication ***REMOVED*** from '../authentication';\nimport { SESSION_MIDDLEWARE_PRIORITY ***REMOVED*** from '@malagu/web/lib/node/session/session-protocol';\n\nexport const SECURITY_CONTEXT_MIDDLEWARE_PRIORITY = SESSION_MIDDLEWARE_PRIORITY - 100;\nexport const CURRENT_SECURITY_CONTEXT_REQUEST_KEY = 'CurrentSecurityContextRequest';\n\nexport const SecurityContextStore = Symbol('SecurityContextStore');\nexport const SecurityContextStrategy = Symbol('SecurityContextStrategy');\n\nexport interface SecurityContext {\n    authentication: Authentication;\n***REMOVED***\n\nexport interface SecurityContextStore {\n    load(): Promise<SecurityContext>;\n    save(context: SecurityContext): Promise<void>;\n***REMOVED***\n\nexport interface SecurityContextStrategy {\n    create(): Promise<SecurityContext>;\n***REMOVED***\n\nexport namespace SecurityContext {\n\n    export function setCurrent(context: SecurityContext | undefined ) {\n        Context.setAttr(CURRENT_SECURITY_CONTEXT_REQUEST_KEY, context);\n  ***REMOVED***\n\n    export function getCurrent<T extends SecurityContext>(): T {\n        return Context.getAttr(CURRENT_SECURITY_CONTEXT_REQUEST_KEY, AttributeScope.Request);\n  ***REMOVED***\n\n    export function getAuthentication(): Authentication {\n        return getCurrent().authentication;\n  ***REMOVED***\n\n    export function setAuthentication(authentication: Authentication): void {\n        getCurrent().authentication = authentication;\n  ***REMOVED***\n\n***REMOVED***\n","export * from './context-protocol';\nexport * from './security-context-middleware';\nexport * from './security-context-store';\nexport * from './security-context-strategy';\n","import { Middleware, Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { Component, Value, Autowired ***REMOVED*** from '@malagu/core';\nimport { SecurityContextStore, SecurityContext, SECURITY_CONTEXT_MIDDLEWARE_PRIORITY ***REMOVED*** from './context-protocol';\n\n@Component(Middleware)\nexport class SecurityContextMiddleWare implements Middleware {\n\n    @Value('malagu.security')\n    protected readonly options: any;\n\n    @Autowired(SecurityContextStore)\n    protected readonly securityContextStore: SecurityContextStore;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n\n        const context = await this.securityContextStore.load();\n      ***REMOVED***\n            SecurityContext.setCurrent(context);\n            await next();\n      ***REMOVED*** finally {\n            await this.securityContextStore.save(SecurityContext.getCurrent());\n      ***REMOVED***\n  ***REMOVED***\n\n    readonly priority: number = SECURITY_CONTEXT_MIDDLEWARE_PRIORITY;\n\n***REMOVED***\n","import { Component, Value, Autowired ***REMOVED*** from '@malagu/core';\nimport { SecurityContextStore, SecurityContext, SecurityContextStrategy ***REMOVED*** from './context-protocol';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component(SecurityContextStore)\nexport class SessionSecurityContextStore implements SecurityContextStore {\n\n    @Value('malagu.security')\n    protected readonly options: any;\n\n    @Autowired(SecurityContextStrategy)\n    protected readonly securityContextStrategy: SecurityContextStrategy;\n\n    async load(): Promise<SecurityContext> {\n        const context = Context.getSession()[this.options.contextKey];\n        if (!context) {\n            return this.securityContextStrategy.create();\n      ***REMOVED***\n        return context;\n  ***REMOVED***\n    async save(context: SecurityContext): Promise<void> {\n        Context.getSession()[this.options.contextKey] = context;\n  ***REMOVED***\n\n***REMOVED***\n","import { Component ***REMOVED*** from '@malagu/core';\nimport { SecurityContext, SecurityContextStrategy ***REMOVED*** from './context-protocol';\nimport { Authentication ***REMOVED*** from '../authentication';\n\nexport class SecurityContextImpl implements SecurityContext {\n    authentication: Authentication;\n***REMOVED***\n\n@Component(SecurityContextStrategy)\nexport class SessionSecurityContextStrategy implements SecurityContextStrategy {\n\n    create(): Promise<SecurityContext> {\n        const securityContext = new SecurityContextImpl();\n        securityContext.authentication = {\n            principal: 'anonymousUser',\n            policies: [],\n            credentials: '',\n            authenticated: false\n        ***REMOVED***\n        return Promise.resolve(securityContext);\n  ***REMOVED***\n\n***REMOVED***\n","export const PasswordEncoder = Symbol('PasswordEncoder');\n\nexport interface PasswordEncoder {\n    encode(rawPassword: string): Promise<string>;\n    matches(rawPassword: string, encodedPassword: string): Promise<boolean>;\n***REMOVED***\n","export * from './crypto-protocol';\nexport * from './password-encoder';\n","import { PasswordEncoder ***REMOVED*** from './crypto-protocol';\nimport { PBKDF2, lib, enc***REMOVED*** from 'crypto-js';\nimport { Value, Component ***REMOVED*** from '@malagu/core';\n\n@Component(PasswordEncoder)\nexport class Pbkdf2PasswordEncoder implements PasswordEncoder {\n\n    @Value('malagu.security.passwordEncoder')\n    protected readonly options: any;\n\n    async encode(rawPassword: string): Promise<string> {\n        const { encodeHashAsBase64 ***REMOVED*** = this.options;\n        const salt = lib.WordArray.random(8);\n        const encoded = this.doEncode(rawPassword, salt);\n        if (encodeHashAsBase64) {\n            return enc.Base64.stringify(enc.Utf8.parse(encoded));\n      ***REMOVED***\n        return encoded;\n  ***REMOVED***\n\n    protected doEncode(rawPassword: string, salt: string): string {\n        const { secret ***REMOVED*** = this.options;\n        return salt + PBKDF2(rawPassword, salt + secret, this.options).toString();\n  ***REMOVED***\n\n    async matches(rawPassword: string, encodedPassword: string): Promise<boolean> {\n        const digested = this.doDecode(encodedPassword);\n        const salt = digested.substring(0, 16);\n        return digested === this.doEncode(rawPassword, salt);\n  ***REMOVED***\n\n    protected doDecode(encoded: string): string {\n        const { encodeHashAsBase64 ***REMOVED*** = this.options;\n        if (encodeHashAsBase64) {\n            return enc.Base64.parse(encoded).toString(enc.Utf8);\n      ***REMOVED***\n        return encoded;\n  ***REMOVED***\n***REMOVED***\n","import { AUTHENTICATION_ERROR_HANDlER_PRIORITY, ACCESS_DENIED_ERROR_HANDlER_PRIORITY ***REMOVED*** from './error-protocol';\nimport { AuthenticationError, AccessDeniedError ***REMOVED*** from './error';\nimport { ErrorHandler, Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { Component, Value, Autowired ***REMOVED*** from '@malagu/core';\nimport { SecurityContext ***REMOVED*** from '../context';\nimport { X_REQUESTED_WITH, XML_HTTP_REQUEST ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component([AuthenticationErrorHandler, ErrorHandler])\nexport class AuthenticationErrorHandler implements ErrorHandler {\n    readonly priority: number = AUTHENTICATION_ERROR_HANDlER_PRIORITY;\n\n    @Value('malagu.security.basic.realm')\n    protected realm: string;\n\n    @Value('malagu.security.loginPage')\n    protected loginPage: string;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(err instanceof AuthenticationError);\n  ***REMOVED***\n\n    async handle(ctx: Context, err: AuthenticationError): Promise<void> {\n        if (ctx.request.headers[X_REQUESTED_WITH] === XML_HTTP_REQUEST) {\n            ctx.response.statusCode = 401;\n            ctx.response.setHeader('WWW-Authenticate', `Basic realm=\"${this.realm***REMOVED***\"`);\n            ctx.response.end(err.message);\n      ***REMOVED*** else {\n            ctx.response.statusCode = 302;\n            ctx.response.setHeader('Location', this.loginPage);\n            ctx.response.end(err.message);\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n@Component(ErrorHandler)\nexport class AccessDeniedErrorHandler implements ErrorHandler {\n    readonly priority: number = ACCESS_DENIED_ERROR_HANDlER_PRIORITY;\n\n    @Autowired(AuthenticationErrorHandler)\n    protected readonly authenticationErrorHandler: AuthenticationErrorHandler;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(err instanceof AccessDeniedError);\n  ***REMOVED***\n\n    async handle(ctx: Context, err: AccessDeniedError): Promise<void> {\n        if (SecurityContext.getAuthentication().authenticated) {\n            ctx.response.statusCode = 403;\n            ctx.response.end(err.message);\n      ***REMOVED*** else {\n            await this.authenticationErrorHandler.handle(ctx, new AuthenticationError());\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","import { HTTP_ERROR_HANDlER_PRIORITY ***REMOVED*** from '@malagu/web/lib/node';\n\nexport const ACCESS_DENIED_ERROR_HANDlER_PRIORITY = HTTP_ERROR_HANDlER_PRIORITY + 100;\n\nexport const AUTHENTICATION_ERROR_HANDlER_PRIORITY = ACCESS_DENIED_ERROR_HANDlER_PRIORITY + 100;\n","import { CustomError ***REMOVED*** from '@malagu/core';\n\nexport class AuthenticationError extends CustomError {\n\n    constructor(message?: string) {\n        super(message);\n  ***REMOVED***\n\n***REMOVED***\n\nexport class AccountStatusError extends AuthenticationError {\n\n***REMOVED***\n\nexport class UsernameNotFoundError extends AuthenticationError {\n\n***REMOVED***\n\nexport class BadCredentialsError extends AuthenticationError {\n\n***REMOVED***\n\nexport class LockedError extends AccountStatusError {\n\n***REMOVED***\n\nexport class DisabledError extends AccountStatusError {\n\n***REMOVED***\n\nexport class AccountExpiredError extends AccountStatusError {\n\n***REMOVED***\n\nexport class CredentialsExpiredError extends AccountStatusError {\n\n***REMOVED***\n\nexport class AccessDeniedError extends CustomError {\n\n***REMOVED***\n","export * from './error';\nexport * from './error-hander';\nexport * from './error-protocol';\n","export * from './authentication';\nexport * from './context';\nexport * from './crypto';\nexport * from './error';\nexport * from './user';\nexport * from './access';\nexport * from './annotation';\nexport * from './constants';\nexport * from './logout';\n","export * from './logout-protocol';\nexport * from './logout-handler-adapter';\nexport * from './logout-handler';\nexport * from './logout-success-handler';\n","import { RequestMatcher, HandlerAdapter ***REMOVED*** from '@malagu/web/lib/node';\nimport { Component, Autowired, Value ***REMOVED*** from '@malagu/core';\nimport { LogoutHandler, LOGOUT_HANDLER_ADAPTER_PRIORITY ***REMOVED*** from './logout-protocol';\nimport { LogoutSuccessHandlerProvider ***REMOVED*** from './logout-success-handler-provider';\n\n@Component([LogoutHanlderAdapter, HandlerAdapter])\nexport class LogoutHanlderAdapter implements HandlerAdapter {\n\n    @Autowired(LogoutHandler)\n    protected readonly logoutHandlers: LogoutHandler[];\n\n    @Autowired(LogoutSuccessHandlerProvider)\n    protected readonly logoutSuccessHandlerProvider: LogoutSuccessHandlerProvider;\n\n    @Value('malagu.security.logoutUrl')\n    protected readonly logoutUrl: string;\n\n    @Value('malagu.security.logoutMethod')\n    protected readonly logoutMethod: string;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    async handle(): Promise<void> {\n        for (const logoutHandler of this.logoutHandlers) {\n            await logoutHandler.logout();\n      ***REMOVED***\n\n        for (const logoutSuccessHandler of this.logoutSuccessHandlerProvider.provide()) {\n            await logoutSuccessHandler.onLogoutSuccess();\n      ***REMOVED***\n  ***REMOVED***\n\n    async canHandle(): Promise<boolean> {\n        return !!await this.requestMatcher.match(this.logoutUrl, this.logoutMethod);\n  ***REMOVED***\n\n\n    readonly priority: number = LOGOUT_HANDLER_ADAPTER_PRIORITY;\n\n***REMOVED***\n","import { LogoutHandler ***REMOVED*** from './logout-protocol';\nimport { Component ***REMOVED*** from '@malagu/core';\nimport { SecurityContext ***REMOVED*** from '../context';\n\n@Component([ SecurityContextLogoutHandler, LogoutHandler ])\nexport class SecurityContextLogoutHandler implements LogoutHandler {\n\n    async logout(): Promise<void> {\n        SecurityContext.setCurrent(undefined);\n  ***REMOVED***\n\n***REMOVED***\n","\nexport const LogoutHandler = Symbol('LogoutHandler');\nexport const LogoutSuccessHandler = Symbol('LogoutSuccessHandler');\n\nexport const LOGOUT_HANDLER_ADAPTER_PRIORITY =  500;\n\nexport const LOGOUT_SUCCESS_HANDLER_PRIORITY =  2000;\n\nexport interface LogoutHandler {\n    logout(): Promise<void>;\n***REMOVED***\n\nexport interface LogoutSuccessHandler {\n    readonly priority: number;\n    onLogoutSuccess(): Promise<void>;\n***REMOVED***\n","import { Component, Autowired, Prioritizeable ***REMOVED*** from '@malagu/core';\nimport { LogoutSuccessHandler ***REMOVED*** from './logout-protocol';\n\n@Component()\nexport class LogoutSuccessHandlerProvider {\n\n    protected prioritized: LogoutSuccessHandler[];\n\n    constructor(\n        @Autowired(LogoutSuccessHandler)\n        protected readonly logoutSuccessHandler: LogoutSuccessHandler[]\n    ) { ***REMOVED***\n\n    provide(): LogoutSuccessHandler[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.logoutSuccessHandler).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import { LogoutSuccessHandler, LOGOUT_SUCCESS_HANDLER_PRIORITY ***REMOVED*** from './logout-protocol';\nimport { Component, Value ***REMOVED*** from '@malagu/core';\nimport { Context, XML_HTTP_REQUEST ***REMOVED*** from '@malagu/web/lib/node';\nimport { X_REQUESTED_WITH ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component([SimpleUrlLogoutSuccessHandler, LogoutSuccessHandler])\nexport class SimpleUrlLogoutSuccessHandler implements LogoutSuccessHandler {\n\n    @Value('malagu.security.logoutSuccessUrl')\n    protected readonly logoutSuccessUrl: string;\n\n    readonly priority = LOGOUT_SUCCESS_HANDLER_PRIORITY;\n\n    async onLogoutSuccess(): Promise<void> {\n        if (Context.getRequest().headers[X_REQUESTED_WITH] !== XML_HTTP_REQUEST) {\n            Context.getResponse().statusCode = 302;\n            Context.getResponse().setHeader('Location', this.logoutSuccessUrl);\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","import 'reflect-metadata';\nimport { autoBind ***REMOVED*** from '@malagu/core';\nexport * from '.';\n\nexport default autoBind();\n","export * from './user-protocol';\nexport * from './user-store';\nexport * from './user-checker';\n","import { User, UserChecker ***REMOVED*** from './user-protocol';\nimport { Component, Autowired, Logger ***REMOVED*** from '@malagu/core';\nimport { LockedError, AccountExpiredError, DisabledError, CredentialsExpiredError ***REMOVED*** from '../error';\n\n@Component(UserChecker)\nexport class UserCheckerImpl implements UserChecker {\n    @Autowired(Logger)\n    protected readonly logger: Logger;\n\n    async check(user: User): Promise<void> {\n        if (!user.accountNonLocked) {\n            this.logger.info('User account is locked');\n\n            throw new LockedError('User account is locked');\n      ***REMOVED***\n\n        if (!user.enabled) {\n            this.logger.info('User account is disabled');\n\n            throw new DisabledError('User is disabled');\n      ***REMOVED***\n\n        if (!user.accountNonExpired) {\n            this.logger.info('User account is expired');\n\n            throw new AccountExpiredError('User account has expired');\n      ***REMOVED***\n\n        if (!user.credentialsNonExpired) {\n            this.logger.info('User account is expired');\n\n            throw new CredentialsExpiredError('User credentials have expired');\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { Policy ***REMOVED*** from '../access';\n\nexport const UserStore = Symbol('UserStore');\nexport const UserChecker = Symbol('UserChecker');\n\nexport interface User {\n    username: string;\n    password: string;\n    policies: Policy[];\n    accountNonExpired: boolean;\n    accountNonLocked: boolean;\n    credentialsNonExpired: boolean;\n    enabled: boolean;\n***REMOVED***\n\nexport interface UserStore {\n    load(username: string): Promise<User>;\n***REMOVED***\n\nexport interface UserChecker {\n    check(user: User): Promise<void>;\n***REMOVED***\n","import { UserStore, User ***REMOVED*** from './user-protocol';\nimport { Value, Component ***REMOVED*** from '@malagu/core';\nimport { UsernameNotFoundError ***REMOVED*** from '../error';\nimport { ElPolicy, PolicyType ***REMOVED*** from '../access';\nimport { AuthorizeType ***REMOVED*** from '../annotation';\n\n@Component(UserStore)\nexport class UserStoreImpl implements UserStore {\n\n    @Value('malagu.security')\n    protected readonly options: any;\n\n    async load(username: string): Promise<User> {\n        if (this.options.username === username) {\n            return {\n                username,\n                password: this.options.password,\n                accountNonExpired: true,\n                accountNonLocked: true,\n                credentialsNonExpired: true,\n                enabled: true,\n                policies: [ <ElPolicy>{\n                    type: PolicyType.El,\n                    authorizeType: AuthorizeType.Pre,\n                    el: 'true'\n              ***REMOVED*** ]\n            ***REMOVED***\n      ***REMOVED***\n\n        throw new UsernameNotFoundError(`Could not find: ${username***REMOVED***`);\n  ***REMOVED***\n***REMOVED***\n","import { Component, ApplicationLifecycle, Application, Value ***REMOVED*** from '@malagu/core';\nimport { createConnections, Connection ***REMOVED*** from 'typeorm';\nimport { DEFAULT_CONNECTION_NAME ***REMOVED*** from './constants';\nimport { EntityProvider ***REMOVED*** from './entity-provider';\n\n@Component(ApplicationLifecycle)\nexport class TypeOrmApplicationLifecycle implements ApplicationLifecycle<Application> {\n\n    @Value('malagu.typeorm')\n    protected readonly options: any;\n\n    protected connections: Connection[];\n\n    async onStart(app: Application): Promise<void> {\n        const { ormConfig ***REMOVED*** = this.options;\n        let configs: any[];\n        if (Array.isArray(ormConfig)) {\n            configs = ormConfig;\n      ***REMOVED*** else {\n            ormConfig.name = DEFAULT_CONNECTION_NAME;\n            configs = [ ormConfig ];\n      ***REMOVED***\n\n        for (const config of configs) {\n            config.entities = EntityProvider.getEntities(config.name) || [];\n      ***REMOVED***\n\n        this.connections = await createConnections(configs);\n  ***REMOVED***\n\n    onStop(app: Application): void {\n        if (this.connections) {\n            for (const connection of this.connections) {\n                connection.close();\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","export const DEFAULT_CONNECTION_NAME = 'default';\n","\nimport { DEFAULT_CONNECTION_NAME ***REMOVED*** from './constants';\n\nconst _entitiyMap = new Map<string, Function[]>();\n\nexport function autoBindEntities(entities: any, name = DEFAULT_CONNECTION_NAME) {\n    let _entities = entities;\n    if (!Array.isArray(entities)) {\n        _entities = [];\n        for (const key of Object.keys(entities)) {\n            _entities.push(entities[key]);\n      ***REMOVED***\n  ***REMOVED***\n    if (!_entitiyMap.get(name)) {\n\n  ***REMOVED***\n    const current = _entitiyMap.get(name) || [];\n\n    _entitiyMap.set(name, [ ...current, ..._entities ]);\n\n***REMOVED***\n\nexport namespace EntityProvider {\n    export function getEntities(name = DEFAULT_CONNECTION_NAME) {\n        return _entitiyMap.get(name);\n  ***REMOVED***\n***REMOVED***\n","export * from './constants';\nexport * from './entity-provider';\nexport * from './application-lifecycle';\n","export * from './transactional';\n","import { IsolationLevel ***REMOVED*** from 'typeorm/driver/types/IsolationLevel';\nimport { DEFAULT_CONNECTION_NAME ***REMOVED*** from '../../common';\nimport { EntityManager, getConnection ***REMOVED*** from 'typeorm';\nimport { OrmContext ***REMOVED*** from '../context';\n\nexport enum Propagation {\n    Required, RequiresNew\n***REMOVED***\n\nexport interface TransactionalOption {\n    name?: string;\n    isolation?: IsolationLevel;\n    propagation?: Propagation;\n    readOnly?: boolean;\n***REMOVED***\nexport namespace TransactionalOption {\n    export function is(option: any): option is TransactionalOption {\n        return option && (option.name !== undefined || option.isolation !== undefined || option.readOnly !== undefined);\n  ***REMOVED***\n***REMOVED***\n\nexport interface TransactionalDecorator {\n    (nameOrTransactionalOption?: string | TransactionalOption): MethodDecorator;\n***REMOVED***\n\nexport const Transactional = <TransactionalDecorator>function (nameOrTransactionalOption?: string | TransactionalOption): MethodDecorator {\n    const { name, isolation, propagation, readOnly ***REMOVED*** = getTransactionalOption(nameOrTransactionalOption);\n    return (target: Object, methodName: string, descriptor: PropertyDescriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = async function (...args: any[]) {\n            if (propagation === Propagation.Required) {\n                const em = OrmContext.getEntityManager(name);\n                if (em && em.queryRunner && (em.queryRunner.isTransactionActive || readOnly)) {\n                    return originalMethod.apply(this, args);\n              ***REMOVED***\n          ***REMOVED***\n            const callback = async (entityManager: EntityManager) => {\n\n                OrmContext.pushEntityManager(name!, entityManager);\n              ***REMOVED***\n                    return await originalMethod.apply(this, args);\n              ***REMOVED*** finally {\n                    OrmContext.popEntityManager(name!);\n              ***REMOVED***\n            ***REMOVED***\n            if (readOnly) {\n                return callback(getConnection(name).manager);\n          ***REMOVED*** else if (isolation) {\n                return getConnection(name).manager.transaction(isolation, callback);\n          ***REMOVED*** else {\n                return getConnection(name).manager.transaction(callback);\n          ***REMOVED***\n        ***REMOVED***\n\n    ***REMOVED***\n***REMOVED***\n\nexport function getTransactionalOption(nameOrTransactionalOption?: string | TransactionalOption) {\n    const defaultOption = {\n        name: DEFAULT_CONNECTION_NAME,\n        propagation: Propagation.Required,\n        readOnly: false\n    ***REMOVED***\n    let option: TransactionalOption = defaultOption;\n    if (TransactionalOption.is(nameOrTransactionalOption)) {\n        option = { ...defaultOption, ...nameOrTransactionalOption ***REMOVED***\n  ***REMOVED*** else if (nameOrTransactionalOption) {\n        option = { ...defaultOption, name: nameOrTransactionalOption ***REMOVED***\n  ***REMOVED***\n\n    return option;\n***REMOVED***\n","import { Context, AttributeScope ***REMOVED*** from '@malagu/web/lib/node';\nimport { EntityManager, ObjectType, EntitySchema, Repository, TreeRepository, MongoRepository ***REMOVED*** from 'typeorm';\nimport { DEFAULT_CONNECTION_NAME ***REMOVED*** from '../../common';\n\nexport const CURRENT_ORM_CONTEXT_REQUEST_KEY = 'CurrentOrmContextRequest';\n\nexport namespace OrmContext {\n\n    export function getEntityManager(name = DEFAULT_CONNECTION_NAME): EntityManager {\n        const entityManagerMap = Context.getAttr<Map<string, EntityManager[]>>(CURRENT_ORM_CONTEXT_REQUEST_KEY, AttributeScope.Request);\n        if (entityManagerMap) {\n            const entityManagers = entityManagerMap.get(name);\n            if (entityManagers && entityManagers.length > 0) {\n                return entityManagers[entityManagers.length - 1];\n          ***REMOVED***\n      ***REMOVED***\n        return <EntityManager><unknown>undefined;\n  ***REMOVED***\n\n    export function getRepository<Entity>(target: ObjectType<Entity>|EntitySchema<Entity>|string, name?: string): Repository<Entity>  {\n        return getEntityManager(name).getRepository(target);\n  ***REMOVED***\n\n    export function getTreeRepository<Entity>(target: ObjectType<Entity>|EntitySchema<Entity>|string, name?: string): TreeRepository<Entity>  {\n        return getEntityManager(name).getTreeRepository(target);\n  ***REMOVED***\n\n    export function getMongoRepository<Entity>(target: ObjectType<Entity>|EntitySchema<Entity>|string, name?: string): MongoRepository<Entity>  {\n        return getEntityManager(name).getMongoRepository(target);\n  ***REMOVED***\n\n    export function getCustomRepository<T>(customRepository: ObjectType<T>, name?: string): T {\n        return getEntityManager(name).getCustomRepository(customRepository);\n  ***REMOVED***\n\n    export function pushEntityManager(name: string, entityManager: EntityManager): void {\n        let entityManagerMap = Context.getAttr<Map<string, EntityManager[]>>(CURRENT_ORM_CONTEXT_REQUEST_KEY, AttributeScope.Request);\n        if (!entityManagerMap) {\n            entityManagerMap = new Map<string, EntityManager[]>();\n            entityManagerMap.set(name, []);\n            Context.setAttr(CURRENT_ORM_CONTEXT_REQUEST_KEY, entityManagerMap);\n      ***REMOVED***\n        entityManagerMap.get(name)!.push(entityManager);\n  ***REMOVED***\n\n    export function popEntityManager(name: string): EntityManager | undefined {\n        const entityManagerMap = Context.getAttr<Map<string, EntityManager[]>>(CURRENT_ORM_CONTEXT_REQUEST_KEY, AttributeScope.Request);\n        if (entityManagerMap) {\n            const entityManagers = entityManagerMap.get(name);\n            if (entityManagers && entityManagers.length > 0) {\n                return entityManagers.pop();\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","export * from './context-protocol';\n","export * from './annotation';\nexport * from './context';\n","import { autoBind ***REMOVED*** from '@malagu/core';\nexport * from '../common';\n\nexport default autoBind();\n","\nexport const ENDPOINT = 'malagu.server.endpoint';\nexport const SERVER_PATH = 'malagu.server.path';\nexport const CORS = 'malagu.web.cors';\n","export * from './resolver';\nexport * from './constants';\n","export * from './resolver-protocol';\nexport * from './path-resolver';\n","import { PathResolver ***REMOVED*** from './resolver-protocol';\nimport { Value, Component ***REMOVED*** from '@malagu/core';\nimport urlJoin = require('url-join');\n\n@Component(PathResolver)\nexport class PathResolverImpl implements PathResolver {\n\n    @Value('malagu.server.path')\n    protected readonly serverPath: string;\n\n    async resolve(...parts: string[]): Promise<string> {\n        return urlJoin(this.serverPath, ...parts);\n  ***REMOVED***\n***REMOVED***\n","export const PathResolver = Symbol('PathResolver');\n\nexport interface PathResolver {\n    resolve(...parts: string[]): Promise<string>;\n***REMOVED***\n","export * from '@malagu/core/lib/common/container/dynamic-container';\nexport * from '@malagu/core/lib/common/container/container-provider';\nexport * from '../context';\nexport * from '../dispatcher';\nexport * from '../../common';\nexport * from '@malagu/core/lib/common/application';\n","import * as requestContext from 'express-http-context';\nimport { Session ***REMOVED*** from './session/session-protocol';\nimport { Cookies ***REMOVED*** from './cookies';\nimport { Request, Response ***REMOVED*** from './http/http-protocol';\n\n// eslint-disable-next-line no-shadow\nexport enum AttributeScope { App, Request, Session ***REMOVED***\n\nexport const CURRENT_CONTEXT_REQUEST_KEY = 'CurrentContextRequest';\nexport const CURRENT_COOKIES_REQUEST_KEY = 'CurrentCookiesRequest';\nexport const CURRENT_SESSION_REQUEST_KEY = 'CurrentSessionRequest';\nexport const CURRENT_TRACE_ID_REQUEST_KEY = 'CurrentTraceIdRequest';\n\nconst appAttrs = new Map<string, any>();\n\nexport interface Context {\n\n    [key: string]: any;\n\n    readonly request: Request;\n\n    readonly response: Response;\n\n***REMOVED***\n\nexport namespace Context {\n\n    export function run(fn: (...args: any[]) => void) {\n        requestContext.ns.run(fn);\n  ***REMOVED***\n\n    export function setCurrent(context: Context) {\n        requestContext.set(CURRENT_CONTEXT_REQUEST_KEY, context);\n  ***REMOVED***\n\n    export function getCurrent<T extends Context>(): T {\n        return requestContext.get(CURRENT_CONTEXT_REQUEST_KEY);\n  ***REMOVED***\n\n    export function getRequest(): Request {\n        return getCurrent().request;\n  ***REMOVED***\n\n    export function getResponse(): Response {\n        return getCurrent().response;\n  ***REMOVED***\n\n    export function getCookies(): Cookies {\n        return requestContext.get(CURRENT_COOKIES_REQUEST_KEY);\n  ***REMOVED***\n\n    export function setCookies(cookies: Cookies): void {\n        requestContext.set(CURRENT_COOKIES_REQUEST_KEY, cookies);\n  ***REMOVED***\n\n    export function getSession(): Session {\n        return requestContext.get(CURRENT_SESSION_REQUEST_KEY);\n  ***REMOVED***\n\n    export function setSession(session: Session): void {\n        requestContext.set(CURRENT_SESSION_REQUEST_KEY, session);\n  ***REMOVED***\n\n    export function setTraceId(traceId: string): void {\n        requestContext.set(CURRENT_TRACE_ID_REQUEST_KEY, traceId);\n  ***REMOVED***\n\n    export function getTraceId(): string {\n        return requestContext.get(CURRENT_TRACE_ID_REQUEST_KEY);\n  ***REMOVED***\n\n    export function setAttr(key: string, value: any, scope: AttributeScope = AttributeScope.Request) {\n        if (scope === AttributeScope.Request) {\n            requestContext.set(key, value);\n      ***REMOVED*** else if (scope === AttributeScope.Session) {\n            getSession()[key] = value;\n      ***REMOVED*** else {\n            appAttrs.set(key, value);\n      ***REMOVED***\n  ***REMOVED***\n\n    export function getAttr<T>(key: string, scope?: AttributeScope): T {\n        if (scope) {\n            if (scope === AttributeScope.Request) {\n                return requestContext.get(key);\n          ***REMOVED*** else if (scope === AttributeScope.Session) {\n                return getSession()[key];\n          ***REMOVED*** else {\n                return appAttrs.get(key);\n          ***REMOVED***\n      ***REMOVED*** else {\n            let value = requestContext.get(key);\n            value = value ? value : getSession()[key];\n            return value ? value : appAttrs.get(key);\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n\nexport class HttpContext implements Context {\n    [key: string]: any;\n\n    constructor(public request: Request, public response: Response) {\n  ***REMOVED***\n***REMOVED***\n","import { Context ***REMOVED*** from '../context';\nimport { Component, Value ***REMOVED*** from '@malagu/core';\nimport * as _Cookies from 'cookies';\nimport { Cookies ***REMOVED*** from './cookies-protocol';\n\n@Component()\nexport class CookiesFactory {\n\n    @Value('malagu.cookies.keys')\n    protected keys?: string[];\n\n    @Value('malagu.cookies.secure')\n    protected secure?: boolean;\n\n    async create(): Promise<Cookies> {\n        const cookies = new _Cookies(Context.getRequest() as any, Context.getResponse() as any, {\n            keys: this.keys,\n            secure: this.secure\n        ***REMOVED***\n        return <Cookies>cookies;\n  ***REMOVED***\n***REMOVED***\n","import { Middleware ***REMOVED*** from '../middleware';\nimport { Context ***REMOVED*** from '../context';\nimport { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport * as _Cookies from 'cookies';\nimport { CookiesFactory ***REMOVED*** from './cookies-factory';\nimport { COOKIES_MIDDLEWARE_PRIORITY ***REMOVED*** from './cookies-protocol';\n\n@Component(Middleware)\nexport class CookiesMiddleware implements Middleware {\n\n    @Autowired(CookiesFactory)\n    protected readonly cookiesFactory: CookiesFactory;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        if (ctx.request) {\n            Context.setCookies(await this.cookiesFactory.create());\n      ***REMOVED***\n        await next();\n  ***REMOVED***\n\n    readonly priority = COOKIES_MIDDLEWARE_PRIORITY;\n\n***REMOVED***\n","import { HTTP_MIDDLEWARE_PRIORITY ***REMOVED*** from '../http';\n\nexport const COOKIES_MIDDLEWARE_PRIORITY = HTTP_MIDDLEWARE_PRIORITY - 100;\n\nexport const Cookies = Symbol('Cookies');\n\nexport interface Cookies {\n    get(name: string, opt?: any): string | undefined;\n    set(name: string, vaule: string, opt?: any): void;\n***REMOVED***\n","export * from './cookies-protocol';\nexport * from './cookies-middleware';\nexport * from './cookies-factory';\n","import { Middleware ***REMOVED*** from '../middleware';\nimport { Context ***REMOVED*** from '../context';\nimport { Component, Value ***REMOVED*** from '@malagu/core';\nimport * as cors from 'cors';\nimport { CORS ***REMOVED*** from '../../common';\nimport { CORS_MIDDLEWARE_PRIORITY ***REMOVED*** from './cors-protocol';\n\n@Component(Middleware)\nexport class CorsMiddleware implements Middleware {\n\n    @Value(CORS)\n    protected readonly options: any;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        return new Promise((resolve, reject) => cors(this.options)(ctx.request as any, ctx.response as any, () => next().then(resolve).catch(reject)));\n  ***REMOVED***\n\n    readonly priority = CORS_MIDDLEWARE_PRIORITY;\n\n***REMOVED***\n","import { TRACE_MIDDLEWARE_PRIORITY ***REMOVED*** from '../trace';\nexport const CORS_MIDDLEWARE_PRIORITY = TRACE_MIDDLEWARE_PRIORITY - 100;\n","export * from './cors-protocol';\nexport * from './cors-middleware';\n","import { Context ***REMOVED*** from '../context';\n\nexport const Dispatcher = Symbol('Dispatcher');\n\nexport interface Dispatcher<T extends Context> {\n    dispatch(ctx: T): Promise<void>;\n***REMOVED***\n","import { Context ***REMOVED*** from '../context';\nimport { MiddlewareProvider ***REMOVED*** from '../middleware';\nimport { ErrorHandlerProvider ***REMOVED*** from '../error/error-hander-provider';\nimport { Dispatcher ***REMOVED*** from './dispatcher-protocol';\nimport { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport { HandlerExecutionChain ***REMOVED*** from '../handler/handler-protocol';\n\n@Component(Dispatcher)\nexport class DispatcherImpl implements Dispatcher<Context> {\n\n    @Autowired(HandlerExecutionChain)\n    protected handlerExecutionChain: HandlerExecutionChain;\n\n    @Autowired\n    protected middlewareProvider: MiddlewareProvider;\n\n    @Autowired\n    protected errorHandlerProvider: ErrorHandlerProvider;\n\n    async dispatch(ctx: Context): Promise<void> {\n      ***REMOVED***\n            Context.setCurrent(ctx);\n            const middlewares = this.middlewareProvider.provide();\n            await this.handlerExecutionChain.execute(middlewares);\n      ***REMOVED*** catch (err) {\n            await this.handleError(ctx, err);\n      ***REMOVED***\n  ***REMOVED***\n\n    protected async handleError(ctx: Context, err: Error): Promise<void> {\n        const errorHandlers = this.errorHandlerProvider.provide();\n        for (const handler of errorHandlers) {\n            if (await handler.canHandle(ctx, err)) {\n              ***REMOVED***\n                    await handler.handle(ctx, err);\n              ***REMOVED*** catch (error) {\n                    continue;\n              ***REMOVED***\n            ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n","export * from './dispatcher';\nexport * from './dispatcher-protocol';\n","import { Context ***REMOVED*** from '../context';\nimport { Component, Autowired, Prioritizeable, ValidationErrors ***REMOVED*** from '@malagu/core';\nimport { injectable ***REMOVED*** from 'inversify';\nimport { ErrorHandler, DEFALUT_ERROR_HANDlER_PRIORITY, HTTP_ERROR_HANDlER_PRIORITY, VALIDATION_ERRORS_ERROR_HANDlER_PRIORITY ***REMOVED*** from './error-protocol';\nimport { HttpError ***REMOVED*** from './http-error';\nimport { HttpStatus ***REMOVED*** from '../http';\n\n@injectable()\nexport abstract class AbstractErrorHandler implements ErrorHandler {\n    readonly priority: number = DEFALUT_ERROR_HANDlER_PRIORITY;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(true);\n  ***REMOVED***\n\n    async handle(ctx: Context, err: Error): Promise<void> {\n        console.error(err);\n        ctx.response.statusCode = 500;\n        ctx.response.end(err.message);\n        await this.doHandle(ctx, err);\n  ***REMOVED***\n\n    doHandle(ctx: Context, err: Error): Promise<void> {\n        return Promise.resolve();\n  ***REMOVED***\n***REMOVED***\n\n@Component(ErrorHandler)\nexport class DefaultErrorHandler extends AbstractErrorHandler {\n***REMOVED***\n\n@Component(ErrorHandler)\nexport class HttpErrorHandler implements ErrorHandler {\n    readonly priority: number = HTTP_ERROR_HANDlER_PRIORITY;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(err instanceof HttpError);\n  ***REMOVED***\n\n    async handle(ctx: Context, err: HttpError): Promise<void> {\n        ctx.response.statusCode = err.statusCode;\n        ctx.response.end(err.message);\n  ***REMOVED***\n***REMOVED***\n\n@Component(ErrorHandler)\nexport class ValidationErrorsHandler implements ErrorHandler {\n    readonly priority: number = VALIDATION_ERRORS_ERROR_HANDlER_PRIORITY;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(err instanceof ValidationErrors);\n  ***REMOVED***\n\n    async handle(ctx: Context, err: HttpError): Promise<void> {\n        ctx.response.statusCode = HttpStatus.BAD_REQUEST;\n        ctx.response.end(err.message);\n  ***REMOVED***\n***REMOVED***\n\n@Component()\nexport class ErrorHandlerProvider {\n\n    protected prioritized: ErrorHandler[];\n\n    constructor(\n        @Autowired(ErrorHandler)\n        protected readonly handlers: ErrorHandler[]\n    ) { ***REMOVED***\n\n    provide(): ErrorHandler[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.handlers).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import { Context ***REMOVED*** from '../context';\n\nexport const ErrorHandler = Symbol('ErrorHandler');\n\nexport const DEFALUT_ERROR_HANDlER_PRIORITY = 500;\nexport const HTTP_ERROR_HANDlER_PRIORITY = DEFALUT_ERROR_HANDlER_PRIORITY + 100;\nexport const VALIDATION_ERRORS_ERROR_HANDlER_PRIORITY = HTTP_ERROR_HANDlER_PRIORITY + 100;\n\nexport interface ErrorHandler {\n    readonly priority: number;\n    canHandle(ctx: Context, err: Error): Promise<boolean>;\n    handle(ctx: Context, err: Error): Promise<void>;\n***REMOVED***\n","import { CustomError ***REMOVED*** from '@malagu/core';\n\nexport class HttpError extends CustomError {\n\n    constructor(public statusCode: number, message?: string) {\n        super(message);\n  ***REMOVED***\n\n***REMOVED***\n","export * from './http-error';\nexport * from './error-hander-provider';\nexport * from './error-protocol';\nexport * from './not-found-error';\n","import { HttpError ***REMOVED*** from './http-error';\nimport { HttpStatus ***REMOVED*** from '../http';\n\nexport class NotFoundError extends HttpError {\n\n    constructor(message?: string) {\n        super(HttpStatus.NOT_FOUND, message);\n  ***REMOVED***\n\n***REMOVED***\n\nexport class NotFoundAndContinueError extends NotFoundError {\n\n***REMOVED***\n","import { compose, Middleware ***REMOVED*** from '../middleware';\nimport { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport { Context ***REMOVED*** from '../context';\nimport { HandlerExecutionChain, HandlerMapping ***REMOVED*** from './handler-protocol';\n\n@Component(HandlerExecutionChain)\nexport class HandlerExecutionChainImpl implements HandlerExecutionChain {\n\n    @Autowired(HandlerMapping)\n    protected readonly handlerMapping: HandlerMapping;\n\n    execute(middlewares: Middleware[]): Promise<void> {\n        const middleware = compose(middlewares);\n        return middleware(Context.getCurrent(), {\n            handle: (c: Context, next: () => Promise<void>) => this.handlerMapping.handle(),\n            priority: 0\n        ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { Autowired, Component, Prioritizeable ***REMOVED*** from '@malagu/core';\nimport { HandlerMapping, HandlerAdapter ***REMOVED*** from './handler-protocol';\nimport { NotFoundError ***REMOVED*** from '../error';\nimport { NotFoundAndContinueError ***REMOVED*** from '../error';\n\n@Component(HandlerMapping)\nexport class HandlerMappingImpl implements HandlerMapping {\n\n    protected prioritized: HandlerAdapter[];\n\n    constructor(\n        @Autowired(HandlerAdapter)\n        protected readonly handlerAdapters: HandlerAdapter[]\n    ) {\n        this.prioritized = Prioritizeable.prioritizeAllSync(this.handlerAdapters).map(c => c.value);\n  ***REMOVED***\n\n    async handle(): Promise<void> {\n        let lastError;\n        for (const handler of this.prioritized) {\n            if (await handler.canHandle()) {\n              ***REMOVED***\n                    await handler.handle();\n                ***REMOVED***\n              ***REMOVED*** catch (error) {\n                    if (error instanceof NotFoundAndContinueError) {\n                        lastError = error;\n                  ***REMOVED*** else {\n                    ***REMOVED***\n                  ***REMOVED***\n              ***REMOVED***\n          ***REMOVED***\n      ***REMOVED***\n        if (lastError) {\n            throw lastError;\n      ***REMOVED***\n        throw new NotFoundError('Not found a suitable handler adapter');\n  ***REMOVED***\n\n***REMOVED***\n","import { Middleware ***REMOVED*** from '../middleware';\n\nexport const HandlerExecutionChain = Symbol('HandlerExecutionChain');\n\nexport const HandlerAdapter = Symbol('HandlerAdapter');\n\nexport const HandlerMapping = Symbol('HandlerMapping');\n\nexport interface HandlerExecutionChain {\n    execute(middlewares: Middleware[]): Promise<void>;\n***REMOVED***\n\nexport interface HandlerAdapter {\n    readonly priority: number;\n    handle(): Promise<void>;\n    canHandle(): Promise<boolean>;\n***REMOVED***\n\nexport interface HandlerMapping {\n    handle(): Promise<void>;\n***REMOVED***\n","export * from './handler-execution-chain';\nexport * from './handler-mapping';\nexport * from './handler-protocol';\n","import { Middleware ***REMOVED*** from '../middleware';\nimport { Context ***REMOVED*** from '../context';\nimport { Component, Deferred ***REMOVED*** from '@malagu/core';\nimport { HTTP_MIDDLEWARE_PRIORITY ***REMOVED*** from './http-protocol';\n\n@Component(Middleware)\nexport class HttpMiddleware implements Middleware {\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        await next();\n        const response = ctx.response;\n        if (!response.finished) {\n            const body = response.body;\n            if (body instanceof Deferred) {\n                response.end(await body.promise);\n          ***REMOVED*** else {\n                response.end(response.body);\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    readonly priority = HTTP_MIDDLEWARE_PRIORITY;\n\n***REMOVED***\n","import * as http from 'http';\nimport * as net from 'net';\nimport { CORS_MIDDLEWARE_PRIORITY ***REMOVED*** from '../cors';\n\nexport const HTTP_MIDDLEWARE_PRIORITY = CORS_MIDDLEWARE_PRIORITY - 100;\n\nexport const XML_HTTP_REQUEST = 'XMLHttpRequest';\nexport const X_REQUESTED_WITH = 'X-Requested-With';\n\nexport interface Request {\n    method: string;\n    headers: http.IncomingHttpHeaders;\n    body: any;\n    url: string;\n    path: string;\n    query: { [key: string]: string ***REMOVED***\n    connection: net.Socket;\n***REMOVED***\n\nexport interface Response {\n    statusCode: number;\n    setHeader(name: string, value: number | string | string[]): void;\n    getHeader(name: string): number | string | string[] | undefined;\n    getHeaders(): http.OutgoingHttpHeaders;\n    end(chunk: any, encoding?: string, cb?: Function): void;\n    finished: boolean;\n    body?: any;\n***REMOVED***\n\nexport enum HttpStatus {\n    CONTINUE = 100,\n    SWITCHING_PROTOCOLS = 101,\n    PROCESSING = 102,\n    OK = 200,\n    CREATED = 201,\n    ACCEPTED = 202,\n    NON_AUTHORITATIVE_INFORMATION = 203,\n    NO_CONTENT = 204,\n    RESET_CONTENT = 205,\n    PARTIAL_CONTENT = 206,\n    AMBIGUOUS = 300,\n    MOVED_PERMANENTLY = 301,\n    FOUND = 302,\n    SEE_OTHER = 303,\n    NOT_MODIFIED = 304,\n    TEMPORARY_REDIRECT = 307,\n    PERMANENT_REDIRECT = 308,\n    BAD_REQUEST = 400,\n    UNAUTHORIZED = 401,\n    PAYMENT_REQUIRED = 402,\n    FORBIDDEN = 403,\n    NOT_FOUND = 404,\n    METHOD_NOT_ALLOWED = 405,\n    NOT_ACCEPTABLE = 406,\n    PROXY_AUTHENTICATION_REQUIRED = 407,\n    REQUEST_TIMEOUT = 408,\n    CONFLICT = 409,\n    GONE = 410,\n    LENGTH_REQUIRED = 411,\n    PRECONDITION_FAILED = 412,\n    PAYLOAD_TOO_LARGE = 413,\n    URI_TOO_LONG = 414,\n    UNSUPPORTED_MEDIA_TYPE = 415,\n    REQUESTED_RANGE_NOT_SATISFIABLE = 416,\n    EXPECTATION_FAILED = 417,\n    I_AM_A_TEAPOT = 418,\n    UNPROCESSABLE_ENTITY = 422,\n    FAILED_DEPENDENCY = 424,\n    TOO_MANY_REQUESTS = 429,\n    INTERNAL_SERVER_ERROR = 500,\n    NOT_IMPLEMENTED = 501,\n    BAD_GATEWAY = 502,\n    SERVICE_UNAVAILABLE = 503,\n    GATEWAY_TIMEOUT = 504,\n    HTTP_VERSION_NOT_SUPPORTED = 505,\n***REMOVED***\n","export * from './http-protocol';\nexport * from './http-middleware';\n","export * from './middleware';\nexport * from './middleware';\nexport * from './dispatcher';\nexport * from './context';\nexport * from './error';\nexport * from './handler';\nexport * from './cookies';\nexport * from './session';\nexport * from './http';\nexport * from './matcher';\nexport * from './cors';\nexport * from './trace';\n","export * from './matcher-protocol';\nexport * from './request-matcher';\n","export const RequestMatcher = Symbol('RequestMatcher');\n\nexport interface RequestMatcher {\n    match(pattern: any, method?: string): Promise<any>;\n***REMOVED***\n","import { RequestMatcher ***REMOVED*** from './matcher-protocol';\nimport { Context ***REMOVED*** from '../context';\nimport { Component ***REMOVED*** from '@malagu/core';\nimport * as UrlPattern from 'url-pattern';\n\n@Component(RequestMatcher)\nexport class RequestMatcherImpl implements RequestMatcher {\n    protected caches: Map<string, UrlPattern> = new Map<string, UrlPattern>();\n\n    async match(pattern: any, method?: string): Promise<any> {\n        const request = Context.getRequest();\n        const path = request.path;\n        if (method && request.method && method.toLowerCase() !== request.method.toLowerCase()) {\n            return false;\n      ***REMOVED***\n        pattern = pattern || '/';\n        let urlPathern: UrlPattern | undefined;\n        if (typeof pattern === 'string') {\n            urlPathern = this.caches.get(pattern);\n            if (!urlPathern) {\n                urlPathern = new UrlPattern(pattern);\n                this.caches.set(pattern, urlPathern);\n          ***REMOVED***\n      ***REMOVED*** else {\n            urlPathern = new UrlPattern(pattern);\n      ***REMOVED***\n        return urlPathern.match(path);\n  ***REMOVED***\n\n***REMOVED***\n","import { Context ***REMOVED*** from '../context';\nimport { Middleware ***REMOVED*** from './middleware-provider';\n\nexport function compose(middlewares: Middleware[]) {\n    return (ctx: Context, next: Middleware) => {\n        let index = -1;\n        const dispatch = (i: number): Promise<void> => {\n            if (i <= index) {\n                return Promise.reject(new Error('next() called multiple times'));\n          ***REMOVED***\n            index = i;\n            let middleware = middlewares[i];\n            if (i === middlewares.length) {\n                middleware = next;\n          ***REMOVED***\n            if (!middleware) {\n                return Promise.resolve();\n          ***REMOVED***\n          ***REMOVED***\n                return middleware.handle(ctx, (): Promise<void> => dispatch(i + 1));\n          ***REMOVED*** catch (err) {\n                return Promise.reject(err);\n          ***REMOVED***\n        ***REMOVED***\n        return dispatch(0);\n    ***REMOVED***\n***REMOVED***\n","export * from './middleware-provider';\nexport * from './compose';\n","import { Context ***REMOVED*** from '../context';\nimport { Component, Autowired, Optional, Prioritizeable ***REMOVED*** from '@malagu/core';\n\nexport const Middleware = Symbol('Middleware');\n\nexport interface Middleware {\n\n    handle(ctx: Context, next: () => Promise<void>): Promise<void>;\n\n    readonly priority: number;\n***REMOVED***\n\n@Component()\nexport class MiddlewareProvider {\n\n    protected prioritized: Middleware[];\n\n    constructor(\n        @Autowired(Middleware) @Optional\n        protected readonly middlewares: Middleware[]\n    ) { ***REMOVED***\n\n    provide(): Middleware[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.middlewares).map(c => c.value);\n      ***REMOVED***\n        return this.prioritized;\n  ***REMOVED***\n\n***REMOVED***\n","import 'reflect-metadata';\nimport 'reflect-metadata';\nimport { autoBind ***REMOVED*** from '@malagu/core';\nimport '../common';\nimport '.';\n\nexport default autoBind();\n","export * from './session-manager';\nexport * from './session';\nexport * from './session-store';\nexport * from './session-strategy';\nexport * from './session-middleware';\n","import { SessionManager, Session, SessionStrategy, SessionStore, COOKIE_EXP_DATE ***REMOVED*** from './session-protocol';\nimport { Autowired, Value, Component ***REMOVED*** from '@malagu/core';\nimport { Context ***REMOVED*** from '../context';\n\n@Component(SessionManager)\nexport class SessionManagerImpl implements SessionManager {\n\n    @Value('malagu.session.sessionIdKey')\n    protected readonly sessionIdKey: string;\n\n    @Autowired(SessionStrategy)\n    protected readonly sessionStrategy: SessionStrategy;\n\n    @Autowired(SessionStore)\n    protected readonly sessionStore: SessionStore;\n\n    protected async getSessionId() {\n        const cookies = Context.getCookies();\n        return cookies.get(this.sessionIdKey);\n  ***REMOVED***\n\n    async get(): Promise<Session> {\n        if (Context.getSession()) {\n            return Context.getSession();\n      ***REMOVED***\n        const sessionId = await this.getSessionId();\n        if (sessionId) {\n            const session = await this.sessionStore.get(sessionId);\n            if (session && await this.sessionStrategy.valid(session)) {\n                return session;\n          ***REMOVED***\n      ***REMOVED***\n        return this.sessionStrategy.create();\n  ***REMOVED***\n\n    async remove(): Promise<void> {\n        if (Context.getSession()) {\n            await this.sessionStore.remove(Context.getSession().id);\n      ***REMOVED***\n        Context.getCookies().set(this.sessionIdKey, '', {\n            expires: COOKIE_EXP_DATE,\n            maxAge: false,\n        ***REMOVED***\n  ***REMOVED***\n\n    async commit(): Promise<void> {\n        const session = Context.getSession();\n        if (!session) {\n        ***REMOVED***\n      ***REMOVED***\n        if (await this.sessionStrategy.shouldSaveSession(session)) {\n            await this.sessionStore.set(session);\n            Context.getCookies().set(this.sessionIdKey, session.id);\n      ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { Middleware ***REMOVED*** from '../middleware';\nimport { Context ***REMOVED*** from '../context';\nimport { Component, Value, Autowired ***REMOVED*** from '@malagu/core';\nimport { SessionManager, SESSION_MIDDLEWARE_PRIORITY ***REMOVED*** from './session-protocol';\n\n@Component(Middleware)\nexport class SessionMiddleware implements Middleware {\n\n    @Autowired(SessionManager)\n    protected readonly sessionManager: SessionManager;\n\n    @Value('malagu.session')\n    protected readonly sessionOptions: any;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        Context.setSession(await this.sessionManager.get());\n      ***REMOVED***\n            await next();\n      ***REMOVED*** finally {\n            if (this.sessionOptions.autoCommit) {\n                await this.sessionManager.commit();\n          ***REMOVED***\n      ***REMOVED***\n  ***REMOVED***\n\n    readonly priority = SESSION_MIDDLEWARE_PRIORITY;\n\n***REMOVED***\n","import { COOKIES_MIDDLEWARE_PRIORITY ***REMOVED*** from '../cookies';\n\nexport const Session = Symbol('Session');\nexport const SessionStore = Symbol('SessionStore');\nexport const SessionManager = Symbol('SessionManager');\nexport const SessionStrategy = Symbol('SessionStrategy');\n\nexport const COOKIE_EXP_DATE = new Date('Thu, 01 Jan 1970 00:00:00 GMT');\n\nexport const SESSION_MIDDLEWARE_PRIORITY = COOKIES_MIDDLEWARE_PRIORITY - 100;\n\nexport interface Session {\n    id: string;\n    isNew: boolean;\n    expire: number;\n    maxAge: number;\n    readonly changed: boolean;\n    [key: string]: any;\n    toJSON(): any;\n\n***REMOVED***\n\nexport interface SessionStore {\n    get(id: string): Promise<Session | undefined>;\n    set(session: Session): Promise<void>;\n    remove(id: string): Promise<void>;\n***REMOVED***\n\nexport interface SessionManager {\n\n    get(): Promise<Session>;\n    remove(): Promise<void>;\n    commit(): Promise<void>;\n***REMOVED***\n\nexport interface SessionStrategy {\n    valid(session: Session): Promise<boolean>;\n    create(obj?: any): Promise<Session>;\n    shouldSaveSession(session: Session): Promise<boolean>;\n***REMOVED***\n","import { Session, SessionStrategy, SessionStore, COOKIE_EXP_DATE ***REMOVED*** from './session-protocol';\nimport { Autowired, Value, Component ***REMOVED*** from '@malagu/core';\nimport { Context ***REMOVED*** from '../context';\n\n@Component(SessionStore)\nexport class CookieSessionStore implements SessionStore {\n\n    protected session: Session | undefined;\n\n    @Value('malagu.session')\n    protected readonly sessionOptions: any;\n\n    @Autowired(SessionStrategy)\n    protected readonly sessionStrategy: SessionStrategy;\n\n    async get(id: string): Promise<Session | undefined> {\n        const value = Context.getCookies().get(this.sessionOptions.sessionKey, this.sessionOptions);\n        if (value) {\n            return this.sessionStrategy.create(JSON.parse(Buffer.from(value, 'base64').toString('utf8')));\n      ***REMOVED***\n  ***REMOVED***\n\n    async set(session: Session): Promise<void> {\n        Context.getCookies().set(this.sessionOptions.sessionKey, Buffer.from(JSON.stringify(session.toJSON())).toString('base64'), this.sessionOptions);\n  ***REMOVED***\n\n    async remove(id: string): Promise<void> {\n        Context.getCookies().set(this.sessionOptions.sessionKey, '', {\n            expires: COOKIE_EXP_DATE,\n            maxAge: false,\n        ***REMOVED***\n  ***REMOVED***\n\n***REMOVED***\n","import { SessionStrategy, Session ***REMOVED*** from './session-protocol';\nimport { SessionImpl ***REMOVED*** from './session';\nimport { Value, Component ***REMOVED*** from '@malagu/core';\n\n@Component(SessionStrategy)\nexport class SessionStrategyImpl implements SessionStrategy {\n\n    @Value('malagu.session')\n    protected readonly sessionOptions: any;\n\n    async valid(session: Session): Promise<boolean> {\n        if (session.expire && session.expire < Date.now()) {\n            return false;\n      ***REMOVED***\n        return true;\n  ***REMOVED***\n\n    create(obj?: any): Promise<Session> {\n        return Promise.resolve(new SessionImpl(this.sessionOptions, obj));\n  ***REMOVED***\n\n    async shouldSaveSession(session: Session): Promise<boolean> {\n        if (session.changed) {\n            return true;\n      ***REMOVED***\n        // save if opts.renew and session will expired\n        if (this.sessionOptions.renew === true) {\n            const expire = session.expire;\n            const maxAge = session.maxAge;\n            // renew when session will expired in maxAge / 2\n            if (expire && maxAge && expire - Date.now() < maxAge / 2) {\n                return true;\n          ***REMOVED***\n      ***REMOVED***\n        return false;\n  ***REMOVED***\n***REMOVED***\n","import { Session ***REMOVED*** from './session-protocol';\nimport * as uuid from 'uuid/v4';\nconst crc = require('crc').crc32;\n\nexport class SessionImpl implements Session {\n    readonly id = uuid();\n    isNew: boolean = true;\n    expire: number;\n    maxAge: number;\n    protected _preHash: string;\n    constructor(sessionOptions: any, obj?: any) {\n        if (obj) {\n            this.isNew = false;\n            for (const key of Object.keys(obj)) {\n                (this as any)[key] = obj[key];\n          ***REMOVED***\n      ***REMOVED*** else {\n            this.expire = sessionOptions.maxAge + Date.now();\n            this.maxAge = sessionOptions.maxAge;\n      ***REMOVED***\n        this._preHash = this.hash();\n  ***REMOVED***\n\n    protected hash() {\n        return crc(JSON.stringify(this.toJSON()));\n  ***REMOVED***\n\n    toJSON(): any {\n        const obj: any = {***REMOVED***\n        for (const key of Object.keys(this)) {\n            if (key !== 'isNew' && key[0] !== '_') {\n                obj[key] = (this as any)[key];\n          ***REMOVED***\n      ***REMOVED***\n        return obj;\n  ***REMOVED***\n\n    get changed() {\n        if (this._preHash !== this.hash()) {\n            return true;\n      ***REMOVED***\n        return false;\n  ***REMOVED***\n\n***REMOVED***\n","export * from './trace-middleware';\nexport * from './trace-protocol';\nexport * from './trace-id-resolver';\n","import { v4 ***REMOVED*** from 'uuid';\nimport { Component, Value ***REMOVED*** from '@malagu/core';\nimport { TraceIdResolver, TRACE_ID_REQUEST_FIELD ***REMOVED*** from './trace-protocol';\nimport { Context ***REMOVED*** from '../context';\n\n@Component(TraceIdResolver)\nexport class TraceIdResolverImpl implements TraceIdResolver {\n    @Value(TRACE_ID_REQUEST_FIELD)\n    protected readonly traceField: string;\n\n    resolve(): Promise<string> {\n        if (Context.getRequest() && this.traceField ) {\n            const traceId = Context.getRequest().headers[this.traceField] as string | undefined;\n            if (traceId) {\n                return Promise.resolve(traceId);\n          ***REMOVED***\n      ***REMOVED***\n        return Promise.resolve(v4());\n  ***REMOVED***\n***REMOVED***\n","import { TraceIdResolver ***REMOVED*** from './trace-protocol';\nimport { Middleware ***REMOVED*** from '../middleware';\nimport { Context ***REMOVED*** from '../context';\nimport { Component, Autowired, Logger ***REMOVED*** from '@malagu/core';\nimport { TRACE_MIDDLEWARE_PRIORITY, TRACE_ID_RESPONSE_FIELD ***REMOVED*** from './trace-protocol';\n\n@Component(Middleware)\nexport class TraceMiddleware implements Middleware {\n\n    @Autowired(TraceIdResolver)\n    protected readonly traceIdResolver: TraceIdResolver;\n\n    @Autowired(Logger)\n    protected readonly logger: Logger;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        const method = ctx.request.method;\n        const path = ctx.request.path;\n        const traceId = await this.traceIdResolver.resolve();\n        this.logger.info(`starting ${method***REMOVED*** ${path***REMOVED*** with traceId[${traceId***REMOVED***]`);\n        const now = Date.now();\n\n        Context.setTraceId(traceId);\n        ctx.response.setHeader(TRACE_ID_RESPONSE_FIELD, traceId);\n      ***REMOVED***\n            await next();\n      ***REMOVED*** finally {\n            this.logger.info(`ending ${method***REMOVED*** ${path***REMOVED*** with traceId[${traceId***REMOVED***], cost ${Date.now() - now***REMOVED***ms`);\n      ***REMOVED***\n  ***REMOVED***\n\n    readonly priority = TRACE_MIDDLEWARE_PRIORITY;\n\n***REMOVED***\n","// Be sure this middleware is always at first position\nexport const TRACE_MIDDLEWARE_PRIORITY = 2200;\n\nexport const TRACE_ID_REQUEST_FIELD = 'malagu.trace.requestField';\nexport const TRACE_ID_RESPONSE_FIELD = 'malagu.trace.responseField';\n\nexport const TraceIdResolver = Symbol('TraceIdResolver');\n\nexport interface TraceIdResolver {\n    resolve(): Promise<string>;\n***REMOVED***\n","export * from './logger';\n","export * from './winston-logger';\nexport * from './winston-logger-protocol';\n","import * as winston from 'winston';\n\nexport const WinstonConfig = Symbol('WinstonConfig');\n\nexport interface WinstonConfig extends winston.LoggerOptions {\n\n***REMOVED***\n","import { Logger, Component, Value, LOGGER_CONFIG, Autowired, Optional ***REMOVED*** from '@malagu/core';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { createLogger, Logger as winstonLogger, transports ***REMOVED*** from 'winston';\nimport * as Transport from 'winston-transport';\nimport * as os from 'os';\nimport { WinstonConfig ***REMOVED*** from './winston-logger-protocol';\n\n@Component({ id: Logger, rebind: true ***REMOVED***)\nexport class WinstonLogger implements Logger {\n\n  protected logger: winstonLogger;\n\n  constructor (\n    @Value(LOGGER_CONFIG)\n    protected readonly config: any,\n    @Autowired(WinstonConfig)\n    @Optional()\n    protected readonly winstonConfig1: WinstonConfig\n  ) {\n    const { winstonConfig ***REMOVED*** = this.config;\n    this.logger = createLogger({\n      transports: [new transports.Console()],\n      ...winstonConfig,\n      ...winstonConfig1,\n    ***REMOVED***\n***REMOVED***\n\n  public addTransports(transport: Transport[] | Transport) {\n    if (Array.isArray(transport)) {\n      transport.map(item => this.logger.add(item));\n  ***REMOVED***\n  ***REMOVED***\n    this.logger.add(transport);\n***REMOVED***\n  public removeTransports(transport: Transport[] | Transport) {\n    if (Array.isArray(transport)) {\n      transport.map(item => this.logger.remove(item));\n  ***REMOVED***\n  ***REMOVED***\n    this.logger.remove(transport);\n***REMOVED***\n\n  public getRawLogger() {\n    return this.logger;\n***REMOVED***\n\n  protected getMessagePrefix() {\n    const hostname = os.hostname();\n    const pid = process.pid;\n    if (Context.getCurrent()) {\n      const traceId = Context.getTraceId();\n      const path = Context.getRequest().path;\n      const method = Context.getRequest().method;\n      return  `${method.toLocaleUpperCase()***REMOVED*** ${path***REMOVED*** ( ${pid***REMOVED*** on ${hostname***REMOVED***)${traceId ? ` with ${traceId***REMOVED***` : ''***REMOVED***`;\n  ***REMOVED***\n  ***REMOVED***\n\n    return `(${pid***REMOVED*** on ${hostname***REMOVED***)`;\n***REMOVED***\n\n  error(message: string, prefix = this.getMessagePrefix()) {\n    this.logger.error(`${prefix***REMOVED*** ${message***REMOVED***`);\n***REMOVED***\n\n  warn(message: string, prefix = this.getMessagePrefix()) {\n    this.logger.warn(`${prefix***REMOVED*** ${message***REMOVED***`);\n***REMOVED***\n\n  info(message: string, prefix = this.getMessagePrefix()) {\n    this.logger.info(`${prefix***REMOVED*** ${message***REMOVED***`);\n***REMOVED***\n\n  debug(message: string, prefix = this.getMessagePrefix()) {\n    this.logger.debug(`${prefix***REMOVED*** ${message***REMOVED***`);\n***REMOVED***\n\n  verbose(message: string, prefix = this.getMessagePrefix()) {\n    this.logger.verbose(`${prefix***REMOVED*** ${message***REMOVED***`);\n***REMOVED***\n***REMOVED***\n","import { autoBind ***REMOVED*** from '@malagu/core';\nimport '.';\n\nexport default autoBind();\n","export const BlogServer = Symbol('BlogServer');\n\nexport interface BlogServer {\n  fetchHottestArticles(limit: number): Promise<DouMiBlog.ArticleList>;\n  fetchArticleList(currentPage: number, condition?: DouMiBlog.QueryCondition): Promise<DouMiBlog.ArticleList>;\n  findArticlesByKeyword(keyword: string): Promise<DouMiBlog.ArticleBrief[]>\n  fetchArticleDetail(slug: string, shouldBeUpdateStats?: boolean): Promise<DouMiBlog.ArticleDetail>;\n  fetchTagsList(): Promise<DouMiBlog.TagsItem[]>;\n  fetchCatsList(): Promise<DouMiBlog.CategoryItem[]>;\n  fetchArchsList(): Promise<DouMiBlog.ArchiveItem[]>;\n  fetchWebsiteChangeLog(): Promise<DouMiBlog.ChangeLog[]>\n  fetchWebsiteStatistics(): Promise<DouMiBlog.WebsiteStatsItem[]>;\n  fetchSummaryStats(): Promise<DouMiBlog.SummaryStats>;\n  fetchHottestArticleLast7Days(): Promise<DouMiBlog.ArticleStatsItem[]>;\n  registerUser(param: DouMiBlog.RegisterParam): Promise<string>;\n***REMOVED***\n\nexport namespace DouMiBlog {\n  export interface SummaryStats{\n    operationDays: string,\n    totalPv: number,\n    articleCount: number,\n    articlesWordsNum: number,\n    commentsNum: number\n***REMOVED***\n  export interface ChangeLog {\n    title: string,\n    desc1: string,\n    desc2: string,\n    date: string,\n    time: string\n***REMOVED***\n  export interface WebsiteStatsItem {\n    date: string,\n    todayUv: number,\n    todayPv: number,\n    totalUv: number,\n    totalPv: number,\n    pvGrowthRate: number,\n    uvGrowthRate: number\n***REMOVED***\n\n  export interface ArticleStatsItem {\n    slug: string,\n    name: string,\n    count: number\n***REMOVED***\n  export interface ArticleList {\n    currentPage: number,\n    list: ArticleBrief[],\n    pageCount: number,\n***REMOVED***\n  export interface ArticleBrief {\n    title: string,\n    archiveTime: string,\n    slug: string,\n    illustration: string,\n    tags: string[],\n    category: string,\n    digest: string,\n    articleStatus: 'draft' | 'published',\n***REMOVED***\n\n  interface PropertyItem {\n    id: number,\n    name: string,\n    articlesCount: number\n***REMOVED***\n\n  export interface TagsItem extends PropertyItem {***REMOVED***\n\n  export interface CategoryItem extends PropertyItem {***REMOVED***\n\n  export interface ArchiveItem extends PropertyItem {\n    archiveTime: string;\n***REMOVED***\n\n  export interface ArticleDetail {\n    id?: number;\n    title: string;\n    content: string;\n    slug: string;\n    digest: string;\n    pv: number;\n    articleStatus: 'draft' | 'published';\n    illustration: string;\n    author: string;\n    tags: string[];\n    archiveTime: string;\n    category: string;\n    catId: number;\n***REMOVED***\n\n  export interface QueryCondition {\n    queryTag?: number,\n    queryCat?: number,\n    queryArch?: number,\n    [key: string]: any\n***REMOVED***\n  export interface RegisterParam {\n    email: string,\n    username: string,\n    password: string\n***REMOVED***\n\n  export interface LoginParam {\n    email: string,\n    password: string\n***REMOVED***\n***REMOVED***\n","import { Component, Autowired, Value ***REMOVED*** from '@malagu/core';\nimport {\n  AuthenticationProvider, Authentication, DEFAULT_AUTHENTICATION_PROVIDER_PRIORITY,\n  PasswordEncoder, UserStore, UserChecker, BadCredentialsError ***REMOVED*** from '@malagu/security/lib/node';\nimport { Context, RequestMatcher ***REMOVED*** from '@malagu/web/lib/node';\n\n@Component({id: AuthenticationProvider, rebind: true***REMOVED***)\nexport class AuthenticationProviderImpl implements AuthenticationProvider {\n\n  @Value('malagu.security')\n  protected readonly options: any;\n\n  @Autowired(PasswordEncoder)\n  protected readonly passwordEncoder: PasswordEncoder;\n\n  @Autowired(UserStore)\n  protected readonly userStore: UserStore;\n\n  @Autowired(UserChecker)\n  protected readonly userChecker: UserChecker;\n\n  @Autowired(RequestMatcher)\n  protected readonly requestMatcher: RequestMatcher;\n\n  priority = DEFAULT_AUTHENTICATION_PROVIDER_PRIORITY;\n\n  async authenticate(): Promise<Authentication> {\n    const username = this.doGetValue(this.options.usernameKey);\n    const password = this.doGetValue(this.options.passwordKey);\n    let user;\n  ***REMOVED***\n      if (!password || !username) {\n        throw new BadCredentialsError('Bad credentials');\n    ***REMOVED***\n      user = await this.userStore.load(username);\n      await this.userChecker.check(user);\n      if (!await this.passwordEncoder.matches(password, user.password)) {\n        throw new BadCredentialsError('Bad credentials');\n    ***REMOVED***\n      Context.getResponse().statusCode = 200;\n      Context.getResponse().body = JSON.stringify({status: 1, data: '登录成功'***REMOVED***\n      return {\n        principal: user,\n        credentials: '',\n        policies: user.policies,\n        authenticated: true\n      ***REMOVED***\n  ***REMOVED*** catch (err) {\n      Context.getResponse().statusCode = 200;\n      Context.getResponse().body = JSON.stringify({status: 0, error: '用户名或密码不正确'***REMOVED***\n      return {\n        // eslint-disable-next-line no-null/no-null\n        principal: null,\n        credentials: '',\n        policies: [],\n        authenticated: false\n      ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n  protected doGetValue(key: string): string {\n    const request = Context.getRequest();\n    if (request.body) {\n      return request.body[key];\n  ***REMOVED*** else {\n      return request.query[key];\n  ***REMOVED***\n***REMOVED***\n\n  async support(): Promise<boolean> {\n    return !!await this.requestMatcher.match(this.options.loginUrl, this.options.loginMethod);\n***REMOVED***\n\n***REMOVED***\n","import { BlogServer, DouMiBlog ***REMOVED*** from '../common/blog-protocol';\nimport { Rpc ***REMOVED*** from '@malagu/rpc';\nimport { Anonymous ***REMOVED*** from '@malagu/security/lib/node';\nimport { Autowired, Logger ***REMOVED*** from '@malagu/core';\nimport { BlogServiceSymbol, BlogService ***REMOVED*** from './services';\nimport { AuthServiceSymbol, AuthService ***REMOVED*** from './services/auth.service';\nimport { WebsiteServiceSymbol, WebsiteService ***REMOVED*** from './services/website.service';\nimport { WinstonLogger ***REMOVED*** from 'malagu-winston';\n\n\nconst pick = require('lodash.pick');\n\n@Rpc(BlogServer)\n@Anonymous()\nexport class BlogServerImpl implements BlogServer {\n\n  @Autowired(AuthServiceSymbol)\n  protected readonly authService: AuthService;\n\n  @Autowired(BlogServiceSymbol)\n  protected readonly blogService: BlogService;\n\n  @Autowired(WebsiteServiceSymbol)\n  protected readonly websiteService: WebsiteService;\n\n  @Autowired(Logger)\n  protected readonly logger: WinstonLogger;\n\n  async fetchHottestArticles(limit: number): Promise<DouMiBlog.ArticleList> {\n    this.logger.info(`fetch hottest articles with limit[${limit***REMOVED***]`);\n    const result = await this.blogService.fetchArticleList(1, limit, {\n      pv: 'DESC'\n    ***REMOVED***\n\n    result.list = result.list.map(item => pick(item, ['title', 'slug', 'archiveTime']));\n\n    this.logger.info(`hottest articles result: ${JSON.stringify(result)***REMOVED***`);\n    return Promise.resolve(result);\n***REMOVED***\n\n  async fetchArticleList(currentPage: number, condition?: DouMiBlog.QueryCondition): Promise<DouMiBlog.ArticleList> {\n    this.logger.info(`fetchArticleList with currentPage[${currentPage***REMOVED***], condition[${JSON.stringify(condition)***REMOVED***]`);\n    const result = await this.blogService.fetchArticleList(currentPage, 20, undefined, condition);\n\n    result.list = result.list.map(item => pick(item, ['title', 'slug', 'archiveTime', 'digest', 'illustration', 'author', 'tags', 'category', 'articleStatus']));\n\n    return Promise.resolve(result);\n***REMOVED***\n\n  async fetchArticleDetail(slug: string, shouldBeUpdateStats = false): Promise<DouMiBlog.ArticleDetail> {\n    const result = await this.blogService.fetchArticleDetail(slug, shouldBeUpdateStats);\n\n    return Promise.resolve(result);\n***REMOVED***\n\n  async findArticlesByKeyword(keyword: string): Promise<DouMiBlog.ArticleBrief[]> {\n    const result = await this.blogService.searchArticleByKeyword(keyword);\n\n    const list = result.map(item => pick(item, ['title', 'slug']));\n\n    return Promise.resolve(list);\n***REMOVED***\n\n  async fetchTagsList(): Promise<DouMiBlog.TagsItem[]> {\n    const result = await this.blogService.fetchTagsListWithArticle();\n\n    return Promise.resolve(result);\n***REMOVED***\n  async fetchCatsList(): Promise<DouMiBlog.CategoryItem[]> {\n    const result = await this.blogService.fetchCatListWithArticle();\n\n    return Promise.resolve(result);\n***REMOVED***\n\n  async fetchArchsList(): Promise<DouMiBlog.ArchiveItem[]> {\n    const result = await this.blogService.fetchArchListWithArticle();\n\n    return Promise.resolve(result);\n***REMOVED***\n\n  async fetchWebsiteChangeLog() {\n    const result = await this.websiteService.websiteChangeLog();\n\n    return Promise.resolve(result.reverse());\n***REMOVED***\n\n  async fetchWebsiteStatistics() {\n    const result = await this.websiteService.fetchWebsiteStatistics();\n\n    return Promise.resolve(result);\n***REMOVED***\n  async fetchSummaryStats() {\n    const result = await this.websiteService.fetchSummaryStats();\n\n    return Promise.resolve(result);\n***REMOVED***\n\n  async fetchHottestArticleLast7Days() {\n    const result = await this.blogService.fetchHottestArticleRecently();\n\n    return Promise.resolve(result);\n***REMOVED***\n\n  async registerUser(param: DouMiBlog.RegisterParam): Promise<string> {\n    await this.authService.registerUser(param);\n    return Promise.resolve('注册成功');\n***REMOVED***\n***REMOVED***\n","import { Controller, Post, Put, Body ***REMOVED*** from '@malagu/mvc/lib/node';\nimport { Autowired ***REMOVED*** from '@malagu/core';\nimport { Transactional ***REMOVED*** from '@malagu/typeorm/lib/node';\nimport { DouMiBlog ***REMOVED*** from '../common/blog-protocol';\nimport { BlogServiceSymbol, BlogService ***REMOVED*** from './services/blog.service';\nimport { Article ***REMOVED*** from './entity/article';\nimport { SecurityContext ***REMOVED*** from '@malagu/security/lib/node';\n\n// 以下api都是需要身份校验\n@Controller('/api')\nexport class BlogAdminController {\n\n  @Autowired(BlogServiceSymbol)\n  protected readonly blogService: BlogService;\n\n  // 新建博客\n  @Post('/blog')\n  @Transactional()\n  async createBlog(\n  @Body() article: DouMiBlog.ArticleDetail,\n  ) {\n    const userInfo = SecurityContext.getAuthentication().principal;\n    const { username ***REMOVED*** = userInfo;\n\n    const result = await this.blogService.createOrUpdateArticle(article, username);\n\n    return { status: 1, data: {\n      msg: article.articleStatus === 'draft' ? '保存草稿成功' : '发布成功',\n      slug: (result as Article).slug\n  ***REMOVED******REMOVED***\n***REMOVED***\n\n  // 更新博客内容\n  @Put('/blog')\n  @Transactional()\n  async updateBlog(\n  @Body() article: DouMiBlog.ArticleDetail,\n  ) {\n    const userInfo = SecurityContext.getAuthentication().principal;\n    const { username ***REMOVED*** = userInfo;\n\n    await this.blogService.createOrUpdateArticle(article, username, true);\n\n    return { status: 1, data: {\n      msg: article.articleStatus === 'draft' ? '更新草稿成功' : '更新发布成功'\n  ***REMOVED******REMOVED***\n***REMOVED***\n***REMOVED***\n","export * from './logger.config';\n","import { Component, Value, LOGGER_CONFIG ***REMOVED*** from '@malagu/core';\nimport { WinstonConfig ***REMOVED*** from 'malagu-winston';\nimport { format, transports ***REMOVED*** from 'winston';\nimport * as Transport from 'winston-transport';\n\nconst DailyRotateFile = require('winston-daily-rotate-file');\n\n@Component(WinstonConfig)\nexport class WinstonConfigImpl implements WinstonConfig {\n  transports: Transport[];\n\n  constructor(\n    @Value(LOGGER_CONFIG)\n    protected readonly config: any,\n    @Value('mode')\n    protected readonly mode: string\n  ) {\n    const { dailyRotateConfig ***REMOVED*** = this.config;\n    this.transports = [\n      new DailyRotateFile({\n        ...dailyRotateConfig,\n        format: format.combine(\n          format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss,SSS'***REMOVED***),\n          format.simple(),\n          format.printf(msg =>\n            `${msg.timestamp***REMOVED*** - ${msg.level***REMOVED***: ${msg.message***REMOVED***`\n          )\n        ),\n    ***REMOVED***),\n    ];\n    if (this.mode.includes('local')) {\n      this.transports.push(new transports.Console({\n        format: format.combine(\n          format.colorize(),\n          format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss,SSS'***REMOVED***),\n          format.simple(),\n          format.printf(msg =>\n            `${msg.timestamp***REMOVED*** - ${msg.level***REMOVED***: ${msg.message***REMOVED***`\n          )\n        ),\n    ***REMOVED***));\n    ***REMOVED***\n***REMOVED***\n***REMOVED***\n","import { Entity, PrimaryGeneratedColumn, Column, OneToMany, CreateDateColumn, UpdateDateColumn, Index ***REMOVED*** from 'typeorm';\nimport { Article ***REMOVED*** from './article';\n\n@Entity()\nexport class Archive {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  // 归档时间，诸如'2010-01'这样的字符\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  @Index({ unique: true ***REMOVED***)\n  archiveTime: string;\n\n  @OneToMany(type => Article, article => article.archiveTime)\n  articles: Article[];\n\n  @CreateDateColumn()\n  public readonly createdAt!: Date;\n\n  @UpdateDateColumn()\n  public readonly updatedAt!: Date;\n***REMOVED***\n","import { Entity, PrimaryGeneratedColumn, Column, ManyToOne, ManyToMany, JoinTable, Index, CreateDateColumn, UpdateDateColumn ***REMOVED*** from 'typeorm';\nimport { User ***REMOVED*** from './user';\nimport { Tag ***REMOVED*** from './tag';\nimport { Archive ***REMOVED*** from './archive';\nimport { Category ***REMOVED*** from './category';\n\n\nexport enum ArticleStatus {\n  DRAFT = 'draft',\n  PUBLISHED = 'published',\n***REMOVED***\n\n@Entity()\nexport class Article {\n\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  // 文章标题\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  title: string;\n\n  // 文章阅读量\n  @Column('bigint')\n  pv: number;\n\n  // 博文主体，markdown格式\n  @Column('longtext')\n  content: string;\n\n  // 博文链接\n  @Column('varchar')\n  @Index({unique: true***REMOVED***)\n  slug: string;\n\n  // 博文摘要，这次需要自己填写，不再自动从文章采集字符了，那样实现不准确\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  digest: string;\n\n  // 博文状态,默认草稿中\n  @Column({\n    type: 'enum',\n    enum: ArticleStatus,\n    default: ArticleStatus.DRAFT\n***REMOVED***)\n  articleStatus: ArticleStatus;\n\n  // 文章首页图片链接\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  illustration: string;\n\n  // 文章作者\n  @ManyToOne(type => User, user => user.articles)\n  author: User;\n\n  // 一篇文章可以包含多个tag，所以这里是多对多的关系\n  @ManyToMany(type => Tag, tag => tag.articles)\n  @JoinTable()\n  tags: Tag[];\n\n  // 以日为单位\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  fullArchiveTime: string;\n\n  // 文章的归档时间, 月份为单位\n  @ManyToOne(type => Archive, archive => archive.articles)\n  archiveTime: Archive;\n\n  // 文章的分类\n  @ManyToOne(type => Category, category => category.articles)\n  category: Category;\n\n  @CreateDateColumn()\n  public readonly createdAt!: Date;\n\n  @UpdateDateColumn()\n  public readonly updatedAt!: Date;\n***REMOVED***\n","import { Entity, PrimaryGeneratedColumn, Column, OneToMany, Index, CreateDateColumn, UpdateDateColumn ***REMOVED*** from 'typeorm';\nimport { Article ***REMOVED*** from './article';\n\n@Entity()\nexport class Category {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  @Index({ unique: true ***REMOVED***)\n  name: string;\n\n  @OneToMany(type => Article, article => article.category)\n  articles: Article[];\n\n  @CreateDateColumn()\n  public readonly createdAt!: Date;\n\n  @UpdateDateColumn()\n  public readonly updatedAt!: Date;\n***REMOVED***\n","export * from './archive';\nexport * from './category';\nexport * from './tag';\nexport * from './user';\nexport * from './article';\nexport * from './reader';\nexport * from './website';\n","import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn ***REMOVED*** from 'typeorm';\n\n// 只会统计七天内的数据\n\n@Entity()\nexport class Reader {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  articleSlug: string;\n\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  date: string; // 存储每一篇文章阅读的时间,精确到日\n\n  @Column('simple-array')\n  ips: string[]; // 存储每一篇文章阅读的读者的ip，等价于uv\n\n  @CreateDateColumn()\n  public readonly createdAt!: Date;\n\n  @UpdateDateColumn()\n  public readonly updatedAt!: Date;\n***REMOVED***\n","import { Entity, PrimaryGeneratedColumn, Column, ManyToMany, CreateDateColumn, UpdateDateColumn, Index***REMOVED*** from 'typeorm';\nimport { Article ***REMOVED*** from './article';\n\n@Entity()\nexport class Tag {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  @Index({ unique: true ***REMOVED***)\n  name: string;\n\n  // 一个tag可以包含多篇文章，所以这里是多对多的关系\n  @ManyToMany(type => Article, article => article.tags, { cascade: true ***REMOVED***)\n  articles: Article[];\n\n  @CreateDateColumn()\n  public readonly createdAt!: Date;\n\n  @UpdateDateColumn()\n  public readonly updatedAt!: Date;\n***REMOVED***\n","import { Entity, PrimaryGeneratedColumn, Column, OneToMany, CreateDateColumn, UpdateDateColumn, Index***REMOVED*** from 'typeorm';\nimport { Article ***REMOVED*** from './article';\n\n@Entity()\nexport class User {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({\n    type: 'varchar',\n    length: 20,\n    nullable: false\n***REMOVED***)\n  username: string;\n\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  password: string;\n\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  @Index({ unique: true ***REMOVED***)\n  email: string;\n\n  @OneToMany(type => Article, article => article.author)\n  articles: Article[];\n\n  @CreateDateColumn()\n  public readonly createdAt!: Date;\n\n  @UpdateDateColumn()\n  public readonly updatedAt!: Date;\n***REMOVED***\n","import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn ***REMOVED*** from 'typeorm';\n\n// 只会保存7天内的数据\n\n@Entity()\nexport class Website {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column('bigint')\n  todayUv: number;\n\n  @Column('simple-array')\n  todayIps: string[];\n\n  @Column('bigint')\n  todayPv: number;\n\n  @Column('bigint')\n  yesterdayPv: number;\n\n  @Column('bigint')\n  yesterdayUv: number;\n\n  @Column('bigint')\n  totalUv: number;\n\n  @Column('bigint')\n  totalPv: number;\n\n  @Column({\n    type: 'varchar',\n    length: 200,\n    nullable: false\n***REMOVED***)\n  date: string;\n\n  @CreateDateColumn()\n  public readonly createdAt!: Date;\n\n  @UpdateDateColumn()\n  public readonly updatedAt!: Date;\n***REMOVED***\n","import './blog-server';\nimport './auth.provider';\nimport './services';\nimport './configs';\nimport './user.store';\nimport './blog.admin.controller';\n// import './schedule';\nimport { autoBindEntities ***REMOVED*** from '@malagu/typeorm';\nimport * as entities from './entity';\nimport { autoBind ***REMOVED*** from '@malagu/core';\n\nautoBindEntities(entities);\nexport default autoBind();\n","import { Component, Autowired ***REMOVED*** from '@malagu/core';\nimport { PasswordEncoder ***REMOVED*** from '@malagu/security/lib/node';\nimport { Transactional, OrmContext ***REMOVED*** from '@malagu/typeorm/lib/node';\nimport { User ***REMOVED*** from '../entity';\nimport { DouMiBlog ***REMOVED*** from '../../common/blog-protocol';\n\nexport const AuthServiceSymbol = Symbol('AuthService');\n\n\n@Component(AuthServiceSymbol)\nexport class AuthService {\n  @Autowired(PasswordEncoder)\n  protected readonly passwordEncoder: PasswordEncoder;\n\n  @Transactional()\n  async registerUser(param: DouMiBlog.RegisterParam) {\n    const repo = OrmContext.getRepository(User);\n\n    const users = await repo.find();\n\n    if (users.length >= 1) {\n      throw new Error('注册用户数已满，无法注册！');\n  ***REMOVED***\n\n    const pwd = await this.passwordEncoder.encode(param.password);\n\n    await repo.save({ ...param, password: pwd ***REMOVED***\n***REMOVED***\n***REMOVED***\n","import { Reader ***REMOVED*** from './../entity/reader';\nimport { Component, Autowired, Logger ***REMOVED*** from '@malagu/core';\nimport { Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { AwesomeHelp ***REMOVED*** from 'awesome-js';\nimport { In ***REMOVED*** from 'typeorm';\nimport { Transactional, OrmContext ***REMOVED*** from '@malagu/typeorm/lib/node';\nimport { Article, ArticleStatus ***REMOVED*** from '../entity/article';\nimport { Tag ***REMOVED*** from '../entity/tag';\nimport { Category ***REMOVED*** from '../entity/category';\nimport { Archive ***REMOVED*** from '../entity/archive';\nimport { User ***REMOVED*** from '../entity/user';\nimport { DouMiBlog ***REMOVED*** from '../../common/blog-protocol';\nimport { WebsiteServiceSymbol, WebsiteService ***REMOVED*** from './website.service';\nimport { WinstonLogger ***REMOVED*** from 'malagu-winston';\n\nexport const BlogServiceSymbol = Symbol('BlogService');\n\n@Component(BlogServiceSymbol)\nexport class BlogService {\n\n  @Autowired(WebsiteServiceSymbol)\n  protected readonly websiteService: WebsiteService;\n\n  @Autowired(Logger)\n  protected logger: WinstonLogger;\n\n  @Transactional()\n  async fetchArticleList(currentPage = 1, pageSize = 20, order?: any, condition?: DouMiBlog.QueryCondition) {\n    const repo = OrmContext.getRepository(Article);\n\n    const baseQuery = {\n      order: order ? order : {\n        createdAt: 'DESC'\n    ***REMOVED***,\n      take: pageSize,\n      skip: (currentPage - 1) * pageSize, // think this needs to be page * limit\n      relations: ['tags', 'archiveTime', 'category', 'author']\n    ***REMOVED***\n\n    let whereQuery = {***REMOVED***\n    let list: Article[] = [];\n    let count = 0;\n\n    if (currentPage === 1) {\n      await this.websiteService.updateWebsiteStatistics();\n  ***REMOVED***\n\n    if (condition) {\n      if (condition.queryTag) {\n        // 多对多的关系比较特殊，find不能不满足需求\n        let orderField = 'article.createdAt';\n        let orderDef: 'ASC' | 'DESC' = 'DESC';\n        if (order) {\n          // 排序字段仅支持1个字段\n          Object.keys(order).forEach(item => {\n            orderField = `article.${item***REMOVED***`;\n            orderDef = order[item];\n          ***REMOVED***\n      ***REMOVED***\n        const queryBuilder = repo.createQueryBuilder('article');\n        if (condition.articleStatus) {\n          queryBuilder.where('article.articleStatus = :status', { status: condition.articleStatus ***REMOVED***\n      ***REMOVED***\n        [list, count] = await queryBuilder\n          .innerJoin('article.tags', 'tag', 'tag.id IN (:...tagId)', { tagId: condition.queryTag ***REMOVED***)\n          .skip((currentPage - 1) * pageSize)\n          .take(pageSize)\n          .orderBy(orderField, orderDef)\n          .innerJoinAndSelect('article.tags', 'tags')\n          .innerJoinAndSelect('article.category', 'category')\n          .innerJoinAndSelect('article.archiveTime', 'archiveTime')\n          .innerJoinAndSelect('article.author', 'author')\n          .getManyAndCount();\n    ***REMOVED*** else if (condition.queryCat) {\n        whereQuery = {\n          where: { category: condition.queryCat ***REMOVED***\n        ***REMOVED***\n    ***REMOVED*** else if (condition.queryArch) {\n        whereQuery = {\n          where: { archiveTime: condition.queryArch ***REMOVED***\n        ***REMOVED***\n    ***REMOVED***\n      if (condition.articleStatus) {\n        whereQuery = {\n          where: { ...(whereQuery as any).where, articleStatus: condition.articleStatus ***REMOVED***\n        ***REMOVED***\n    ***REMOVED***\n  ***REMOVED***\n\n    const finalQuery = {...baseQuery, ...whereQuery***REMOVED***\n\n    this.logger.info(`search blog list with query condition: ${JSON.stringify(finalQuery)***REMOVED***`);\n\n    if (!condition?.queryTag) {\n      [list, count] = await repo.findAndCount(finalQuery);\n  ***REMOVED***\n\n    return { list: list.map(item => ({\n      ...item,\n      tags: item.tags.map(it => it.name),\n      category: item.category.name,\n      archiveTime: item.fullArchiveTime,\n      author: item.author.username\n  ***REMOVED***)), pageCount: Math.ceil(count / pageSize), currentPage***REMOVED***\n***REMOVED***\n\n  @Transactional()\n  async fetchArticleDetail(slug: string, shouldBeUpdateStats = false) {\n    const repo = OrmContext.getRepository(Article);\n\n    const result = await repo.findOne({ slug ***REMOVED***, { relations: ['tags', 'archiveTime', 'category', 'author'] ***REMOVED***\n\n    if (!result) {\n      throw new Error('找不到对应文章');\n  ***REMOVED***\n\n    if (shouldBeUpdateStats) {\n      await this.updateArticleStatictics(slug);\n  ***REMOVED***\n\n    // 对该文章的pv数自增1\n    result.pv = +result.pv + 1;\n\n    await repo.save(result);\n\n    return {\n      ...result,\n      tags: result.tags.map(it => it.name),\n      category: result.category.name,\n      catId: result.category.id,\n      archiveTime: result.fullArchiveTime,\n      author: result.author.username\n    ***REMOVED***\n***REMOVED***\n\n  @Transactional()\n  async createOrUpdateArticle(article: DouMiBlog.ArticleDetail, username: string, isUpdate = false) {\n    const { tags, category, archiveTime ***REMOVED*** = article;\n\n    const tagRepo = OrmContext.getRepository(Tag);\n    const catRepo = OrmContext.getRepository(Category);\n    const archiveRepo = OrmContext.getRepository(Archive);\n    const userRepo = OrmContext.getRepository(User);\n\n    const loadTags = await tagRepo.find({ name: In(tags)***REMOVED***\n    const loadCat = await catRepo.find({ name: category***REMOVED***\n    const loadUser = await userRepo.find({ email: username ***REMOVED***\n    let loadArch = await archiveRepo.findOne({ archiveTime: archiveTime.substr(0, 7) ***REMOVED***\n    const repo = OrmContext.getRepository(Article);\n\n    if (!loadArch) {\n      loadArch = new Archive();\n      loadArch.archiveTime = archiveTime.substr(0, 7);\n\n      await archiveRepo.save(loadArch);\n  ***REMOVED***\n\n    let articleIns;\n    if (!isUpdate) {\n      articleIns = new Article();\n  ***REMOVED*** else {\n      articleIns = await repo.findOne({slug: article.slug***REMOVED***\n\n      if (!articleIns) {\n        throw new Error('对应博文不存在，请重新确认');\n    ***REMOVED***\n  ***REMOVED***\n    articleIns.archiveTime = loadArch;\n    articleIns.fullArchiveTime = archiveTime;\n    articleIns.tags = loadTags;\n    articleIns.category = loadCat[0];\n    articleIns.articleStatus = article.articleStatus as ArticleStatus;\n    articleIns.content = article.content.replace(/http:\\/\\/blogimages2016/g, 'https://blogimages2016');\n    articleIns.digest = article.digest;\n    articleIns.illustration = article.illustration.replace(/http:\\/\\//, 'https://');\n    articleIns.title = article.title;\n    articleIns.author = loadUser[0];\n\n    if (!isUpdate) {\n      articleIns.slug = Date.now().toString();\n      articleIns.pv = 0;\n  ***REMOVED*** else {\n      articleIns.slug = article.slug;\n  ***REMOVED***\n\n    const result = await repo.save(articleIns);\n\n    // 这里不能用update!https://github.com/typeorm/typeorm/issues/4197\n    // if (!isUpdate) {\n    // result = await repo.save(articleIns)\n    // ***REMOVED*** else {\n    //   result = await repo.update({ slug: article.slug ***REMOVED***, articleIns)\n    // ***REMOVED***\n    return result;\n***REMOVED***\n  @Transactional()\n  async updateArticleStatictics(slug: string) {\n    let reqIp: string;\n    if (Context.getRequest().headers['x-real-ip']) {\n      reqIp = Context.getRequest().headers['x-real-ip'] as string;\n  ***REMOVED*** else {\n      reqIp = (Context.getRequest() as any).ip;\n  ***REMOVED***\n\n    const now = AwesomeHelp.convertDate(new Date(), 'YYYY-MM-DD');\n\n    const readerRepo = OrmContext.getRepository(Reader);\n\n    // 现根据日期查找，如果没有任何该日期的条目，就表示需要删除7天之外的数据\n    const hasTodayItems = await readerRepo.find({ date: now ***REMOVED***\n\n    if (!hasTodayItems.length) {\n      const beyond7Days = new Date().getTime() - 7 * 24 * 3600 * 1000;\n      const results = await readerRepo.find({ date: AwesomeHelp.convertDate(new Date(beyond7Days), 'YYYY-MM-DD') ***REMOVED***\n      if (results.length) {\n        await readerRepo.delete(results.map(it => it.id));\n    ***REMOVED***\n  ***REMOVED***\n\n    const reader = await readerRepo.findOne({\n      where: { date: now, articleSlug: slug ***REMOVED***\n    ***REMOVED***\n\n    if (reader) {\n      if (!reader.ips.includes(reqIp)) {\n        reader.ips.push(reqIp);\n        readerRepo.save(reader);\n    ***REMOVED***\n  ***REMOVED*** else {\n      const newReader = new Reader();\n      newReader.articleSlug = slug;\n      newReader.date = now;\n      newReader.ips = [reqIp];\n      readerRepo.save(newReader);\n  ***REMOVED***\n\n    await this.websiteService.updateWebsiteStatistics();\n***REMOVED***\n\n  @Transactional()\n  async fetchTagsListWithArticle() {\n    const repo = OrmContext.getRepository(Tag);\n\n    const result = await repo.find({ relations: ['articles']***REMOVED***\n\n    return result.map(item => ({\n      id: item.id,\n      name: item.name,\n      articlesCount: item.articles.length\n  ***REMOVED***));\n***REMOVED***\n\n  @Transactional()\n  async fetchArchListWithArticle() {\n    const repo = OrmContext.getRepository(Archive);\n\n    const result = await repo.find({ relations: ['articles']***REMOVED***\n\n    return result.map(item => ({\n      id: item.id,\n      archiveTime: item.archiveTime,\n      name: '', // fix lint error\n      articlesCount: item.articles.length\n  ***REMOVED***)).sort((a, b) => new Date(b.archiveTime).getTime() - new Date(a.archiveTime).getTime());\n***REMOVED***\n\n  @Transactional()\n  async fetchCatListWithArticle() {\n    const repo = OrmContext.getRepository(Category);\n\n    const result = await repo.find({ relations: ['articles']***REMOVED***\n\n    return result.map(item => ({\n      id: item.id,\n      name: item.name,\n      articlesCount: item.articles.length\n  ***REMOVED***));\n***REMOVED***\n\n  @Transactional()\n  async searchArticleByKeyword(keyword: string) {\n    const repo = OrmContext.getRepository(Article);\n\n    const result = await repo.createQueryBuilder('article')\n      .where('article.title like :title', { title: `%${keyword***REMOVED***%`***REMOVED***)\n      .orWhere('article.content like :content', { content: `%${keyword***REMOVED***%`***REMOVED***)\n      .getMany();\n\n    return result;\n***REMOVED***\n  /**\n   * 查询最近最热门的文章，最多可查7天\n  */\n  @Transactional()\n  async fetchHottestArticleRecently() {\n    const readerRepo = OrmContext.getRepository(Reader);\n    const reader = await readerRepo.find();\n\n    const result: {slug: string, count: number***REMOVED***[] = [];\n\n    reader.forEach((item: Reader) => {\n      const index = result.findIndex(it => it.slug === item.articleSlug);\n      if (index !== -1) {\n        result[index].count = result[index].count + item.ips.length;\n    ***REMOVED*** else {\n        result.push({ count: item.ips.length, slug: item.articleSlug ***REMOVED***\n    ***REMOVED***\n    ***REMOVED***\n\n    // 取出排名前10的文章\n    const sortResult = result.sort((a, b) => b.count - a.count).slice(0, 9);\n\n    const articleRepo = OrmContext.getRepository(Article);\n\n    const articles = await Promise.all(sortResult.map(it => articleRepo.findOne({ slug: it.slug***REMOVED***)));\n\n    const finalRes = sortResult.map((item, idx) => ({ ...item, name: articles[idx]!.title***REMOVED***));\n\n    return finalRes;\n***REMOVED***\n***REMOVED***\n","export * from './auth.service';\nexport * from './blog.service';\nexport * from './website.service';\n","import { Context ***REMOVED*** from '@malagu/web/lib/node';\nimport { formatDistanceStrict ***REMOVED*** from 'date-fns';\nimport { Website ***REMOVED*** from './../entity/website';\nimport { Transactional, OrmContext ***REMOVED*** from '@malagu/typeorm/lib/node';\nimport { Component, Autowired, Logger ***REMOVED*** from '@malagu/core';\nimport { AwesomeHelp ***REMOVED*** from 'awesome-js';\nimport { WinstonLogger ***REMOVED*** from 'malagu-winston';\nimport { Article ***REMOVED*** from '../entity/article';\n\nconst pick = require('lodash.pick');\n\nexport const WebsiteServiceSymbol = Symbol('WebsiteService');\n\n@Component(WebsiteServiceSymbol)\nexport class WebsiteService {\n  @Autowired(Logger)\n  protected logger: WinstonLogger;\n\n  @Transactional()\n  async updateWebsiteStatistics() {\n    let reqIp: string;\n    if (Context.getRequest().headers['x-real-ip']) {\n      reqIp = Context.getRequest().headers['x-real-ip'] as string;\n  ***REMOVED*** else {\n      reqIp = (Context.getRequest() as any).ip;\n  ***REMOVED***\n\n    if (!reqIp) {\n      this.logger.info('[blogService]: can not get client ip, ignore it!');\n  ***REMOVED***\n  ***REMOVED***\n\n    const now = AwesomeHelp.convertDate(new Date(), 'YYYY-MM-DD');\n\n    const repo = OrmContext.getRepository(Website);\n\n    // 查找数据库中是否存在今天的数据\n    // TODO: 从这里到后面的新建表如何控制并发，目前出现过0点的同时有访问过来，导致多创建了同日期的一行数据\n    const website = await repo.findOne({ date: now ***REMOVED***\n\n    if (website) {\n      if (!website.todayIps.includes(reqIp)) {\n        website.todayIps.push(reqIp);\n        website.todayPv = +website.todayPv + 1;\n        website.todayUv = +website.todayUv + 1;\n        website.totalPv = +website.totalPv + 1;\n        website.totalUv = +website.totalUv + 1;\n    ***REMOVED*** else {\n        website.totalPv = +website.totalPv + 1;\n        website.todayPv = +website.todayPv + 1;\n    ***REMOVED***\n      repo.save(website);\n  ***REMOVED*** else {\n      // 不存在的话，那么新建，同时需要删除7天之外的数据\n      const yesterday = new Date().getTime() - 24 * 3600 * 1000;\n      const yesResult = await repo.findOne({ date: AwesomeHelp.convertDate(new Date(yesterday), 'YYYY-MM-DD')***REMOVED***\n      const newData = new Website();\n      newData.todayIps = [reqIp];\n      newData.todayPv = 1;\n      newData.todayUv = 1;\n      newData.totalPv = +(yesResult ? yesResult.totalPv : 0) + 1;\n      newData.yesterdayPv = +(yesResult ? yesResult.totalPv : 0);\n      newData.yesterdayUv = +(yesResult ? yesResult.totalUv : 0);\n      newData.totalUv = +(yesResult ? yesResult.totalUv : 0) + 1;\n      newData.date = now;\n      repo.save(newData);\n      const beyond7Days = new Date().getTime() - 7 * 24 * 3600 * 1000;\n      const result = await repo.findOne({ date: AwesomeHelp.convertDate(new Date(beyond7Days), 'YYYY-MM-DD')***REMOVED***\n      if (result) {\n        repo.delete(result.id);\n    ***REMOVED***\n  ***REMOVED***\n***REMOVED***\n\n  async websiteChangeLog() {\n    return [{\n      title: '本站正式上线',\n      desc1: '8月8号，完成所有博客的基本功能，除了关于豆米的网页暂时没完成之外。',\n      desc2: '豆米的博客意在分享web开发的点点滴滴，前端和后台都会有所涉及，再适当分享些生活的精彩。',\n      date: '2016/08',\n      time: '08 周一'\n  ***REMOVED***, {\n      title: '完成文章搜索功能',\n      desc1: '9月11号，完成网站的首页以及后台的文章搜索功能。',\n      desc2: '暂时只提供对博客的标题搜索，不支持全文搜索。',\n      date: '2016/09',\n      time: '11 周日'\n  ***REMOVED***, {\n      title: '改进网站的SEO',\n      desc1: '10月10号，修改部分代码，增强网站的SEO。',\n      desc2: '修改页面的title、description等meta，提高网站的SEO。添加google的verification文件，提高谷歌收录网站的可能性',\n      date: '2016/10',\n      time: '10 周一'\n  ***REMOVED***, {\n      title: '博文列表改版',\n      desc1: '12月03号，博文列表改版，使之更加简洁大方。',\n      desc2: '新增博客首页图片，方便显示博文列表中的大图,增加网站形象性',\n      date: '2016/12',\n      time: '03 周六'\n  ***REMOVED***, {\n      title: '增加友情链接面板',\n      desc1: '01月05号，增加友情链接面板，加大文章标题的可存长度',\n      desc2: '新增博客的友情链接，外链到一些推荐的博客网站',\n      date: '2017/01',\n      time: '05 周四'\n  ***REMOVED***, {\n      title: '优化管理后台和统计数据',\n      desc1: '02月09号，优化管理后台，增加操作信息框',\n      desc2: '优化网站统计数据，修复若干bug',\n      date: '2017/02',\n      time: '09 周四'\n  ***REMOVED***, {\n      title: '增加Markdown编辑器对于数学公式渲染的支持',\n      desc1: '03月29号，支持数学公式的渲染显示，修复若干个bug',\n      desc2: '在<a href=\"https://www.npmjs.com/package/marked\">marked</a>解析器的基础上支持数学公式的编辑，并将修改后的包发布到npm上：<a href=\"https://www.npmjs.com/package/marked-katex\">marked-katex</a>',\n      date: '2017/03',\n      time: '29 周三'\n  ***REMOVED***, {\n      title: '迁移网站到https，删掉些功能，添加新东西',\n      desc1: '05月12号，升级网站到https,05月13号，增加[关于豆米](https://blog.5udou.cn/aboutDouMi)页面',\n      desc2: '05月13号，增加[米喳简历](https://blog.5udou.cn/resume/mizha)页面',\n      date: '2018/05',\n      time: '13 周日'\n  ***REMOVED***, {\n      title: '抽离controller主逻辑，支持api请求获取数据',\n      desc1: '01月04号，抽离controller的主逻辑，支持api请求，不再单一支持服务端渲染',\n      desc2: '01月05号，新增8个api，覆盖完整博客的请求，为小程序和RN版本提供接口',\n      date: '2019/01',\n      time: '04 周六'\n  ***REMOVED***, {\n      title: '接入gitalk评论系统，增加渠道曝光',\n      desc1: '11月21号，弃用disqus评论系统，改用gitalk评论系统，好用不止一点点~',\n      desc2: '11月21号，优化SEO，增加小程序曝光，优化博客详情页底部展示信息',\n      date: '2019/11',\n      time: '21 周四'\n  ***REMOVED***, {\n      title: '重构博客',\n      desc1: '使用malagu框架重构整个博客的实现',\n      desc2: '博客的整体UI风格全新呈现',\n      date: '2020/02',\n      time: '09 周日'\n  ***REMOVED***];\n***REMOVED***\n  @Transactional()\n  async fetchWebsiteStatistics() {\n    const repo = OrmContext.getRepository(Website);\n\n    const results = await repo.find();\n\n    return results.map(item => {\n      const partial = pick(item, ['todayPv', 'todayUv', 'totalPv', 'date']);\n\n      const pvGrowthRate = +((((item.totalPv - item.yesterdayPv) / item.yesterdayPv) * 100).toFixed(2));\n      const uvGrowthRate = +((((item.totalUv - item.yesterdayUv) / item.yesterdayUv) * 100).toFixed(2));\n\n      return {\n        ...partial,\n        todayPv: +partial.todayPv,\n        todayUv: +partial.todayUv,\n        totalPv: +partial.totalPv, // 这里强转有精度丢失的风险，考虑到目前还不会达到那么大的数目\n        pvGrowthRate,\n        uvGrowthRate\n      ***REMOVED***\n    ***REMOVED***\n***REMOVED***\n  @Transactional()\n  async fetchSummaryStats() {\n    const repo = OrmContext.getRepository(Website);\n    const articleRepo = OrmContext.getRepository(Article);\n\n    const websiteSince = new Date(2016, 7, 8); // 博客开始时期\n\n    const now = AwesomeHelp.convertDate(new Date(), 'YYYY-MM-DD');\n\n    const website = await repo.findOne({ date: now ***REMOVED***\n    const articles = await articleRepo.find();\n\n    let articlesWordsNum = 0;\n    articles.map(article => articlesWordsNum += article.content.length);\n\n    const operationDays = formatDistanceStrict(websiteSince, new Date(), { unit: 'day'***REMOVED***\n    let totalPv = 0;\n\n    if (website) {\n      totalPv = website.totalPv;\n  ***REMOVED*** else {\n      const yesterday = new Date().getTime() - 24 * 3600 * 1000;\n      const yes = AwesomeHelp.convertDate(new Date(yesterday), 'YYYY-MM-DD');\n      const otherWebsite = await repo.findOne({ date: yes ***REMOVED***\n      totalPv = otherWebsite!.totalPv;\n\n  ***REMOVED***\n    return {\n      operationDays: operationDays.replace(/days/, '天'),\n      totalPv,\n      articleCount: articles.length,\n      articlesWordsNum: `${articlesWordsNum / 10000***REMOVED***万字`,\n      commentsNum: 1\n    ***REMOVED***\n***REMOVED***\n***REMOVED***\n","import { Component, Value ***REMOVED*** from '@malagu/core';\nimport { UserStore, User, UsernameNotFoundError, ElPolicy, PolicyType, AuthorizeType ***REMOVED*** from '@malagu/security/lib/node';\nimport { Transactional, OrmContext ***REMOVED*** from '@malagu/typeorm/lib/node';\nimport { User as UserModel ***REMOVED*** from './entity/user';\n\n@Component({ id: UserStore, rebind: true ***REMOVED***)\nexport class UserStoreImpl implements UserStore {\n\n  @Value('malagu.security')\n  protected readonly options: any;\n\n  @Transactional()\n  async load (username: string): Promise<User> {\n    const repo = OrmContext.getRepository(UserModel);\n\n    const user = await repo.findOne({ email: username ***REMOVED***\n\n    if (!user) {\n      throw new UsernameNotFoundError(`${username***REMOVED***不存在`);\n  ***REMOVED***\n    return {\n      username,\n      password: user.password,\n      accountNonExpired: true,\n      accountNonLocked: true,\n      credentialsNonExpired: true,\n      enabled: true,\n      policies: [ <ElPolicy>{\n        type: PolicyType.El,\n        authorizeType: AuthorizeType.Pre,\n        el: 'true'\n    ***REMOVED*** ]\n    ***REMOVED***\n***REMOVED***\n***REMOVED***\n","module.exports = require(\"awesome-js\");","module.exports = require(\"class-transformer\");","module.exports = require(\"class-validator\");","module.exports = require(\"cookies\");","module.exports = require(\"cors\");","module.exports = require(\"crc\");","module.exports = require(\"crypto-js\");","module.exports = require(\"date-fns\");","module.exports = require(\"express-http-context\");","module.exports = require(\"fs-extra\");","module.exports = require(\"inversify\");","module.exports = require(\"inversify-binding-decorators\");","module.exports = require(\"jexl\");","module.exports = require(\"lodash.pick\");","module.exports = require(\"loglevel\");","module.exports = require(\"mustache\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"reflect-metadata\");","module.exports = require(\"source-map-support\");","module.exports = require(\"ts-custom-error\");","module.exports = require(\"typeorm\");","module.exports = require(\"url-join\");","module.exports = require(\"url-pattern\");","module.exports = require(\"util\");","module.exports = require(\"uuid\");","module.exports = require(\"uuid/v4\");","module.exports = require(\"vscode-jsonrpc\");","module.exports = require(\"vscode-jsonrpc/lib/events\");","module.exports = require(\"winston\");","module.exports = require(\"winston-daily-rotate-file\");"],"sourceRoot":""***REMOVED***