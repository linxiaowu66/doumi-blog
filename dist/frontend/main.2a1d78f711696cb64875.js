!function(e){function webpackJsonpCallback(t){for(var r,i,o=t[0],s=t[1],u=0,c=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&c.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(a&&a(t);c.length;)c.shift()()}var t={},n={2:0};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.e=function requireEnsure(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,i){r=n[e]=[t,i]}));t.push(r[2]=i);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.src=function jsonpScriptSrc(e){return __webpack_require__.p+""+({}[e]||e)+"."+{0:"4de99979749178591494",1:"a0e2c544ae8241d57788",3:"04386f231cc09a00317f",4:"7c844b32a2f579a154eb",5:"e728bdd691b4c07b148d",6:"d16ef5ab90cadbfb6468",7:"5501cb692c4be6a5a20b",8:"b8ac7b45c515cd0e963f",9:"45d596cc5913299aea9e",10:"9135da659978d3bbf10f",11:"9c48aa6608cbe6d00dca"}[e]+".js"}(e);var s=new Error;o=function(t){a.onerror=a.onload=null,clearTimeout(u);var r=n[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}n[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(t)},__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],i=r.push.bind(r);r.push=webpackJsonpCallback,r=r.slice();for(var o=0;o<r.length;o++)webpackJsonpCallback(r[o]);var a=i;__webpack_require__(__webpack_require__.s=51)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.METADATA_KEY=r;var i=n(53);t.Container=i.Container;var o=n(4);t.BindingScopeEnum=o.BindingScopeEnum,t.BindingTypeEnum=o.BindingTypeEnum,t.TargetTypeEnum=o.TargetTypeEnum;var a=n(69);t.AsyncContainerModule=a.AsyncContainerModule,t.ContainerModule=a.ContainerModule;var s=n(70);t.injectable=s.injectable;var u=n(71);t.tagged=u.tagged;var c=n(72);t.named=c.named;var l=n(29);t.inject=l.inject,t.LazyServiceIdentifer=l.LazyServiceIdentifer;var f=n(73);t.optional=f.optional;var d=n(74);t.unmanaged=d.unmanaged;var p=n(75);t.multiInject=p.multiInject;var h=n(76);t.targetName=h.targetName;var y=n(77);t.postConstruct=y.postConstruct;var g=n(27);t.MetadataReader=g.MetadataReader;var v=n(6);t.id=v.id;var _=n(5);t.decorate=_.decorate;var m=n(32);t.traverseAncerstors=m.traverseAncerstors,t.taggedConstraint=m.taggedConstraint,t.namedConstraint=m.namedConstraint,t.typeConstraint=m.typeConstraint;var b=n(11);t.getServiceIdentifierAsString=b.getServiceIdentifierAsString;var w=n(78);t.multiBindToService=w.multiBindToService},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function Metadata(e,t){this.key=e,this.value=t}return Metadata.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},Metadata}();t.Metadata=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0);function _tagParameterOrProperty(e,t,n,i,o){var a={},s="number"==typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var c=a[u];if(Array.isArray(c))for(var l=0,f=c;l<f.length;l++){var d=f[l];if(d.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else c=[];c.push(i),a[u]=c,Reflect.defineMetadata(e,a,t)}function _decorate(e,t){Reflect.decorate(e,t)}function _param(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function tagParameter(e,t,n,r){_tagParameterOrProperty(i.TAGGED,e,t,r,n)},t.tagProperty=function tagProperty(e,t,n){_tagParameterOrProperty(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function decorate(e,t,n){"number"==typeof n?_decorate([_param(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):_decorate([e],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.id=function id(){return r++}},function(e,t){var n,r,i=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(o=a,a=[];++u<t;)o&&o[u].run();u=-1,t=a.length}o=null,s=!1,function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(85)),__export(n(13)),__export(n(101)),__export(n(39)),__export(n(14)),__export(n(116)),__export(n(15)),__export(n(118)),__export(n(129))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function create(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class CallbackList{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Emitter{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let r;return this._callbacks||(this._callbacks=new CallbackList),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),r={dispose:()=>{this._callbacks.remove(e,t),r.dispose=Emitter._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Emitter._noop=function(){},t.Emitter=Emitter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function getServiceIdentifierAsString(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function getFunctionName(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=getServiceIdentifierAsString,t.listRegisteredBindingsForServiceIdentifier=function listRegisteredBindingsForServiceIdentifier(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=getFunctionName(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function circularDependencyToException(e){e.childRequests.forEach((function(e){if(function alreadyDependencyChain(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||alreadyDependencyChain(e.parentRequest,t))}(e,e.serviceIdentifier)){var t=function dependencyChainToString(e){return function _createStringArr(e,t){void 0===t&&(t=[]);var n=getServiceIdentifierAsString(e.serviceIdentifier);return t.push(n),null!==e.parentRequest?_createStringArr(e.parentRequest,t):t}(e).reverse().join(" --\x3e ")}(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+t)}circularDependencyToException(e)}))},t.listMetadataForTarget=function listMetadataForTarget(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=getFunctionName},function(e,t,n){"use strict";function string(e){return"string"==typeof e||e instanceof String}function array(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function boolean(e){return!0===e||!1===e},t.string=string,t.number=function number(e){return"number"==typeof e||e instanceof Number},t.error=function error(e){return e instanceof Error},t.func=function func(e){return"function"==typeof e},t.array=array,t.stringArray=function stringArray(e){return array(e)&&e.every(e=>string(e))}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(48)),__export(n(92)),__export(n(50)),__export(n(99)),__export(n(100))},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(90)),__export(n(91))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.METADATA_KEY={rebind:"malagu:rebind",constantValue:"malagu:constant-value",toService:"malagu:to-service",provide:"inversify-binding-decorators:provide"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(2),o=n(19),a=function(){function ProvideDoneSyntax(e){this._binding=e}return ProvideDoneSyntax.prototype.done=function(e){var t=this;return function(n){var a=Reflect.hasOwnMetadata(i.METADATA_KEY.PARAM_TYPES,n),s=!0===e;if(!0===s&&!1===a)r.decorate(r.injectable(),n);else if(!0===s&&!0===a);else try{r.decorate(r.injectable(),n)}catch(e){throw new Error("Cannot apply @provideFluent decorator multiple times but is has been used multiple times in "+n.name+" Please use done(true) if you are trying to declare multiple bindings!")}var u={constraint:t._binding,implementationType:n},c=Reflect.getMetadata(o.METADATA_KEY.provide,Reflect)||[],l=[u].concat(c);return Reflect.defineMetadata(o.METADATA_KEY.provide,l,Reflect),n}},ProvideDoneSyntax}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=function(){function BindingOnSyntax(e){this._binding=e}return BindingOnSyntax.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},BindingOnSyntax}();t.BindingOnSyntax=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(32),o=function(){function BindingWhenSyntax(e){this._binding=e}return BindingWhenSyntax.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},BindingWhenSyntax}();t.BindingWhenSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.METADATA_KEY={provide:"inversify-binding-decorators:provide"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(16),o=function(){function ProvideWhenSyntax(e,t){this._bindingWhenSyntax=e,this._provideDoneSyntax=t}return ProvideWhenSyntax.prototype.when=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).when(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenTargetNamed=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenTargetNamed(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenTargetTagged=function(e,t){var n=this,bindingOnSyntax=function(r,i){return n._bindingWhenSyntax(r,i).whenTargetTagged(e,t)},o=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,o)},ProvideWhenSyntax.prototype.whenInjectedInto=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenInjectedInto(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenParentNamed=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenParentNamed(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenParentTagged=function(e,t){var n=this,bindingOnSyntax=function(r,i){return n._bindingWhenSyntax(r,i).whenParentTagged(e,t)},o=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,o)},ProvideWhenSyntax.prototype.whenAnyAncestorIs=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenAnyAncestorIs(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenNoAncestorIs=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenNoAncestorIs(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenAnyAncestorNamed=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenAnyAncestorNamed(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenAnyAncestorTagged=function(e,t){var n=this,bindingOnSyntax=function(r,i){return n._bindingWhenSyntax(r,i).whenAnyAncestorTagged(e,t)},o=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,o)},ProvideWhenSyntax.prototype.whenNoAncestorNamed=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenNoAncestorNamed(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenNoAncestorTagged=function(e,t){var n=this,bindingOnSyntax=function(r,i){return n._bindingWhenSyntax(r,i).whenNoAncestorTagged(e,t)},o=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,o)},ProvideWhenSyntax.prototype.whenAnyAncestorMatches=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenAnyAncestorMatches(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.whenNoAncestorMatches=function(e){var t=this,bindingOnSyntax=function(n,r){return t._bindingWhenSyntax(n,r).whenNoAncestorMatches(e)},n=new i.default(bindingOnSyntax);return new r.default(bindingOnSyntax,n)},ProvideWhenSyntax.prototype.done=function(e){return this._provideDoneSyntax.done(e)},ProvideWhenSyntax}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=n(16),o=function(){function ProvideOnSyntax(e,t){this._bindingOnSyntax=e,this._provideDoneSyntax=t}return ProvideOnSyntax.prototype.onActivation=function(e){var t=this,bindingWhenSyntax=function(n,r){return t._bindingOnSyntax(n,r).onActivation(e)},n=new i.default(bindingWhenSyntax);return new r.default(bindingWhenSyntax,n)},ProvideOnSyntax.prototype.done=function(e){return this._provideDoneSyntax.done(e)},ProvideOnSyntax}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MethodBeforeAdvice=Symbol("MethodBeforeAdvice"),t.AfterReturningAdvice=Symbol("AfterReturningAdvice"),t.AfterThrowsAdvice=Symbol("AfterThrowsAdvice")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(12);let o=e.from("\r","ascii")[0],a=e.from("\n","ascii")[0];class MessageBuffer{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=e.allocUnsafe(8192)}append(t){var n=t;if("string"==typeof t){var r=t,i=e.byteLength(r,this.encoding);(n=e.allocUnsafe(i)).write(r,0,i,this.encoding)}if(this.buffer.length-this.index>=n.length)n.copy(this.buffer,this.index,0,n.length);else{var o=8192*(Math.ceil((this.index+n.length)/8192)+1);0===this.index?(this.buffer=e.allocUnsafe(o),n.copy(this.buffer,0,0,n.length)):this.buffer=e.concat([this.buffer.slice(0,this.index),n],o)}this.index+=n.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==o||this.buffer[t+1]!==a||this.buffer[t+2]!==o||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function is(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class AbstractMessageReader{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=AbstractMessageReader;class StreamMessageReader extends AbstractMessageReader{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new MessageBuffer(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=StreamMessageReader;t.IPCMessageReader=class IPCMessageReader extends AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class SocketMessageReader extends StreamMessageReader{constructor(e,t="utf-8"){super(e,t)}}}).call(this,n(40).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(12);!function(e){e.is=function is(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class AbstractMessageWriter{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=AbstractMessageWriter;t.StreamMessageWriter=class StreamMessageWriter extends AbstractMessageWriter{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(t){let n=JSON.stringify(t),r=["Content-Length: ",e.byteLength(n,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(r.join(""),"ascii"),this.writable.write(n,this.encoding),this.errorCount=0}catch(e){this.errorCount++,this.fireError(e,t,this.errorCount)}}};t.IPCMessageWriter=class IPCMessageWriter extends AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class SocketMessageWriter extends AbstractMessageWriter{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(t){let n=JSON.stringify(t),r=["Content-Length: ",e.byteLength(n,this.encoding).toString(),"\r\n","\r\n"];try{this.sending=!0,this.socket.write(r.join(""),"ascii",e=>{e&&this.handleError(e,t);try{this.socket.write(n,this.encoding,e=>{this.sending=!1,e?this.handleError(e,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(e){this.handleError(e,t)}})}catch(e){this.handleError(e,t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}}).call(this,n(40).Buffer)},function(e,t){},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(82)),__export(n(33)),__export(n(45))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function MetadataReader(){}return MetadataReader.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},MetadataReader.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},MetadataReader}();t.MetadataReader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.isStackOverflowExeption=function isStackOverflowExeption(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(3),a=n(5),s=function(){function LazyServiceIdentifer(e){this._cb=e}return LazyServiceIdentifer.prototype.unwrap=function(){return this._cb()},LazyServiceIdentifer}();t.LazyServiceIdentifer=s,t.inject=function inject(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6),o=n(3),a=n(60),s=function(){function Target(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"==typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return Target.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},Target.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},Target.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},Target.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},Target.prototype.isTagged=function(){return this.metadata.some((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG}))},Target.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},Target.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},Target.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG})):null},Target.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},Target.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},Target}();t.Target=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(18),o=function(){function BindingWhenOnSyntax(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return BindingWhenOnSyntax.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},BindingWhenOnSyntax.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},BindingWhenOnSyntax.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},BindingWhenOnSyntax.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},BindingWhenOnSyntax.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},BindingWhenOnSyntax.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},BindingWhenOnSyntax.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},BindingWhenOnSyntax.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},BindingWhenOnSyntax.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},BindingWhenOnSyntax.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},BindingWhenOnSyntax.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},BindingWhenOnSyntax.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},BindingWhenOnSyntax.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},BindingWhenOnSyntax.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},BindingWhenOnSyntax.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},BindingWhenOnSyntax.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},BindingWhenOnSyntax}();t.BindingWhenOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),traverseAncerstors=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||traverseAncerstors(n,t))};t.traverseAncerstors=traverseAncerstors;var taggedConstraint=function(e){return function(t){var constraint=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return constraint.metaData=new i.Metadata(e,t),constraint}};t.taggedConstraint=taggedConstraint;var o=taggedConstraint(r.NAMED_TAG);t.namedConstraint=o;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(84)),__export(n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function r(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};t.Deferred=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuperClasses=function getSuperClasses(e){for(var t=[],n=e;Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n),t.push(n);return t}},function(e,t,n){!function(e){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function fixStack(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var n=function(e){function CustomError(t){var n=this.constructor,r=e.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),function fixProto(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}(r,n.prototype),fixStack(r),r}return function __extends(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}(CustomError,e),CustomError}(Error);e.CustomError=n,e.customErrorFactory=function customErrorFactory(e,t){function CustomError(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!(this instanceof CustomError))return new(CustomError.bind.apply(CustomError,[void 0].concat(n)));t.apply(this,n),e.apply(this,n),this.name=e.name||t.name,fixStack(this,CustomError)}return void 0===t&&(t=Error),Object.defineProperties(CustomError,{prototype:{value:Object.create(t.prototype,{constructor:{value:CustomError,writable:!0,configurable:!0}})}})}}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(19);t.default=function provide(e,t){return function(n){var o=Reflect.hasOwnMetadata(r.METADATA_KEY.PARAM_TYPES,n),a=!0===t;if(!0===a&&!1===o)r.decorate(r.injectable(),n);else if(!0===a&&!0===o);else try{r.decorate(r.injectable(),n)}catch(e){throw new Error("Cannot apply @provide decorator multiple times but is has been used multiple times in "+n.name+" Please use @provide(ID, true) if you are trying to declare multiple bindings!")}var s={constraint:function(t,n){return t(e).to(n)},implementationType:n},u=Reflect.getMetadata(i.METADATA_KEY.provide,Reflect)||[],c=[s].concat(u);return Reflect.defineMetadata(i.METADATA_KEY.provide,c,Reflect),n}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var u=n(34),c=n(2),l=n(39),f=n(13),d=n(46);t.ApplicationLifecycle=Symbol("ApplicationLifecycle"),t.Application=Symbol("Application"),t.ApplicationStateService=Symbol("ApplicationStateService");var p=function(){function EmptyApplicationLifecycle(){}return EmptyApplicationLifecycle.prototype.initialize=function(){},EmptyApplicationLifecycle=r([f.Component(t.ApplicationLifecycle)],EmptyApplicationLifecycle)}();t.EmptyApplicationLifecycle=p;var h=function(){function AbstractApplication(){}return AbstractApplication.prototype.doStart=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,u,c,l,f,d;return a(this,(function(a){switch(a.label){case 0:try{for(e=s(this.lifecycles),t=e.next();!t.done;t=e.next())if((i=t.value).initialize)try{i.initialize()}catch(e){this.logger.error("Could not initialize lifecycle",e)}}catch(e){c={error:e}}finally{try{t&&!t.done&&(l=e.return)&&l.call(e)}finally{if(c)throw c.error}}a.label=1;case 1:a.trys.push([1,8,9,10]),n=s(this.lifecycles),r=n.next(),a.label=2;case 2:if(r.done)return[3,7];if(!(i=r.value).onStart)return[3,6];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,i.onStart(this)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),this.logger.error("Could not start lifecycle",o),[3,6];case 6:return r=n.next(),[3,2];case 7:return[3,10];case 8:return u=a.sent(),f={error:u},[3,10];case 9:try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}return[7];case 10:return[2]}}))}))},AbstractApplication.prototype.doStop=function(){var e,t;try{for(var n=s(this.lifecycles),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.onStop)try{i.onStop(this)}catch(e){this.logger.error("Could not stop lifecycle",e)}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r([f.Autowired(t.ApplicationLifecycle),i("design:type",Array)],AbstractApplication.prototype,"lifecycles",void 0),r([f.Autowired(l.Logger),i("design:type",Object)],AbstractApplication.prototype,"logger",void 0),AbstractApplication=r([c.injectable()],AbstractApplication)}();t.AbstractApplication=h;var y=function(){function AbstractApplicationStateService(){this._state="init",this.deferred={},this.stateChanged=new d.Emitter}return Object.defineProperty(AbstractApplicationStateService.prototype,"state",{get:function(){return this._state},set:function(e){e!==this._state&&(this.deferred[this._state]=new u.Deferred,this._state=e,void 0===this.deferred[e]&&(this.deferred[e]=new u.Deferred),this.deferred[e].resolve(),this.stateChanged.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractApplicationStateService.prototype,"onStateChanged",{get:function(){return this.stateChanged.event},enumerable:!0,configurable:!0}),AbstractApplicationStateService.prototype.reachedState=function(e){return void 0===this.deferred[e]&&(this.deferred[e]=new u.Deferred),this.deferred[e].promise},AbstractApplicationStateService.prototype.reachedAnyState=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Promise.race(t.map((function(t){return e.reachedState(t)})))},AbstractApplicationStateService=r([c.injectable()],AbstractApplicationStateService)}();t.AbstractApplicationStateService=y},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(102)),__export(n(103))},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(107),i=n(108),o=n(109);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,n,r):"string"==typeof t?function fromString(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(t,n),i=(e=createBuffer(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function fromObject(e,t){if(Buffer.isBuffer(t)){var n=0|checked(t.length);return 0===(e=createBuffer(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(r)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),r=!0}}function slowToString(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function bidirectionalIndexOf(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Buffer.from(t,r)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,r,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(read(e,o)===read(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(read(e,o+f)!==read(t,f)){l=!1;break}if(l)return o}return-1}function hexWrite(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function utf8Write(e,t,n,r){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,r)}function asciiWrite(e,t,n,r){return blitBuffer(function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function latin1Write(e,t,n,r){return asciiWrite(e,t,n,r)}function base64Write(e,t,n,r){return blitBuffer(base64ToBytes(t),e,n,r)}function ucs2Write(e,t,n,r){return blitBuffer(function utf16leToBytes(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function base64Slice(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function decodeCodePointsArray(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,n){return function alloc(e,t,n,r){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof r?createBuffer(e,t).fill(n,r):createBuffer(e,t).fill(n):createBuffer(e,t)}(null,e,t,n)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Buffer.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,n,r,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function includes(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function indexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function write(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function latin1Slice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function hexSlice(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,r,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function checkIEEE754(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,r,o){return o||checkIEEE754(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function writeDouble(e,t,n,r,o){return o||checkIEEE754(e,0,n,8),i.write(e,t,n,r,52,8),n+8}Buffer.prototype.slice=function slice(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;n=new Buffer(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},Buffer.prototype.readUIntLE=function readUIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},Buffer.prototype.readUIntBE=function readUIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},Buffer.prototype.readIntBE=function readIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},Buffer.prototype.writeUInt8=function writeUInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeIntBE=function writeIntBE(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeInt8=function writeInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function copy(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Buffer.prototype.fill=function fill(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var a=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function base64ToBytes(e){return r.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(a,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigProvider=Symbol("ConfigProvider")},function(e,t){t.argVal=function(e){this._cursor.args.push(e)},t.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},t.arrayVal=function(e){e&&this._cursor.value.push(e)},t.binaryOp=function(e){const t=this._grammar[e.value].precedence||0;let n=this._cursor._parent;for(;n&&n.operator&&this._grammar[n.operator].precedence>=t;)this._cursor=n,n=n._parent;const r={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,r),this._cursor=n,this._placeAtCursor(r)},t.dot=function(){this._nextIdentEncapsulate=this._cursor&&"UnaryExpression"!==this._cursor.type&&("BinaryExpression"!==this._cursor.type||"BinaryExpression"===this._cursor.type&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},t.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})},t.identifier=function(e){const t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))},t.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})},t.objKey=function(e){this._curObjKey=e.value},t.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},t.objVal=function(e){this._cursor.value[this._curObjKey]=e},t.subExpression=function(e){this._placeAtCursor(e)},t.ternaryEnd=function(e){this._cursor.alternate=e},t.ternaryMid=function(e){this._cursor.consequent=e},t.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},t.transform=function(e){this._placeBeforeCursor({type:"Transform",name:e.value,args:[],subject:this._cursor})},t.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationShell=Symbol("ApplicationShell")},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=function(e){function FrontendApplicationStateService(){return null!==e&&e.apply(this,arguments)||this}return i(FrontendApplicationStateService,e),FrontendApplicationStateService=o([a.Component(a.ApplicationStateService)],FrontendApplicationStateService)}(a.AbstractApplicationStateService);t.FrontendApplicationStateService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof navigator?navigator.userAgent:"";function parseCssMagnitude(e,t){if(e){var n=void 0;if(n=e.endsWith("px")?parseFloat(e.substring(0,e.length-2)):parseFloat(e),!isNaN(n))return n}return t}function getMonacoEditorScroll(e){var t=e.querySelector(".lines-content"),n=e.querySelector(".view-lines");if(null!==t&&null!==n){var r=t.style,i=e.style,o=n.style;return{left:-parseCssMagnitude(r.left,0),top:-parseCssMagnitude(r.top,0),maxLeft:parseCssMagnitude(o.width,0)-parseCssMagnitude(i.width,0),maxTop:parseCssMagnitude(o.height,0)-parseCssMagnitude(i.height,0)}}}t.isIE=r.indexOf("Trident")>=0,t.isEdge=r.indexOf("Edge/")>=0,t.isEdgeOrIE=t.isIE||t.isEdge,t.isOpera=r.indexOf("Opera")>=0,t.isFirefox=r.indexOf("Firefox")>=0,t.isWebKit=r.indexOf("AppleWebKit")>=0,t.isChrome=r.indexOf("Chrome")>=0,t.isSafari=-1===r.indexOf("Chrome")&&r.indexOf("Safari")>=0,t.isIPad=r.indexOf("iPad")>=0,t.isNative=void 0!==window.process,t.isBasicWasmSupported=void 0!==window.WebAssembly,t.parseCssMagnitude=parseCssMagnitude,t.parseCssTime=function parseCssTime(e,t){if(e){var n=void 0;if(n=e.endsWith("ms")?parseFloat(e.substring(0,e.length-2)):e.endsWith("s")?1e3*parseFloat(e.substring(0,e.length-1)):parseFloat(e),!isNaN(n))return n}return t},t.preventNavigation=function preventNavigation(e){for(var t=e.currentTarget,n=e.deltaX,r=e.deltaY,i=Math.abs(n),o=Math.abs(r),a=e.target;a&&a!==t;){var s=void 0;if(s=a.classList.contains("monaco-scrollable-element")?getMonacoEditorScroll(a):{left:a.scrollLeft,top:a.scrollTop,maxLeft:a.scrollWidth-a.clientWidth,maxTop:a.scrollHeight-a.clientHeight}){var u=s.maxLeft>0&&(n<0&&s.left>0||n>0&&s.left<s.maxLeft),c=s.maxTop>0&&(r<0&&s.top>0||r>0&&s.top<s.maxTop);if(u&&c||u&&i>o||c&&o>i)return}a=a.parentElement}e.preventDefault(),e.stopPropagation()}},function(e,t,n){"use strict";(function(e){function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(12),i=n(106);t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.RequestType1=i.RequestType1,t.RequestType2=i.RequestType2,t.RequestType3=i.RequestType3,t.RequestType4=i.RequestType4,t.RequestType5=i.RequestType5,t.RequestType6=i.RequestType6,t.RequestType7=i.RequestType7,t.RequestType8=i.RequestType8,t.RequestType9=i.RequestType9,t.ResponseError=i.ResponseError,t.ErrorCodes=i.ErrorCodes,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.NotificationType1=i.NotificationType1,t.NotificationType2=i.NotificationType2,t.NotificationType3=i.NotificationType3,t.NotificationType4=i.NotificationType4,t.NotificationType5=i.NotificationType5,t.NotificationType6=i.NotificationType6,t.NotificationType7=i.NotificationType7,t.NotificationType8=i.NotificationType8,t.NotificationType9=i.NotificationType9;const o=n(23);t.MessageReader=o.MessageReader,t.StreamMessageReader=o.StreamMessageReader,t.IPCMessageReader=o.IPCMessageReader,t.SocketMessageReader=o.SocketMessageReader;const a=n(24);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const s=n(10);t.Disposable=s.Disposable,t.Event=s.Event,t.Emitter=s.Emitter;const u=n(110);t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const c=n(111);var l,f,d,p,h,y,g,v;__export(n(112)),__export(n(114)),function(e){e.type=new i.NotificationType("$/cancelRequest")}(l||(l={})),function(e){e.type=new i.NotificationType("$/progress")}(f||(f={}));t.ProgressType=class ProgressType{constructor(){this._=void 0}},t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function fromString(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function toString(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function fromString(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTraceNotification")}(h=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTraceNotification")}(y=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class ConnectionError extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,ConnectionError.prototype)}}function _createMessageConnection(t,n,o,a){let _=0,m=0,b=0;let w,T,S=void 0,A=Object.create(null),O=void 0,E=Object.create(null),x=new Map,M=new c.LinkedMap,P=Object.create(null),I=Object.create(null),C=d.Off,N=p.Text,R=v.New,B=new s.Emitter,k=new s.Emitter,j=new s.Emitter,L=new s.Emitter,W=new s.Emitter;function createRequestQueueKey(e){return"req-"+e.toString()}function addMessageToQueue(e,t){i.isRequestMessage(t)?e.set(createRequestQueueKey(t.id),t):i.isResponseMessage(t)?e.set(function createResponseQueueKey(e){return null===e?"res-unknown-"+(++b).toString():"res-"+e.toString()}(t.id),t):e.set(function createNotificationQueueKey(){return"not-"+(++m).toString()}(),t)}function cancelUndispatched(e){}function isListening(){return R===v.Listening}function isClosed(){return R===v.Closed}function isDisposed(){return R===v.Disposed}function closeHandler(){R!==v.New&&R!==v.Listening||(R=v.Closed,k.fire(void 0))}function triggerMessageQueue(){w||0===M.size||(w=e(()=>{w=void 0,function processMessageQueue(){if(0===M.size)return;let e=M.shift();try{i.isRequestMessage(e)?function handleRequest(e){if(isDisposed())return;function reply(t,r,o){let a={jsonrpc:"2.0",id:e.id};t instanceof i.ResponseError?a.error=t.toJson():a.result=void 0===t?null:t,traceSendingResponse(a,r,o),n.write(a)}function replyError(t,r,i){let o={jsonrpc:"2.0",id:e.id,error:t.toJson()};traceSendingResponse(o,r,i),n.write(o)}!function traceReceivedRequest(e){if(C===d.Off||!T)return;if(N===p.Text){let t=void 0;C===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),T.log(`Received request '${e.method} - (${e.id})'.`,t)}else logLSPMessage("receive-request",e)}(e);let t,o,a=A[e.method];a&&(t=a.type,o=a.handler);let s=Date.now();if(o||S){let a=new u.CancellationTokenSource,c=String(e.id);I[c]=a;try{let u;u=void 0===e.params||void 0!==t&&0===t.numberOfParams?o?o(a.token):S(e.method,a.token):r.array(e.params)&&(void 0===t||t.numberOfParams>1)?o?o(...e.params,a.token):S(e.method,...e.params,a.token):o?o(e.params,a.token):S(e.method,e.params,a.token);let l=u;u?l.then?l.then(t=>{delete I[c],reply(t,e.method,s)},t=>{delete I[c],t instanceof i.ResponseError?replyError(t,e.method,s):t&&r.string(t.message)?replyError(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,s):replyError(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,s)}):(delete I[c],reply(u,e.method,s)):(delete I[c],function replySuccess(t,r,i){void 0===t&&(t=null);let o={jsonrpc:"2.0",id:e.id,result:t};traceSendingResponse(o,r,i),n.write(o)}(u,e.method,s))}catch(t){delete I[c],t instanceof i.ResponseError?reply(t,e.method,s):t&&r.string(t.message)?replyError(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,s):replyError(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,s)}}else replyError(new i.ResponseError(i.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,s)}(e):i.isNotificationMessage(e)?function handleNotification(e){if(isDisposed())return;let t,n=void 0;if(e.method===l.type.method)t=e=>{let t=e.id,n=I[String(t)];n&&n.cancel()};else{let r=E[e.method];r&&(t=r.handler,n=r.type)}if(t||O)try{!function traceReceivedNotification(e){if(C===d.Off||!T||e.method===y.type.method)return;if(N===p.Text){let t=void 0;C===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),T.log(`Received notification '${e.method}'.`,t)}else logLSPMessage("receive-notification",e)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():O(e.method):r.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t(...e.params):O(e.method,...e.params):t?t(e.params):O(e.method,e.params)}catch(t){t.message?o.error(`Notification handler '${e.method}' failed with message: ${t.message}`):o.error(`Notification handler '${e.method}' failed unexpectedly.`)}else j.fire(e)}(e):i.isResponseMessage(e)?function handleResponse(e){if(isDisposed())return;if(null===e.id)e.error?o.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let t=String(e.id),n=P[t];if(function traceReceivedResponse(e,t){if(C===d.Off||!T)return;if(N===p.Text){let n=void 0;if(C===d.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";T.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else T.log(`Received response ${e.id} without active response promise.`,n)}else logLSPMessage("receive-response",e)}(e,n),n){delete P[t];try{if(e.error){let t=e.error;n.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?o.error(`Response handler '${n.method}' failed with message: ${e.message}`):o.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function handleInvalidMessage(e){if(!e)return void o.error("Received empty message.");o.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(r.string(t.id)||r.number(t.id)){let e=String(t.id),n=P[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{triggerMessageQueue()}}()}))}t.onClose(closeHandler),t.onError((function readErrorHandler(e){B.fire([e,void 0,void 0])})),n.onClose(closeHandler),n.onError((function writeErrorHandler(e){B.fire(e)}));let callback=e=>{try{if(i.isNotificationMessage(e)&&e.method===l.type.method){let t=createRequestQueueKey(e.params.id),r=M.get(t);if(i.isRequestMessage(r)){let i=a&&a.cancelUndispatched?a.cancelUndispatched(r,cancelUndispatched):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return M.delete(t),i.id=r.id,traceSendingResponse(i,e.method,Date.now()),void n.write(i)}}addMessageToQueue(M,e)}finally{triggerMessageQueue()}};function traceSendingResponse(e,t,n){if(C!==d.Off&&T)if(N===p.Text){let r=void 0;C===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),T.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else logLSPMessage("send-response",e)}function logLSPMessage(e,t){if(!T||C===d.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};T.log(n)}function throwIfClosedOrDisposed(){if(isClosed())throw new ConnectionError(g.Closed,"Connection is closed.");if(isDisposed())throw new ConnectionError(g.Disposed,"Connection is disposed.")}function undefinedToNull(e){return void 0===e?null:e}function computeMessageParams(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=undefinedToNull(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(undefinedToNull(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let D={sendNotification:(e,...t)=>{let i,o;if(throwIfClosedOrDisposed(),r.string(e))switch(i=e,t.length){case 0:o=null;break;case 1:o=t[0];break;default:o=t}else i=e.method,o=computeMessageParams(e,t);let a={jsonrpc:"2.0",method:i,params:o};!function traceSendingNotification(e){if(C!==d.Off&&T)if(N===p.Text){let t=void 0;C===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),T.log(`Sending notification '${e.method}'.`,t)}else logLSPMessage("send-notification",e)}(a),n.write(a)},onNotification:(e,t)=>{throwIfClosedOrDisposed(),r.func(e)?O=e:t&&(r.string(e)?E[e]={type:void 0,handler:t}:E[e.method]={type:e,handler:t})},onProgress:(e,t,n)=>{if(x.has(t))throw new Error(`Progress handler for token ${t} already registered`);return x.set(t,n),{dispose:()=>{x.delete(t)}}},sendProgress:(e,t,n)=>{D.sendNotification(f.type,{token:t,value:n})},onUnhandledProgress:L.event,sendRequest:(e,...t)=>{let o,a;throwIfClosedOrDisposed(),function throwIfNotListening(){if(!isListening())throw new Error("Call listen() first.")}();let s=void 0;if(r.string(e))switch(o=e,t.length){case 0:a=null;break;case 1:u.CancellationToken.is(t[0])?(a=null,s=t[0]):a=undefinedToNull(t[0]);break;default:const e=t.length-1;u.CancellationToken.is(t[e])?(s=t[e],a=2===t.length?undefinedToNull(t[0]):t.slice(0,e).map(e=>undefinedToNull(e))):a=t.map(e=>undefinedToNull(e))}else{o=e.method,a=computeMessageParams(e,t);let n=e.numberOfParams;s=u.CancellationToken.is(t[n])?t[n]:void 0}let c=_++,f=new Promise((e,t)=>{let r={jsonrpc:"2.0",id:c,method:o,params:a},s={method:o,timerStart:Date.now(),resolve:e,reject:t};!function traceSendingRequest(e){if(C!==d.Off&&T)if(N===p.Text){let t=void 0;C===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),T.log(`Sending request '${e.method} - (${e.id})'.`,t)}else logLSPMessage("send-request",e)}(r);try{n.write(r)}catch(e){s.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(P[String(c)]=s)});return s&&s.onCancellationRequested(()=>{D.sendNotification(l.type,{id:c})}),f},onRequest:(e,t)=>{throwIfClosedOrDisposed(),r.func(e)?S=e:t&&(r.string(e)?A[e]={type:void 0,handler:t}:A[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let i=!1,o=p.Text;void 0!==n&&(r.boolean(n)?i=n:(i=n.sendNotification||!1,o=n.traceFormat||p.Text)),C=e,N=o,T=C===d.Off?void 0:t,!i||isClosed()||isDisposed()||D.sendNotification(h.type,{value:d.toString(e)})},onError:B.event,onClose:k.event,onUnhandledNotification:j.event,onDispose:W.event,dispose:()=>{if(isDisposed())return;R=v.Disposed,W.fire(void 0);let e=new Error("Connection got disposed.");Object.keys(P).forEach(t=>{P[t].reject(e)}),P=Object.create(null),I=Object.create(null),M=new c.LinkedMap,r.func(n.dispose)&&n.dispose(),r.func(t.dispose)&&t.dispose()},listen:()=>{throwIfClosedOrDisposed(),function throwIfListening(){if(isListening())throw new ConnectionError(g.AlreadyListening,"Connection is already listening")}(),R=v.Listening,t.listen(callback)},inspect:()=>{console.log("inspect")}};return D.onNotification(y.type,e=>{C!==d.Off&&T&&T.log(e.message,C===d.Verbose?e.verbose:void 0)}),D.onNotification(f.type,e=>{const t=x.get(e.token);t?t(e.value):L.fire(e)}),D}t.ConnectionError=ConnectionError,function(e){e.is=function is(e){let t=e;return t&&r.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(v||(v={})),t.createMessageConnection=function createMessageConnection(e,n,r,i){return r||(r=t.NullLogger),_createMessageConnection(function isMessageReader(e){return void 0!==e.listen&&void 0===e.read}(e)?e:new o.StreamMessageReader(e),function isMessageWriter(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),r,i)}}).call(this,n(104).setImmediate)},function(e,t,n){(function(e){function normalizeArray(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function filter(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var i=r>=0?arguments[r]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,n="/"===i.charAt(0))}return(n?"/":"")+(t=normalizeArray(filter(t.split("/"),(function(e){return!!e})),!n).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===n(e,-1);return(e=normalizeArray(filter(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(filter(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function trim(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=trim(e.split("/")),i=trim(n.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function basename(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var n="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(7))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),a=n(14);function getAutowiredOption(e,t,n){var o={};return void 0===t&&(i.is(e)?o=r({},e):e&&(o={id:e})),o}function applyAutowiredDecorator(e,t,n,i,a,s){var u;void 0===a&&(a=function(e,r,a,s,u){r?o.multiInject(e)(a,s,u):o.inject(e)(t,n,i)}),void 0===s&&(s=function(e,t,n,r,i){return t?n.getAll(e):n.get(e)});var c=(u=void 0!==i?Reflect.getMetadata("design:paramtypes",t,n)[i]:Reflect.getMetadata("design:type",t,n))===Array,l=r(r({},{id:u,detached:!1}),e);if(l.detached){if(void 0!==i)throw new Error("The "+t.constructor.name+" itself is not injected into the container, so the parameter injection of the constructor is not supported.");createAutowiredProperty(l,c,s,t,n)}else a(l.id,c,t,n,i)}function createAutowiredProperty(e,t,n,r,i){var o;Object.defineProperty(r,i,{enumerable:!0,get:function(){if(void 0!==o)return o;var s=a.ContainerProvider.provide(),u=e.id;return o=n(u,t,s,r,i)}})}!function(e){e.is=function is(e){return e&&(void 0!==e.id||void 0!==e.detached)}}(i=t.AutowiredOption||(t.AutowiredOption={})),t.Autowired=function(e,t,n){var r=getAutowiredOption(e,t,n);if(void 0===t&&void 0===n)return function(e,t,n){applyAutowiredDecorator(r,e,t,n)};applyAutowiredDecorator(r,e,t,n)},t.getAutowiredOption=getAutowiredOption,t.applyAutowiredDecorator=applyAutowiredDecorator,t.createAutowiredProperty=createAutowiredProperty},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(93);t.autoProvide=r.default;var i=n(37);t.provide=i.default;var o=n(94);t.fluentProvide=o.default;var a=n(98);t.buildProviderModule=a.default},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),a=n(14);function getValueOption(e,t,n){var o={};return void 0===t&&(i.is(e)?o=r({},e):e&&(o={el:e})),o}function applyValueDecorator(e,n,i,a){var s=r(r({},{el:i,detached:!1}),e);if(s.detached){if(void 0!==a)throw new Error("The "+n.constructor.name+" itself is not injected into the container, so the parameter injection of the constructor is not supported.");createValueProperty(s,n,i)}else{var u=s.el;o.inject(t.VALUE)(n,i,a),o.named(u)(n,i,a)}}function createValueProperty(e,n,r){Object.defineProperty(n,r,{enumerable:!0,get:function(){var n=a.ContainerProvider.provide(),r=e.el;return n.getNamed(t.VALUE,r)}})}t.VALUE=Symbol("Value"),function(e){e.is=function is(e){return e&&(void 0!==e.el||void 0!==e.detached)}}(i=t.ValueOption||(t.ValueOption={})),t.Value=function(e,t,n){var r=getValueOption(e,t,n);if(void 0===t&&void 0===n)return function(e,t,n){applyValueDecorator(r,e,t,n)};applyValueDecorator(r,e,t,n)},t.getValueOption=getValueOption,t.applyValueDecorator=applyValueDecorator,t.createValueProperty=createValueProperty},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),i=n(38),o=n(14);r.container.then((function(e){o.ContainerProvider.set(e);var t=e.get(i.Application);t.start().catch((function(e){console.error("Failed to start the "+t.constructor.name+"."),e&&console.error(e)}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.container=Promise.resolve(new r.Container),n(79),n(81);const{Container:i}=n(2),{FrontendApplication:o}=n(26),{CoreFrontendModule:a}=n(131),s=new i;function load(e){return Promise.resolve(e.default).then(e=>s.load(e))}s.load(a),e.exports.container=Promise.resolve().then((function(){return n.e(6).then(n.t.bind(null,133,7)).then(load)})).then((function(){return Promise.all([n.e(0),n.e(9)]).then(n.t.bind(null,134,7)).then(load)})).then((function(){return n.e(8).then(n.t.bind(null,135,7)).then(load)})).then((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.t.bind(null,136,7)).then(load)})).then((function(){return n.e(5).then(n.t.bind(null,137,7)).then(load)})).then((function(){return n.e(10).then(n.t.bind(null,138,7)).then(load)})).then((function(){return n.e(11).then(n.t.bind(null,139,7)).then(load)})).then((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4)]).then(n.t.bind(null,140,7)).then(load)})).then(()=>s).catch(e=>{console.error("Failed to start the frontend application."),e&&console.error(e)})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(54),a=n(1),s=n(4),u=n(0),c=n(27),l=n(55),f=n(62),d=n(64),p=n(6),h=n(11),y=n(67),g=n(68),v=function(){function Container(e){var t=e||{};if("object"!=typeof t)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=s.BindingScopeEnum.Transient;else if(t.defaultScope!==s.BindingScopeEnum.Singleton&&t.defaultScope!==s.BindingScopeEnum.Transient&&t.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new g.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return Container.merge=function(e,t){var n=new Container,r=l.getBindingDictionary(n),i=l.getBindingDictionary(e),o=l.getBindingDictionary(t);function copyDictionary(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return copyDictionary(i,r),copyDictionary(o,r),n},Container.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},Container.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},Container.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var conditionFactory=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=conditionFactory(t.id);e._bindingDictionary.removeByCondition(n)}))},Container.prototype.bind=function(e){var t=this.options.defaultScope||s.BindingScopeEnum.Transient,n=new o.Binding(e,t);return this._bindingDictionary.add(e,n),new d.BindingToSyntax(n)},Container.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},Container.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(a.CANNOT_UNBIND+" "+h.getServiceIdentifierAsString(e))}},Container.prototype.unbindAll=function(){this._bindingDictionary=new g.Lookup},Container.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},Container.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,u.NAMED_TAG,t)},Container.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=l.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},Container.prototype.snapshot=function(){this._snapshots.push(y.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},Container.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},Container.prototype.createChild=function(e){var t=new Container(e||this.options);return t.parent=this,t},Container.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},Container.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},Container.prototype.get=function(e){return this._get(!1,!1,s.TargetTypeEnum.Variable,e)},Container.prototype.getTagged=function(e,t,n){return this._get(!1,!1,s.TargetTypeEnum.Variable,e,t,n)},Container.prototype.getNamed=function(e,t){return this.getTagged(e,u.NAMED_TAG,t)},Container.prototype.getAll=function(e){return this._get(!0,!0,s.TargetTypeEnum.Variable,e)},Container.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,s.TargetTypeEnum.Variable,e,t,n)},Container.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,u.NAMED_TAG,t)},Container.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},Container.prototype._getContainerModuleHelpersFactory=function(){var e=this,setModuleId=function(e,t){e._binding.moduleId=t},getRebindFunction=function(t){return function(n){var r=e.rebind.bind(e)(n);return setModuleId(r,t),r}};return function(t){return{bindFunction:(n=t,function(t){var r=e.bind.bind(e)(t);return setModuleId(r,n),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:getRebindFunction(t),unbindFunction:function(t){e.unbind.bind(e)(t)}};var n}},Container.prototype._get=function(e,t,n,r,i,o){var s=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(s=this._middleware(u)))throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(u);return s},Container.prototype._planAndResolve=function(){var e=this;return function(t){var n=l.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),f.resolve(n)}},Container}();t.Container=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(6),o=function(){function Binding(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return Binding.prototype.clone=function(){var e=new Binding(this.serviceIdentifier,this.scope);return e.activated=!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},Binding}();t.Binding=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),i=n(1),o=n(4),a=n(0),s=n(28),u=n(11),c=n(57),l=n(3),f=n(58),d=n(59),p=n(61),h=n(30);function getBindingDictionary(e){return e._bindingDictionary}function _getActiveBindings(e,t,n,o,a){var s=getBindings(n.container,a.serviceIdentifier),c=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=getBindings(n.container,a.serviceIdentifier)),c=t?s:s.filter((function(e){var t=new p.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function _validateActiveBindingCount(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,getBindings),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,getBindings),new Error(s)}}(a.serviceIdentifier,c,a,n.container),c}function getBindings(e,t){var n=[],r=getBindingDictionary(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=getBindings(e.parent,t)),n}t.getBindingDictionary=getBindingDictionary,t.plan=function plan(e,t,n,r,y,g,v,_){void 0===_&&(_=!1);var m=new c.Context(t),b=function _createTarget(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),c=new h.Target(t,r,n,u);if(void 0!==i){var f=new l.Metadata(i,o);c.metadata.push(f)}return c}(n,r,y,"",g,v);try{return function _createSubRequests(e,t,n,r,a,s){var u,c;if(null===a){u=_getActiveBindings(e,t,r,null,s),c=new p.Request(n,r,null,u,s);var l=new f.Plan(r,c);r.addPlan(l)}else u=_getActiveBindings(e,t,r,a,s),c=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=c.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=c}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=d.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=d.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){_createSubRequests(e,!1,t.serviceIdentifier,r,n,t)}))}}))}(e,_,y,m,null,b),m}catch(e){throw s.isStackOverflowExeption(e)&&m.plan&&u.circularDependencyToException(m.plan.rootRequest),e}},t.createMockRequest=function createMockRequest(e,t,n,r){var i=new h.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new c.Context(e);return new p.Request(t,a,null,[],i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function Context(e){this.id=r.id(),this.container=e}return Context.prototype.addPlan=function(e){this.plan=e},Context.prototype.setCurrentRequest=function(e){this.currentRequest=e},Context}();t.Context=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function r(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(1),o=n(4),a=n(0),s=n(11);t.getFunctionName=s.getFunctionName;var u=n(30);function getTargets(e,t,n,r){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var c=i.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var l=a.userGeneratedMetadata,f=Object.keys(l),d=function getConstructorArgsAsTargets(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=getConstructorArgsAsTarget(a,e,t,n,r);null!==s&&o.push(s)}return o}(r,t,s,l,0===n.length&&f.length>0?f.length:n.length),p=function getClassPropsAsTargets(e,t){for(var n=e.getPropertiesMetadata(t),r=[],i=Object.keys(n),a=0,s=i;a<s.length;a++){var c=s[a],l=n[c],f=formatTargetMetadata(n[c]),d=f.targetName||c,p=f.inject||f.multiInject,h=new u.Target(o.TargetTypeEnum.ClassProperty,d,p);h.metadata=l,r.push(h)}var y=Object.getPrototypeOf(t.prototype).constructor;if(y!==Object){var g=getClassPropsAsTargets(e,y);r=r.concat(g)}return r}(e,n);return d.concat(p)}function getConstructorArgsAsTarget(e,t,n,a,s){var c=s[e.toString()]||[],l=formatTargetMetadata(c),f=!0!==l.unmanaged,d=a[e],p=l.inject||l.multiInject;if((d=p||d)instanceof r.LazyServiceIdentifer&&(d=d.unwrap()),f){if(!t&&(d===Object||d===Function||void 0===d)){var h=i.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(h)}var y=new u.Target(o.TargetTypeEnum.ConstructorArgument,l.targetName,d);return y.metadata=c,y}return null}function formatTargetMetadata(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[a.INJECT_TAG],multiInject:t[a.MULTI_INJECT_TAG],targetName:t[a.NAME_TAG],unmanaged:t[a.UNMANAGED_TAG]}}t.getDependencies=function getDependencies(e,t){return getTargets(e,s.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function getBaseClassDependencyCount(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=getTargets(e,s.getFunctionName(n),n,!0),i=r.map((function(e){return e.metadata.filter((function(e){return e.key===a.UNMANAGED_TAG}))})),o=[].concat.apply([],i).length,u=r.length-o;return u>0?u:getBaseClassDependencyCount(e,n)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function QueryableString(e){this.str=e}return QueryableString.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},QueryableString.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},QueryableString.prototype.contains=function(e){return-1!==this.str.indexOf(e)},QueryableString.prototype.equals=function(e){return this.str===e},QueryableString.prototype.value=function(){return this.str},QueryableString}();t.QueryableString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function Request(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return Request.prototype.addChildRequest=function(e,t,n){var r=new Request(e,this.parentContext,this,t,n);return this.childRequests.push(r),r},Request}();t.Request=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(28),a=n(11),s=n(63),invokeFactory=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},_resolveRequest=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,u=t.target&&t.target.isArray(),c=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(u&&c)return o.map((function(t){return _resolveRequest(e)(t)}));var l=null;if(!t.target.isOptional()||0!==n.length){var f=n[0],d=f.scope===i.BindingScopeEnum.Singleton,p=f.scope===i.BindingScopeEnum.Request;if(d&&f.activated)return f.cache;if(p&&null!==e&&e.has(f.id))return e.get(f.id);if(f.type===i.BindingTypeEnum.ConstantValue)l=f.cache;else if(f.type===i.BindingTypeEnum.Function)l=f.cache;else if(f.type===i.BindingTypeEnum.Constructor)l=f.implementationType;else if(f.type===i.BindingTypeEnum.DynamicValue&&null!==f.dynamicValue)l=invokeFactory("toDynamicValue",f.serviceIdentifier,(function(){return f.dynamicValue(t.parentContext)}));else if(f.type===i.BindingTypeEnum.Factory&&null!==f.factory)l=invokeFactory("toFactory",f.serviceIdentifier,(function(){return f.factory(t.parentContext)}));else if(f.type===i.BindingTypeEnum.Provider&&null!==f.provider)l=invokeFactory("toProvider",f.serviceIdentifier,(function(){return f.provider(t.parentContext)}));else{if(f.type!==i.BindingTypeEnum.Instance||null===f.implementationType){var h=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+h)}l=s.resolveInstance(f.implementationType,o,_resolveRequest(e))}return"function"==typeof f.onActivation&&(l=f.onActivation(t.parentContext,l)),d&&(f.cache=l,f.activated=!0),p&&null!==e&&!e.has(f.id)&&e.set(f.id,l),l}}};t.resolve=function resolve(e){return _resolveRequest(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(0);t.resolveInstance=function resolveInstance(e,t,n){var a=null;return a=t.length>0?function _injectProperties(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ClassProperty})),o=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var i=o[n];e[r]=i})),e}(a=function _createInstance(e,t){return new(e.bind.apply(e,[void 0].concat(t)))}(e,t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ConstructorArgument})).map(n)),t,n):new e,function _postConstruct(e,t){if(Reflect.hasMetadata(o.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(o.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(r.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,a),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(65),a=n(31),s=function(){function BindingToSyntax(e){this._binding=e}return BindingToSyntax.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},BindingToSyntax.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},BindingToSyntax.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},BindingToSyntax.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},BindingToSyntax.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,new a.BindingWhenOnSyntax(this._binding)},BindingToSyntax.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,new a.BindingWhenOnSyntax(this._binding)},BindingToSyntax.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,t},BindingToSyntax.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new a.BindingWhenOnSyntax(this._binding)},BindingToSyntax.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,new a.BindingWhenOnSyntax(this._binding)},BindingToSyntax.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},BindingToSyntax}();t.BindingToSyntax=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=n(17),o=n(18),a=function(){function BindingInWhenOnSyntax(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return BindingInWhenOnSyntax.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},BindingInWhenOnSyntax.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},BindingInWhenOnSyntax.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},BindingInWhenOnSyntax.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},BindingInWhenOnSyntax.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},BindingInWhenOnSyntax.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},BindingInWhenOnSyntax.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},BindingInWhenOnSyntax.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},BindingInWhenOnSyntax.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},BindingInWhenOnSyntax.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},BindingInWhenOnSyntax.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},BindingInWhenOnSyntax.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},BindingInWhenOnSyntax.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},BindingInWhenOnSyntax.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},BindingInWhenOnSyntax.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},BindingInWhenOnSyntax.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},BindingInWhenOnSyntax}();t.BindingInWhenOnSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(31),o=function(){function BindingInSyntax(e){this._binding=e}return BindingInSyntax.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},BindingInSyntax.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},BindingInSyntax.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},BindingInSyntax}();t.BindingInSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ContainerSnapshot(){}return ContainerSnapshot.of=function(e,t){var n=new ContainerSnapshot;return n.bindings=e,n.middleware=t,n},ContainerSnapshot}();t.ContainerSnapshot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function Lookup(){this._map=new Map}return Lookup.prototype.getMap=function(){return this._map},Lookup.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},Lookup.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},Lookup.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},Lookup.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},Lookup.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},Lookup.prototype.clone=function(){var e=new Lookup;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},Lookup.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},Lookup}();t.Lookup=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function i(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function o(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0);t.injectable=function injectable(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(5);t.tagged=function tagged(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"==typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(5);t.named=function named(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(5);t.optional=function optional(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(5);t.unmanaged=function unmanaged(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(5);t.multiInject=function multiInject(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(5);t.targetName=function targetName(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(3);t.postConstruct=function postConstruct(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},function(e,t,n){"use strict";e.exports=n(80).polyfill()},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function isFunction(e){return"function"==typeof e}var e=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,o=void 0,a=function asap(e,t){d[r]=e,d[r+1]=t,2===(r+=2)&&(o?o(flush):p())},s="undefined"!=typeof window?window:void 0,u=s||{},c=u.MutationObserver||u.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function useSetTimeout(){var e=setTimeout;return function(){return e(flush,1)}}var d=new Array(1e3);function flush(){for(var e=0;e<r;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;r=0}var p=void 0;function then(e,t){var n=this,r=new this.constructor(noop);void 0===r[h]&&makePromise(r);var i=n._state;if(i){var o=arguments[i-1];a((function(){return invokeCallback(i,r,o,n._result)}))}else subscribe(n,r,e,t);return r}function resolve$1(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(noop);return resolve(t,e),t}p=l?function useNextTick(){return function(){return t.nextTick(flush)}}():c?function useMutationObserver(){var e=0,t=new c(flush),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():f?function useMessageChannel(){var e=new MessageChannel;return e.port1.onmessage=flush,function(){return e.port2.postMessage(0)}}():void 0===s?function attemptVertx(){try{var e=Function("return this")().require("vertx");return i=e.runOnLoop||e.runOnContext,function useVertxTimer(){return void 0!==i?function(){i(flush)}:useSetTimeout()}()}catch(e){return useSetTimeout()}}():useSetTimeout();var h=Math.random().toString(36).substring(2);function noop(){}function handleMaybeThenable(e,t,n){t.constructor===e.constructor&&n===then&&t.constructor.resolve===resolve$1?function handleOwnThenable(e,t){1===t._state?fulfill(e,t._result):2===t._state?reject(e,t._result):subscribe(t,void 0,(function(t){return resolve(e,t)}),(function(t){return reject(e,t)}))}(e,t):void 0===n?fulfill(e,t):isFunction(n)?function handleForeignThenable(e,t,n){a((function(e){var r=!1,i=function tryThen(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?resolve(e,n):fulfill(e,n))}),(function(t){r||(r=!0,reject(e,t))}),e._label);!r&&i&&(r=!0,reject(e,i))}),e)}(e,t,n):fulfill(e,t)}function resolve(e,t){if(e===t)reject(e,function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}());else if(function objectOrFunction(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void reject(e,t)}handleMaybeThenable(e,t,n)}else fulfill(e,t)}function publishRejection(e){e._onerror&&e._onerror(e._result),publish(e)}function fulfill(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(publish,e))}function reject(e,t){void 0===e._state&&(e._state=2,e._result=t,a(publishRejection,e))}function subscribe(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=r,0===o&&e._state&&a(publish,e)}function publish(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?invokeCallback(n,r,i,o):i(o);e._subscribers.length=0}}function invokeCallback(e,t,n,r){var i=isFunction(n),o=void 0,a=void 0,s=!0;if(i){try{o=n(r)}catch(e){s=!1,a=e}if(t===o)return void reject(t,function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}())}else o=r;void 0!==t._state||(i&&s?resolve(t,o):!1===s?reject(t,a):1===e?fulfill(t,o):2===e&&reject(t,o))}var y=0;function makePromise(e){e[h]=y++,e._state=void 0,e._result=void 0,e._subscribers=[]}var g=function(){function Enumerator(t,n){this._instanceConstructor=t,this.promise=new t(noop),this.promise[h]||makePromise(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&fulfill(this.promise,this._result))):reject(this.promise,function validationError(){return new Error("Array Methods must be provided an Array")}())}return Enumerator.prototype._enumerate=function _enumerate(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},Enumerator.prototype._eachEntry=function _eachEntry(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===resolve$1){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===then&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===v){var s=new n(noop);a?reject(s,o):handleMaybeThenable(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},Enumerator.prototype._settledAt=function _settledAt(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?reject(r,n):this._result[t]=n),0===this._remaining&&fulfill(r,this._result)},Enumerator.prototype._willSettleAt=function _willSettleAt(e,t){var n=this;subscribe(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},Enumerator}(),v=function(){function Promise(e){this[h]=function nextId(){return y++}(),this._result=this._state=void 0,this._subscribers=[],noop!==e&&("function"!=typeof e&&function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Promise?function initializePromise(e,t){try{t((function resolvePromise(t){resolve(e,t)}),(function rejectPromise(t){reject(e,t)}))}catch(t){reject(e,t)}}(this,e):function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Promise.prototype.catch=function _catch(e){return this.then(null,e)},Promise.prototype.finally=function _finally(e){var t=this.constructor;return isFunction(e)?this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))})):this.then(e,e)},Promise}();return v.prototype.then=then,v.all=function all(e){return new g(this,e).promise},v.race=function race(t){var n=this;return e(t)?new n((function(e,r){for(var i=t.length,o=0;o<i;o++)n.resolve(t[o]).then(e,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},v.resolve=resolve$1,v.reject=function reject$1(e){var t=new this(noop);return reject(t,e),t},v._setScheduler=function setScheduler(e){o=e},v._setAsap=function setAsap(e){a=e},v._asap=a,v.polyfill=function polyfill(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=v},v.Promise=v,v},e.exports=r()}).call(this,n(7),n(9))},function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var i="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=makeExporter(n);function makeExporter(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===i.Reflect?i.Reflect=n:o=makeExporter(i.Reflect,o),function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,c={create:a?function(){return MakeDictionary(Object.create(null))}:s?function(){return MakeDictionary({__proto__:null})}:function(){return MakeDictionary({})},has:u?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function CreateMapPolyfill(){var e={},t=[],n=function(){function MapIterator(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return MapIterator.prototype["@@iterator"]=function(){return this},MapIterator.prototype[o]=function(){return this},MapIterator.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},MapIterator.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},MapIterator.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},MapIterator}();return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(e){return this._find(e,!1)>=0},Map.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},Map.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},Map.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},Map.prototype.keys=function(){return new n(this._keys,this._values,getKey)},Map.prototype.values=function(){return new n(this._keys,this._values,getValue)},Map.prototype.entries=function(){return new n(this._keys,this._values,getEntry)},Map.prototype["@@iterator"]=function(){return this.entries()},Map.prototype[o]=function(){return this.entries()},Map.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},Map}();function getKey(e,t){return e}function getValue(e,t){return t}function getEntry(e,t){return[e,t]}}():Map,p=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function CreateSetPolyfill(){return function(){function Set(){this._map=new d}return Object.defineProperty(Set.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(e){return this._map.has(e)},Set.prototype.add=function(e){return this._map.set(e,e),this},Set.prototype.delete=function(e){return this._map.delete(e)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set.prototype["@@iterator"]=function(){return this.keys()},Set.prototype[o]=function(){return this.keys()},Set}()}():Set,h=new(f||"function"!=typeof WeakMap?function CreateWeakMapPolyfill(){var e=c.create(),t=CreateUniqueKey();return function(){function WeakMap(){this._key=CreateUniqueKey()}return WeakMap.prototype.has=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t&&c.has(t,this._key)},WeakMap.prototype.get=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t?c.get(t,this._key):void 0},WeakMap.prototype.set=function(e,t){return GetOrCreateWeakMapTable(e,!0)[this._key]=t,this},WeakMap.prototype.delete=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t&&delete t[this._key]},WeakMap.prototype.clear=function(){this._key=CreateUniqueKey()},WeakMap}();function CreateUniqueKey(){var t;do{t="@@WeakMap@@"+CreateUUID()}while(c.has(e,t));return e[t]=!0,t}function GetOrCreateWeakMapTable(e,r){if(!n.call(e,t)){if(!r)return;Object.defineProperty(e,t,{value:c.create()})}return e[t]}function FillRandomBytes(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function CreateUUID(){var e=function GenRandomBytes(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):FillRandomBytes(new Uint8Array(e),e):FillRandomBytes(new Array(e),e)}(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}():WeakMap);function GetOrCreateMetadataMap(e,t,n){var r=h.get(e);if(IsUndefined(r)){if(!n)return;r=new d,h.set(e,r)}var i=r.get(t);if(IsUndefined(i)){if(!n)return;i=new d,r.set(t,i)}return i}function OrdinaryHasOwnMetadata(e,t,n){var r=GetOrCreateMetadataMap(t,n,!1);return!IsUndefined(r)&&function ToBoolean(e){return!!e}(r.has(e))}function OrdinaryGetOwnMetadata(e,t,n){var r=GetOrCreateMetadataMap(t,n,!1);if(!IsUndefined(r))return r.get(e)}function OrdinaryDefineOwnMetadata(e,t,n,r){GetOrCreateMetadataMap(n,r,!0).set(e,t)}function OrdinaryOwnMetadataKeys(e,t){var n=[],r=GetOrCreateMetadataMap(e,t,!1);if(IsUndefined(r))return n;for(var i=function GetIterator(e){var t=GetMethod(e,o);if(!IsCallable(t))throw new TypeError;var n=t.call(e);if(!IsObject(n))throw new TypeError;return n}(r.keys()),a=0;;){var s=IteratorStep(i);if(!s)return n.length=a,n;var u=s.value;try{n[a]=u}catch(e){try{IteratorClose(i)}finally{throw e}}a++}}function Type(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function IsUndefined(e){return void 0===e}function IsNull(e){return null===e}function IsObject(e){return"object"==typeof e?null!==e:"function"==typeof e}function ToPrimitive(e,t){switch(Type(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=GetMethod(e,i);if(void 0!==r){var o=r.call(e,n);if(IsObject(o))throw new TypeError;return o}return function OrdinaryToPrimitive(e,t){if("string"===t){var n=e.toString;if(IsCallable(n))if(!IsObject(i=n.call(e)))return i;if(IsCallable(r=e.valueOf))if(!IsObject(i=r.call(e)))return i}else{var r;if(IsCallable(r=e.valueOf))if(!IsObject(i=r.call(e)))return i;var i,o=e.toString;if(IsCallable(o))if(!IsObject(i=o.call(e)))return i}throw new TypeError}(e,"default"===n?"number":n)}function ToPropertyKey(e){var t=ToPrimitive(e,3);return function IsSymbol(e){return"symbol"==typeof e}(t)?t:function ToString(e){return""+e}(t)}function IsArray(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function IsCallable(e){return"function"==typeof e}function IsConstructor(e){return"function"==typeof e}function GetMethod(e,t){var n=e[t];if(null!=n){if(!IsCallable(n))throw new TypeError;return n}}function IteratorStep(e){var t=e.next();return!t.done&&t}function IteratorClose(e){var t=e.return;t&&t.call(e)}function OrdinaryGetPrototypeOf(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i?t:i===e?t:i}function MakeDictionary(e){return e.__=void 0,delete e.__,e}t("decorate",(function decorate(e,t,n,r){if(IsUndefined(n)){if(!IsArray(e))throw new TypeError;if(!IsConstructor(t))throw new TypeError;return function DecorateConstructor(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!IsUndefined(r)&&!IsNull(r)){if(!IsConstructor(r))throw new TypeError;t=r}}return t}(e,t)}if(!IsArray(e))throw new TypeError;if(!IsObject(t))throw new TypeError;if(!IsObject(r)&&!IsUndefined(r)&&!IsNull(r))throw new TypeError;return IsNull(r)&&(r=void 0),function DecorateProperty(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!IsUndefined(o)&&!IsNull(o)){if(!IsObject(o))throw new TypeError;r=o}}return r}(e,t,n=ToPropertyKey(n),r)})),t("metadata",(function metadata(e,t){return function decorator(n,r){if(!IsObject(n))throw new TypeError;if(!IsUndefined(r)&&!function IsPropertyKey(e){switch(Type(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;OrdinaryDefineOwnMetadata(e,t,n,r)}})),t("defineMetadata",(function defineMetadata(e,t,n,r){if(!IsObject(n))throw new TypeError;return IsUndefined(r)||(r=ToPropertyKey(r)),OrdinaryDefineOwnMetadata(e,t,n,r)})),t("hasMetadata",(function hasMetadata(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),function OrdinaryHasMetadata(e,t,n){if(OrdinaryHasOwnMetadata(e,t,n))return!0;var r=OrdinaryGetPrototypeOf(t);return!IsNull(r)&&OrdinaryHasMetadata(e,r,n)}(e,t,n)})),t("hasOwnMetadata",(function hasOwnMetadata(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryHasOwnMetadata(e,t,n)})),t("getMetadata",(function getMetadata(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),function OrdinaryGetMetadata(e,t,n){if(OrdinaryHasOwnMetadata(e,t,n))return OrdinaryGetOwnMetadata(e,t,n);var r=OrdinaryGetPrototypeOf(t);return IsNull(r)?void 0:OrdinaryGetMetadata(e,r,n)}(e,t,n)})),t("getOwnMetadata",(function getOwnMetadata(e,t,n){if(!IsObject(t))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryGetOwnMetadata(e,t,n)})),t("getMetadataKeys",(function getMetadataKeys(e,t){if(!IsObject(e))throw new TypeError;return IsUndefined(t)||(t=ToPropertyKey(t)),function OrdinaryMetadataKeys(e,t){var n=OrdinaryOwnMetadataKeys(e,t),r=OrdinaryGetPrototypeOf(e);if(null===r)return n;var i=OrdinaryMetadataKeys(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new p,a=[],s=0,u=n;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),a.push(c))}for(var l=0,f=i;l<f.length;l++){c=f[l];o.has(c)||(o.add(c),a.push(c))}return a}(e,t)})),t("getOwnMetadataKeys",(function getOwnMetadataKeys(e,t){if(!IsObject(e))throw new TypeError;return IsUndefined(t)||(t=ToPropertyKey(t)),OrdinaryOwnMetadataKeys(e,t)})),t("deleteMetadata",(function deleteMetadata(e,t,n){if(!IsObject(t))throw new TypeError;IsUndefined(n)||(n=ToPropertyKey(n));var r=GetOrCreateMetadataMap(t,n,!1);if(IsUndefined(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||(h.delete(t),!0)}))}(o)}()}(n||(n={}))}).call(this,n(7),n(9))},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(83)),__export(n(44))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var l=n(33),f=n(44),d=n(45),p=n(8),h=function(e){function FrontendApplication(){return null!==e&&e.apply(this,arguments)||this}return i(FrontendApplication,e),Object.defineProperty(FrontendApplication.prototype,"shell",{get:function(){return this._shell},enumerable:!0,configurable:!0}),FrontendApplication.prototype.start=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.doStart()];case 1:return t.sent(),this.stateService.state="started",[4,this.getHost()];case 2:return e=t.sent(),this._shell.attach(e),[4,new Promise((function(e){return requestAnimationFrame((function(){return e()}))}))];case 3:return t.sent(),this.stateService.state="attached_shell",[4,this.revealShell(e)];case 4:return t.sent(),this.registerEventListeners(),this.stateService.state="ready",[2]}}))}))},FrontendApplication.prototype.getHost=function(){return document.body?Promise.resolve(document.body):new Promise((function(e){return window.addEventListener("load",(function(){return e(document.body)}),{once:!0})}))},FrontendApplication.prototype.getStartupIndicator=function(e){var t=e.getElementsByClassName("malagu-preload");return 0===t.length?void 0:t[0]},FrontendApplication.prototype.registerEventListeners=function(){var e=this;window.addEventListener("unload",(function(){e.stateService.state="closing_window",e.doStop()}))},FrontendApplication.prototype.revealShell=function(e){var t=this.getStartupIndicator(e);return t?new Promise((function(e){window.requestAnimationFrame((function(){t.classList.add("malagu-hidden");var n=window.getComputedStyle(t),r=d.parseCssTime(n.transitionDuration,0);window.setTimeout((function(){var n=t.parentElement;n&&n.removeChild(t),e()}),r)}))})):Promise.resolve()},FrontendApplication.prototype.doStart=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,l,f,d,p,h=this;return u(this,(function(y){switch(y.label){case 0:try{for(e=c(this.lifecycles),t=e.next();!t.done;t=e.next())if((a=t.value).initialize)try{a.initialize()}catch(e){this.logger.error("Could not initialize lifecycle",e)}}catch(e){l={error:e}}finally{try{t&&!t.done&&(f=e.return)&&f.call(e)}finally{if(l)throw l.error}}n=function(e){var t;return u(this,(function(n){switch(n.label){case 0:if(!e.onStart)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r.measure(e.constructor.name+".onStart",(function(){return e.onStart(h)}))];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),r.logger.error("Could not start lifecycle",t),[3,4];case 4:return[2]}}))},r=this,y.label=1;case 1:y.trys.push([1,6,7,8]),i=c(this.lifecycles),o=i.next(),y.label=2;case 2:return o.done?[3,5]:(a=o.value,[5,n(a)]);case 3:y.sent(),y.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return s=y.sent(),d={error:s},[3,8];case 7:try{o&&!o.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}return[7];case 8:return[2]}}))}))},FrontendApplication.prototype.measure=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,f;return u(this,(function(u){switch(u.label){case 0:return n=e+"-start",r=e+"-end",performance.mark(n),[4,t()];case 1:i=u.sent(),performance.mark(r),performance.measure(e,n,r);try{for(o=c(performance.getEntriesByName(e)),a=o.next();!a.done;a=o.next())(s=a.value).duration>100?console.warn(s.name+" is slow, took: "+s.duration+" ms"):console.debug(s.name+" took "+s.duration+" ms")}catch(e){l={error:e}}finally{try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(l)throw l.error}}return performance.clearMeasures(e),[2,i]}}))}))},o([p.Autowired(l.ApplicationShell),a("design:type",Object)],FrontendApplication.prototype,"_shell",void 0),o([p.Autowired(p.ApplicationStateService),a("design:type",f.FrontendApplicationStateService)],FrontendApplication.prototype,"stateService",void 0),FrontendApplication=o([p.Component(p.Application)],FrontendApplication)}(p.AbstractApplication);t.FrontendApplication=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(43),a=function(){function ApplicationShellImpl(){}return ApplicationShellImpl.prototype.attach=function(e){e.textContent="Hello, Malagu."},ApplicationShellImpl=r([i.Component(o.ApplicationShell)],ApplicationShellImpl)}();t.ApplicationShellImpl=a},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(86)),__export(n(34)),__export(n(35)),__export(n(87)),__export(n(88)),__export(n(89))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),function(e){function toPrioritizeable(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return e instanceof Array?[2,Promise.all(e.map((function(e){return toPrioritizeable(e,t)})))]:[4,e];case 1:return n=r.sent(),[4,t(n)];case 2:return[2,{priority:r.sent(),value:n}]}}))}))}function toPrioritizeableSync(e,t){return void 0===t&&(t=function(e){return e.priority}),e.map((function(e){return{value:e,priority:t(e)}}))}function isValid(e){return e.priority>0}function compare(e,t){return t.priority-e.priority}e.toPrioritizeable=toPrioritizeable,e.toPrioritizeableSync=toPrioritizeableSync,e.prioritizeAllSync=function prioritizeAllSync(e,t){return toPrioritizeableSync(e,t).filter(isValid).sort(compare)},e.prioritizeAll=function prioritizeAll(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,toPrioritizeable(e,t)];case 1:return[2,n.sent().filter(isValid).sort(compare)]}}))}))},e.isValid=isValid,e.compare=compare}(t.Prioritizeable||(t.Prioritizeable={}))},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(35);t.getOwnMetadata=function getOwnMetadata(e,t,n){for(var r=i([t],o.getSuperClasses(t)),a=[],s=0;s<r.length;s++){var u=r[r.length-s-1],c=void 0;if(c=n?Reflect.getOwnMetadata(e,u,n):Reflect.getOwnMetadata(e,u)){if(!Array.isArray(c))return c;a=i(a,c)}}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.Disposable=r.Disposable;var i=function(){function DisposableCollection(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.disposables=[],t.forEach((function(t){return e.push(t)}))}return DisposableCollection.prototype.dispose=function(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()},Object.defineProperty(DisposableCollection.prototype,"disposed",{get:function(){return 0===this.disposables.length},enumerable:!0,configurable:!0}),DisposableCollection.prototype.push=function(e){var t=this.disposables;return t.push(e),{dispose:function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},DisposableCollection}();t.DisposableCollection=i},function(e,t,n){"use strict";(function(e){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};function is(t,n){return!!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.indexOf(t)>=0)||void 0!==e&&e.platform===n}Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=is("Windows","win32"),t.isOSX=is("Mac","darwin"),t.cmd=function cmd(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return[t.isWindows?"cmd":e,t.isWindows?r(["/c",e],n):n]},function(e){var n;!function(e){e.Windows="Windows",e.Linux="Linux",e.OSX="OSX"}(n=e.Type||(e.Type={})),e.type=function type(){return t.isWindows?n.Windows:t.isOSX?n.OSX:n.Linux}}(t.OS||(t.OS={}))}).call(this,n(7))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.set=function set(e){r=e},e.provide=function provide(){if(!r)throw new Error("Container is not ready yet, the timing is incorrect.");return r}}(t.ContainerProvider||(t.ContainerProvider={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(15),u=function(e){function NoOpError(){return null!==e&&e.apply(this,arguments)||this}return i(NoOpError,e),NoOpError}(n(36).CustomError);t.autoBind=function autoBind(e){return new a.ContainerModule((function(t,n,r,i){(Reflect.getMetadata(s.METADATA_KEY.provide,Reflect)||[]).map((function(e){return function resolve(e,t,n){var r=Reflect.getOwnMetadata(s.METADATA_KEY.rebind,e.implementationType),i=Reflect.getOwnMetadata(s.METADATA_KEY.toService,e.implementationType);try{e.constraint((function(e){if(i&&i!==e)throw t(e).toService(i),new u;return r?n(e):t(e)}),e.implementationType)}catch(e){if(e instanceof u)return;throw e}}(e,t,i)})),Reflect.defineMetadata(s.METADATA_KEY.provide,[],Reflect),(Reflect.getMetadata(s.METADATA_KEY.constantValue,Reflect)||[]).map((function(e){return function resolveConstant(e,t,n){var r,i,a=Array.isArray(e.id)?e.id:[e.id],s=a.shift();e.rebind?n(s).toConstantValue(e.constantValue):t(s).toConstantValue(e.constantValue);try{for(var u=o(a),c=u.next();!c.done;c=u.next()){var l=c.value;t(l).toService(s)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}(e,t,i)})),Reflect.defineMetadata(s.METADATA_KEY.constantValue,[],Reflect),e&&e(t,n,r,i)}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=n(49),l=n(15),f=n(22);function getComponentOption(e){var t={};return u.is(e)?t=r({},e):e&&(t={id:e}),t}function doProxy(e,t){var n=this,r=new Proxy(t,{get:function(r,s,u){var c=r[s];return"function"==typeof c?function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return i(n,void 0,void 0,(function(){var n,i,l,d,p,h,y,g,v,_,m,b,w,T,S,A,O,E,x,M;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,18,,27]),n=e.container.getAll(f.MethodBeforeAdvice)||[],o.label=1;case 1:o.trys.push([1,6,7,8]),i=a(n),l=i.next(),o.label=2;case 2:return l.done?[3,5]:[4,l.value.before(s,u,t)];case 3:o.sent(),o.label=4;case 4:return l=i.next(),[3,2];case 5:return[3,8];case 6:return d=o.sent(),S={error:d},[3,8];case 7:try{l&&!l.done&&(A=i.return)&&A.call(i)}finally{if(S)throw S.error}return[7];case 8:return[4,c.apply(r,u)];case 9:p=o.sent(),h=e.container.getAll(f.AfterReturningAdvice)||[],o.label=10;case 10:o.trys.push([10,15,16,17]),y=a(h),g=y.next(),o.label=11;case 11:return g.done?[3,14]:[4,g.value.afterReturning(p,s,u,t)];case 12:o.sent(),o.label=13;case 13:return g=y.next(),[3,11];case 14:return[3,17];case 15:return v=o.sent(),O={error:v},[3,17];case 16:try{g&&!g.done&&(E=y.return)&&E.call(y)}finally{if(O)throw O.error}return[7];case 17:return[2,p];case 18:_=o.sent(),m=e.container.getAll(f.AfterThrowsAdvice)||[],o.label=19;case 19:o.trys.push([19,24,25,26]),b=a(m),w=b.next(),o.label=20;case 20:return w.done?[3,23]:[4,w.value.afterThrows(_,s,u,t)];case 21:o.sent(),o.label=22;case 22:return w=b.next(),[3,20];case 23:return[3,26];case 24:return T=o.sent(),x={error:T},[3,26];case 25:try{w&&!w.done&&(M=b.return)&&M.call(b)}finally{if(x)throw x.error}return[7];case 26:throw _;case 27:return[2]}}))}))}:c}});return r.target=t,t.proxyTarget=r,r}function applyComponentDecorator(e,t){var n,i,o,u={id:t,scope:s.Singleton,rebind:!1,proxy:!1},f=r(r({},u),e),d=Array.isArray(f.id)?f.id:f.id!==t?[f.id,t]:[f.id],p=d[0],h=c.fluentProvide(p);f.scope===s.Singleton?o=h.inSingletonScope():f.scope===s.Transient&&(o=h.inTransientScope()),f.proxy?o.onActivation(doProxy).done(!0)(t):o.done(!0)(t),d.shift(),d.length>0&&Reflect.defineMetadata(l.METADATA_KEY.toService,p,t);try{for(var y=a(d),g=y.next();!g.done;g=y.next()){var v=g.value;c.fluentProvide(v).done(!0)(t)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}if(f.rebind){Reflect.defineMetadata(l.METADATA_KEY.rebind,!0,t)}}!function(e){e[e.Request=0]="Request",e[e.Singleton=1]="Singleton",e[e.Transient=2]="Transient"}(s=t.Scope||(t.Scope={})),function(e){e.is=function is(e){return e&&(void 0!==e.id||void 0!==e.scope||void 0!==e.rebind||void 0!==e.proxy)}}(u=t.ComponentOption||(t.ComponentOption={})),t.Component=function(e){var t=getComponentOption(e);return function(e){applyComponentDecorator(t,e)}},t.getComponentOption=getComponentOption,t.applyComponentDecorator=applyComponentDecorator},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(37);t.default=function autoProvide(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(e){Object.keys(e).forEach((function(t){var n=e[t],o=i.default(n);r.decorate(o,n)}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95),i=n(20),o=n(21),a=n(96),s=n(16);t.default=function fluentProvide(e){var bindingWhenOnSyntax=function(t,n){return t(e).to(n)},t=new s.default((function(e,t){return bindingWhenOnSyntax(e,t)._binding}));return new r.default(new a.default((function(e,t){return bindingWhenOnSyntax(e,t)}),t),new i.default(bindingWhenOnSyntax,t),new o.default(bindingWhenOnSyntax,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ProvideInWhenOnSyntax(e,t,n){this._provideInSyntax=e,this._provideWhenSyntax=t,this._provideOnSyntax=n}return ProvideInWhenOnSyntax.prototype.when=function(e){return this._provideWhenSyntax.when(e)},ProvideInWhenOnSyntax.prototype.whenTargetNamed=function(e){return this._provideWhenSyntax.whenTargetNamed(e)},ProvideInWhenOnSyntax.prototype.whenTargetTagged=function(e,t){return this._provideWhenSyntax.whenTargetTagged(e,t)},ProvideInWhenOnSyntax.prototype.whenInjectedInto=function(e){return this._provideWhenSyntax.whenInjectedInto(e)},ProvideInWhenOnSyntax.prototype.whenParentNamed=function(e){return this._provideWhenSyntax.whenParentNamed(e)},ProvideInWhenOnSyntax.prototype.whenParentTagged=function(e,t){return this._provideWhenSyntax.whenParentTagged(e,t)},ProvideInWhenOnSyntax.prototype.whenAnyAncestorIs=function(e){return this._provideWhenSyntax.whenAnyAncestorIs(e)},ProvideInWhenOnSyntax.prototype.whenNoAncestorIs=function(e){return this._provideWhenSyntax.whenNoAncestorIs(e)},ProvideInWhenOnSyntax.prototype.whenAnyAncestorNamed=function(e){return this._provideWhenSyntax.whenAnyAncestorNamed(e)},ProvideInWhenOnSyntax.prototype.whenAnyAncestorTagged=function(e,t){return this._provideWhenSyntax.whenAnyAncestorTagged(e,t)},ProvideInWhenOnSyntax.prototype.whenNoAncestorNamed=function(e){return this._provideWhenSyntax.whenNoAncestorNamed(e)},ProvideInWhenOnSyntax.prototype.whenNoAncestorTagged=function(e,t){return this._provideWhenSyntax.whenNoAncestorTagged(e,t)},ProvideInWhenOnSyntax.prototype.whenAnyAncestorMatches=function(e){return this._provideWhenSyntax.whenAnyAncestorMatches(e)},ProvideInWhenOnSyntax.prototype.whenNoAncestorMatches=function(e){return this._provideWhenSyntax.whenNoAncestorMatches(e)},ProvideInWhenOnSyntax.prototype.onActivation=function(e){return this._provideOnSyntax.onActivation(e)},ProvideInWhenOnSyntax.prototype.inSingletonScope=function(){return this._provideInSyntax.inSingletonScope()},ProvideInWhenOnSyntax.prototype.inTransientScope=function(){return this._provideInSyntax.inTransientScope()},ProvideInWhenOnSyntax.prototype.done=function(e){return this._provideInSyntax.done(e)},ProvideInWhenOnSyntax}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97),i=n(20),o=n(21),a=n(16),s=function(){function ProvideInSyntax(e,t){this._bindingInSyntax=e,this._provideDoneSyntax=t}return ProvideInSyntax.prototype.inSingletonScope=function(){var e=this,bindingWhenOnSyntax=function(t,n){return e._bindingInSyntax(t,n).inSingletonScope()},t=new a.default(bindingWhenOnSyntax),n=new i.default(bindingWhenOnSyntax,t),s=new o.default(bindingWhenOnSyntax,t);return new r.default(n,s)},ProvideInSyntax.prototype.inTransientScope=function(){var e=this,bindingWhenOnSyntax=function(t,n){return e._bindingInSyntax(t,n).inTransientScope()},t=new a.default(bindingWhenOnSyntax),n=new i.default(bindingWhenOnSyntax,t),s=new o.default(bindingWhenOnSyntax,t);return new r.default(n,s)},ProvideInSyntax.prototype.done=function(e){return this._provideDoneSyntax.done(e)},ProvideInSyntax}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ProvideWhenOnSyntax(e,t){this._provideWhenSyntax=e,this._provideOnSyntax=t}return ProvideWhenOnSyntax.prototype.when=function(e){return this._provideWhenSyntax.when(e)},ProvideWhenOnSyntax.prototype.whenTargetNamed=function(e){return this._provideWhenSyntax.whenTargetNamed(e)},ProvideWhenOnSyntax.prototype.whenTargetTagged=function(e,t){return this._provideWhenSyntax.whenTargetTagged(e,t)},ProvideWhenOnSyntax.prototype.whenInjectedInto=function(e){return this._provideWhenSyntax.whenInjectedInto(e)},ProvideWhenOnSyntax.prototype.whenParentNamed=function(e){return this._provideWhenSyntax.whenParentNamed(e)},ProvideWhenOnSyntax.prototype.whenParentTagged=function(e,t){return this._provideWhenSyntax.whenParentTagged(e,t)},ProvideWhenOnSyntax.prototype.whenAnyAncestorIs=function(e){return this._provideWhenSyntax.whenAnyAncestorIs(e)},ProvideWhenOnSyntax.prototype.whenNoAncestorIs=function(e){return this._provideWhenSyntax.whenNoAncestorIs(e)},ProvideWhenOnSyntax.prototype.whenAnyAncestorNamed=function(e){return this._provideWhenSyntax.whenAnyAncestorNamed(e)},ProvideWhenOnSyntax.prototype.whenAnyAncestorTagged=function(e,t){return this._provideWhenSyntax.whenAnyAncestorTagged(e,t)},ProvideWhenOnSyntax.prototype.whenNoAncestorNamed=function(e){return this._provideWhenSyntax.whenNoAncestorNamed(e)},ProvideWhenOnSyntax.prototype.whenNoAncestorTagged=function(e,t){return this._provideWhenSyntax.whenNoAncestorTagged(e,t)},ProvideWhenOnSyntax.prototype.whenAnyAncestorMatches=function(e){return this._provideWhenSyntax.whenAnyAncestorMatches(e)},ProvideWhenOnSyntax.prototype.whenNoAncestorMatches=function(e){return this._provideWhenSyntax.whenNoAncestorMatches(e)},ProvideWhenOnSyntax.prototype.onActivation=function(e){return this._provideOnSyntax.onActivation(e)},ProvideWhenOnSyntax.prototype.done=function(e){return this._provideWhenSyntax.done(e)},ProvideWhenOnSyntax}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(2);t.default=function buildProviderModule(){return new i.ContainerModule((function(e,t){(Reflect.getMetadata(r.METADATA_KEY.provide,Reflect)||[]).map((function(t){return function resolve(e,t){return e.constraint(t,e.implementationType)}(t,e)}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.Optional=function(e,t,n){if(void 0===e)return r.optional();r.optional()(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);function applyConstantDecorator(e,t){var n=Reflect.getMetadata(r.METADATA_KEY.constantValue,Reflect)||[],i=[e].concat(n);Reflect.defineMetadata(r.METADATA_KEY.constantValue,i,Reflect)}t.Constant=function(e,t,n){return void 0===n&&(n=!1),function(r){applyConstantDecorator({id:e,constantValue:t,rebind:n},r)}},t.applyConstantDecorator=applyConstantDecorator},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(38)),__export(n(115))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOGGER_LEVEL="malagu.logger.level",t.Logger=Symbol("Logger")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ConsoleLogger(){}return ConsoleLogger.prototype.error=function(e){console.error(e)},ConsoleLogger.prototype.warn=function(e){console.warn(e)},ConsoleLogger.prototype.info=function(e){console.info(e)},ConsoleLogger.prototype.log=function(e){console.log(e)},ConsoleLogger.prototype.debug=function(e){console.debug(e)},ConsoleLogger}();t.ConsoleLogger=r},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new Timeout(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function onTimeout(){e._onTimeout&&e._onTimeout()}),t))},n(105),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(9))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){r=function(e){t.nextTick((function(){runIfPresent(e)}))}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function installReadyStateChangeImplementation(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){runIfPresent(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function installSetTimeoutImplementation(){r=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",onGlobalMessage=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&runIfPresent(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",onGlobalMessage,!1):e.attachEvent("onmessage",onGlobalMessage),r=function(n){e.postMessage(t+n,"*")}}(),u.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=clearImmediate}function clearImmediate(e){delete o[e]}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{!function run(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{clearImmediate(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(9),n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class ResponseError extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,ResponseError.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=ResponseError;class AbstractMessageType{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=AbstractMessageType;t.RequestType0=class RequestType0 extends AbstractMessageType{constructor(e){super(e,0),this._=void 0}};t.RequestType=class RequestType extends AbstractMessageType{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class RequestType1 extends AbstractMessageType{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class RequestType2 extends AbstractMessageType{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class RequestType3 extends AbstractMessageType{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class RequestType4 extends AbstractMessageType{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class RequestType5 extends AbstractMessageType{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class RequestType6 extends AbstractMessageType{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class RequestType7 extends AbstractMessageType{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class RequestType8 extends AbstractMessageType{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class RequestType9 extends AbstractMessageType{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class NotificationType extends AbstractMessageType{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class NotificationType0 extends AbstractMessageType{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class NotificationType1 extends AbstractMessageType{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class NotificationType2 extends AbstractMessageType{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class NotificationType3 extends AbstractMessageType{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class NotificationType4 extends AbstractMessageType{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class NotificationType5 extends AbstractMessageType{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class NotificationType6 extends AbstractMessageType{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class NotificationType7 extends AbstractMessageType{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class NotificationType8 extends AbstractMessageType{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class NotificationType9 extends AbstractMessageType{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function isRequestMessage(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function isNotificationMessage(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function isResponseMessage(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function toByteArray(e){var t,n,r=getLens(e),a=r[0],s=r[1],u=new o(function _byteLength(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function fromByteArray(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(encodeChunk(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function encodeChunk(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(12);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function is(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));class MutableToken{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class CancellationTokenSource{get token(){return this._token||(this._token=new MutableToken),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this._token?this._token instanceof MutableToken&&this._token.dispose():this._token=o.None}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));t.LinkedMap=class LinkedMap{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(47),i=n(113),o=n(25),a=n(25),s=n(23),u=n(24);t.generateRandomPipeName=function generateRandomPipeName(){const t=o.randomBytes(21).toString("hex");return"win32"===e.platform?`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`:r.join(i.tmpdir(),`vscode-${t}.sock`)},t.createClientPipeTransport=function createClientPipeTransport(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let c=a.createServer(e=>{c.close(),n([new s.SocketMessageReader(e,t),new u.SocketMessageWriter(e,t)])});c.on("error",o),c.listen(e,()=>{c.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function createServerPipeTransport(e,t="utf-8"){const n=a.createConnection(e);return[new s.SocketMessageReader(n,t),new u.SocketMessageWriter(n,t)]}}).call(this,n(7))},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(23),o=n(24);t.createClientSocketTransport=function createClientSocketTransport(e,t="utf-8"){let n,a=new Promise((e,t)=>{n=e});return new Promise((s,u)=>{let c=r.createServer(e=>{c.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});c.on("error",u),c.listen(e,"127.0.0.1",()=>{c.removeListener("error",u),s({onConnected:()=>a})})})},t.createServerSocketTransport=function createServerSocketTransport(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=[];e.declare=function declare(e,r){if(-1!==t.indexOf(e))throw new Error("An application error for '"+e+"' code is already declared");var i=Object.assign((function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return new n(e,r.apply(void 0,a(t)),i)}),{code:e,is:function(t){return t instanceof n&&t.code===e}});return i},e.is=function is(e){return e instanceof n},e.fromJson=function fromJson(e,t){return new n(e,t)};var n=function(e){function Impl(t,n,r){var i=e.call(this,n.message)||this;return i.code=t,i.data=n.data,Object.setPrototypeOf(i,Impl.prototype),n.stack?i.stack=n.stack:Error.captureStackTrace&&r&&Error.captureStackTrace(i,r),i}return i(Impl,e),Impl.prototype.toJson=function(){return{message:this.message,data:this.data,stack:this.stack}},Impl}(Error)}(t.ApplicationError||(t.ApplicationError={}))},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(22)),__export(n(117))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),s=n(22),u=function(){function NoOpMethodBeforeAdivice(){}return NoOpMethodBeforeAdivice.prototype.before=function(e,t,n){return i(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))},NoOpMethodBeforeAdivice=r([a.Component(s.MethodBeforeAdvice)],NoOpMethodBeforeAdivice)}();t.NoOpMethodBeforeAdivice=u;var c=function(){function NoOpAfterReturningAdvice(){}return NoOpAfterReturningAdvice.prototype.afterReturning=function(e,t,n,r){return i(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))},NoOpAfterReturningAdvice=r([a.Component(s.AfterReturningAdvice)],NoOpAfterReturningAdvice)}();t.NoOpAfterReturningAdvice=c;var l=function(){function NoOpAfterThrowsAdvice(){}return NoOpAfterThrowsAdvice.prototype.afterThrows=function(e,t,n,r){return i(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))},NoOpAfterThrowsAdvice=r([a.Component(s.AfterThrowsAdvice)],NoOpAfterThrowsAdvice)}();t.NoOpAfterThrowsAdvice=l},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(41)),__export(n(119))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(41),o=n(13),a=n(120),s=function(){function ConfigProviderImpl(){}return ConfigProviderImpl.prototype.get=function(e,t){return a.evalSync(e,{malagu:{session:{autoCommit:!0,maxAge:864e5,sessionIdKey:"malagu:sessionId",sessionKey:"malagu:session"},server:{path:"/",port:3e3,endpoint:"https://bff.5udou.cn"},mvc:{path:"/*",defaultViewName:"json"},rpc:{path:"api"},security:{enabled:!0,usernameKey:"email",passwordKey:"password"},"material-ui":{themeOptions:{palette:{primary:{contrastText:"#fff",main:"#119d55"}},typography:{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"'}}}},webpackHooks:["src/hooks/webpack"],initHooks:[],buildHooks:[],deployHooks:["src/hooks/deploy"],serveHooks:[],appTitle:"",entry:"@malagu/core/lib/common/application/application-entry",modules:["src/browser/module"]})||t},ConfigProviderImpl=r([o.Component(i.ConfigProvider)],ConfigProviderImpl)}();t.ConfigProviderImpl=s},function(e,t,n){const r=n(121),i=n(128).elements;class Jexl{constructor(){this.expr=this.expr.bind(this),this._grammar=Object.assign({},i),this._lexer=null,this._transforms={}}addBinaryOp(e,t,n){this._addGrammarElement(e,{type:"binaryOp",precedence:t,eval:n})}addUnaryOp(e,t){this._addGrammarElement(e,{type:"unaryOp",weight:1/0,eval:t})}addTransform(e,t){this._transforms[e]=t}addTransforms(e){for(let t in e)e.hasOwnProperty(t)&&(this._transforms[t]=e[t])}compile(e){return this.createExpression(e).compile()}createExpression(e){const t=this._getLang();return new r(t,e)}getTransform(e){return this._transforms[e]}eval(e,t={}){return this.createExpression(e).eval(t)}evalSync(e,t={}){return this.createExpression(e).evalSync(t)}expr(e,...t){const n=e.reduce((e,n,r)=>e+=n+(r<t.length?t[r]:""),"");return this.createExpression(n)}removeOp(e){!this._grammar[e]||"binaryOp"!==this._grammar[e].type&&"unaryOp"!==this._grammar[e].type||delete this._grammar[e]}_addGrammarElement(e,t){this._grammar[e]=t}_getLang(){return{grammar:this._grammar,transforms:this._transforms}}}e.exports=new Jexl,e.exports.Jexl=Jexl},function(e,t,n){const r=n(122),i=n(124),o=n(125),a=n(127);e.exports=class Expression{constructor(e,t){this._lang=e,this._lexer=new i(e.grammar),this._exprStr=t,this._ast=null}compile(){const e=new i(this._lang.grammar),t=new o(this._lang.grammar),n=e.tokenize(this._exprStr);return t.addTokens(n),this._ast=t.complete(),this}eval(e={}){return this._eval(e,Promise)}evalSync(e={}){const t=this._eval(e,a);if(t.error)throw t.error;return t.value}_eval(e,t){return t.resolve().then(()=>{const n=this._getAst();return new r(this._lang.grammar,this._lang.transforms,e,void 0,t).eval(n)})}_getAst(){return this._ast||this.compile(),this._ast}}},function(e,t,n){const r=n(123);class Evaluator{constructor(e,t,n,r,i=Promise){this._grammar=e,this._transforms=t||{},this._context=n||{},this._relContext=r||this._context,this.Promise=i}eval(e){return this.Promise.resolve().then(()=>r[e.type].call(this,e))}evalArray(e){return this.Promise.all(e.map(e=>this.eval(e)))}evalMap(e){const t=Object.keys(e),n={},r=t.map(t=>this.eval(e[t]));return this.Promise.all(r).then(e=>(e.forEach((e,r)=>{n[t[r]]=e}),n))}_filterRelative(e,t){const n=[];return Array.isArray(e)||(e=void 0===e?[]:[e]),e.forEach(e=>{const r=new Evaluator(this._grammar,this._transforms,this._context,e,this.Promise);n.push(r.eval(t))}),this.Promise.all(n).then(t=>{const n=[];return t.forEach((t,r)=>{t&&n.push(e[r])}),n})}_filterStatic(e,t){return this.eval(t).then(t=>"boolean"==typeof t?t?e:void 0:e[t])}}e.exports=Evaluator},function(e,t){t.ArrayLiteral=function(e){return this.evalArray(e.value)},t.BinaryExpression=function(e){return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then(t=>this._grammar[e.operator].eval(t[0],t[1]))},t.ConditionalExpression=function(e){return this.eval(e.test).then(t=>t?e.consequent?this.eval(e.consequent):t:this.eval(e.alternate))},t.FilterExpression=function(e){return this.eval(e.subject).then(t=>e.relative?this._filterRelative(t,e.expr):this._filterStatic(t,e.expr))},t.Identifier=function(e){return e.from?this.eval(e.from).then(t=>{if(null!=t)return Array.isArray(t)&&(t=t[0]),t[e.value]}):e.relative?this._relContext[e.value]:this._context[e.value]},t.Literal=function(e){return e.value},t.ObjectLiteral=function(e){return this.evalMap(e.value)},t.Transform=function(e){const t=this._transforms[e.name];if(!t)throw new Error(`Transform ${e.name} is not defined.`);return this.Promise.all([this.eval(e.subject),this.evalArray(e.args||[])]).then(e=>t.apply(null,[e[0]].concat(e[1])))},t.UnaryExpression=function(e){return this.eval(e.right).then(t=>this._grammar[e.operator].eval(t))}},function(e,t){const n=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,r=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,i=/\\\\/,o=/^\s*$/,a=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],s=["[a-zA-Z_\\$][a-zA-Z0-9_\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],u=["binaryOp","unaryOp","openParen","openBracket","question","colon"];e.exports=class Lexer{constructor(e){this._grammar=e}getElements(e){const t=this._getSplitRegex();return e.split(t).filter(e=>e)}getTokens(e){const t=[];let n=!1;for(let r=0;r<e.length;r++)this._isWhitespace(e[r])?t.length&&(t[t.length-1].raw+=e[r]):"-"===e[r]&&this._isNegative(t)?n=!0:(n&&(e[r]="-"+e[r],n=!1),t.push(this._createToken(e[r])));return n&&t.push(this._createToken("-")),t}tokenize(e){const t=this.getElements(e);return this.getTokens(t)}_createToken(e){const t={type:"literal",value:e,raw:e};if('"'===e[0]||"'"===e[0])t.value=this._unquote(e);else if(e.match(n))t.value=parseFloat(e);else if("true"===e||"false"===e)t.value="true"===e;else if(this._grammar[e])t.type=this._grammar[e].type;else{if(!e.match(r))throw new Error(`Invalid expression token: ${e}`);t.type="identifier"}return t}_escapeRegExp(e){return(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(r)&&(e="\\b"+e+"\\b"),e}_getSplitRegex(){if(!this._splitRegex){const e=Object.keys(this._grammar).sort((e,t)=>t.length-e.length).map(e=>this._escapeRegExp(e),this);this._splitRegex=new RegExp("("+[a.join("|"),e.join("|"),s.join("|")].join("|")+")")}return this._splitRegex}_isNegative(e){return!e.length||u.some(t=>t===e[e.length-1].type)}_isWhitespace(e){return!!e.match(o)}_unquote(e){const t=e[0],n=new RegExp("\\\\"+t,"g");return e.substr(1,e.length-2).replace(n,t).replace(i,"\\")}}},function(e,t,n){const r=n(42),i=n(126).states;class Parser{constructor(e,t,n){this._grammar=e,this._state="expectOperand",this._tree=null,this._exprStr=t||"",this._relative=!1,this._stopMap=n||{}}addToken(e){if("complete"===this._state)throw new Error("Cannot add a new token to a completed Parser");const t=i[this._state],n=this._exprStr;if(this._exprStr+=e.raw,t.subHandler){this._subParser||this._startSubExpression(n);const t=this._subParser.addToken(e);if(t){if(this._endSubExpression(),this._parentStop)return t;this._state=t}}else{if(!t.tokenTypes[e.type]){if(this._stopMap[e.type])return this._stopMap[e.type];throw new Error(`Token ${e.raw} (${e.type}) unexpected in expression: ${this._exprStr}`)}{const n=t.tokenTypes[e.type];let i=r[e.type];n.handler&&(i=n.handler),i&&i.call(this,e),n.toState&&(this._state=n.toState)}}return!1}addTokens(e){e.forEach(this.addToken,this)}complete(){if(this._cursor&&!i[this._state].completable)throw new Error(`Unexpected end of expression: ${this._exprStr}`);return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}isRelative(){return this._relative}_endSubExpression(){i[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}_placeAtCursor(e){this._cursor?(this._cursor.right=e,this._setParent(e,this._cursor)):this._tree=e,this._cursor=e}_placeBeforeCursor(e){this._cursor=this._cursor._parent,this._placeAtCursor(e)}_setParent(e,t){Object.defineProperty(e,"_parent",{value:t,writable:!0})}_startSubExpression(e){let t=i[this._state].endStates;t||(this._parentStop=!0,t=this._stopMap),this._subParser=new Parser(this._grammar,e,t)}}e.exports=Parser},function(e,t,n){const r=n(42);t.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:r.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:r.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:r.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:r.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:r.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postTransformArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:r.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:r.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:r.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:r.argVal,endStates:{comma:"argVal",closeParen:"postTransformArgs"}},objVal:{subHandler:r.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:r.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:r.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:r.ternaryEnd,completable:!0}}},function(e,t){class PromiseSync{constructor(e){e(this._resolve.bind(this),this._reject.bind(this))}catch(e){if(this.error)try{this._resolve(e(this.error))}catch(e){this._reject(e)}return this}then(e,t){if(!this.error)try{this._resolve(e(this.value))}catch(e){this._reject(e)}return t&&this.catch(t),this}_reject(e){this.value=void 0,this.error=e}_resolve(e){e instanceof PromiseSync?e.error?this._reject(e.error):this._resolve(e.value):(this.value=e,this.error=void 0)}}PromiseSync.all=e=>new PromiseSync(t=>{t(e.map(e=>{for(;e instanceof PromiseSync;){if(e.error)throw Error(e.error);e=e.value}return e}))}),PromiseSync.resolve=e=>new PromiseSync(t=>t(e)),PromiseSync.reject=e=>new PromiseSync((t,n)=>n(e)),e.exports=PromiseSync},function(e,t){t.elements={".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:(e,t)=>e+t},"-":{type:"binaryOp",precedence:30,eval:(e,t)=>e-t},"*":{type:"binaryOp",precedence:40,eval:(e,t)=>e*t},"/":{type:"binaryOp",precedence:40,eval:(e,t)=>e/t},"//":{type:"binaryOp",precedence:40,eval:(e,t)=>Math.floor(e/t)},"%":{type:"binaryOp",precedence:50,eval:(e,t)=>e%t},"^":{type:"binaryOp",precedence:50,eval:(e,t)=>Math.pow(e,t)},"==":{type:"binaryOp",precedence:20,eval:(e,t)=>e==t},"!=":{type:"binaryOp",precedence:20,eval:(e,t)=>e!=t},">":{type:"binaryOp",precedence:20,eval:(e,t)=>e>t},">=":{type:"binaryOp",precedence:20,eval:(e,t)=>e>=t},"<":{type:"binaryOp",precedence:20,eval:(e,t)=>e<t},"<=":{type:"binaryOp",precedence:20,eval:(e,t)=>e<=t},"&&":{type:"binaryOp",precedence:10,eval:(e,t)=>e&&t},"||":{type:"binaryOp",precedence:10,eval:(e,t)=>e||t},in:{type:"binaryOp",precedence:20,eval:(e,t)=>"string"==typeof t?-1!==t.indexOf(e):!!Array.isArray(t)&&t.some(t=>t===e)},"!":{type:"unaryOp",precedence:1/0,eval:e=>!e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(130))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function CustomError(){return null!==e&&e.apply(this,arguments)||this}return i(CustomError,e),CustomError}(n(36).CustomError);t.CustomError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(8);var r=n(132),i=n(8);!function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(26)),t.CoreFrontendModule=i.autoBind((function(e){e(i.Logger).toDynamicValue((function(e){var t=e.container.get(i.ConfigProvider).get(i.LOGGER_LEVEL,"ERROR"),n=r.getLogger("FrontendApplicationLogger");return n.setDefaultLevel(t),n})).inSingletonScope(),e(i.VALUE).toDynamicValue((function(e){var t=e.currentRequest.target.getNamedTag().value.toString();return e.container.get(i.ConfigProvider).get(t)}))}))},function(e,t,n){var r,i;!function(o,a){"use strict";void 0===(i="function"==typeof(r=function(){var noop=function(){},e="undefined"!=typeof window&&/Trident\/|MSIE /.test(window.navigator.userAgent),t=["trace","debug","info","warn","error"];function bindMethod(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function traceForIE(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function realMethod(t){return"debug"===t&&(t="log"),"undefined"!=typeof console&&("trace"===t&&e?traceForIE:void 0!==console[t]?bindMethod(console,t):void 0!==console.log?bindMethod(console,"log"):noop)}function replaceLoggingMethods(e,n){for(var r=0;r<t.length;r++){var i=t[r];this[i]=r<e?noop:this.methodFactory(i,e,n)}this.log=this.debug}function enableLoggingWhenConsoleArrives(e,t,n){return function(){"undefined"!=typeof console&&(replaceLoggingMethods.call(this,t,n),this[e].apply(this,arguments))}}function defaultMethodFactory(e,t,n){return realMethod(e)||enableLoggingWhenConsoleArrives.apply(this,arguments)}function Logger(e,n,r){var i,o=this,a="loglevel";function getPersistedLevel(){var e;if("undefined"!=typeof window){try{e=window.localStorage[a]}catch(e){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(a)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}e&&(a+=":"+e),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=r||defaultMethodFactory,o.getLevel=function(){return i},o.setLevel=function(n,r){if("string"==typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==r&&function persistLevelIfPossible(e){var n=(t[e]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[a]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(a)+"="+n+";"}catch(e){}}}(n),replaceLoggingMethods.call(o,n,e),"undefined"==typeof console&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){getPersistedLevel()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var s=getPersistedLevel();null==s&&(s=null==n?"WARN":n),o.setLevel(s,!1)}var n=new Logger,r={};n.getLogger=function getLogger(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=r[e];return t||(t=r[e]=new Logger(e,n.getLevel(),n.methodFactory)),t};var i="undefined"!=typeof window?window.log:void 0;return n.noConflict=function(){return"undefined"!=typeof window&&window.log===n&&(window.log=i),n},n.getLoggers=function getLoggers(){return r},n})?r.call(t,n,t,e):r)||(e.exports=i)}()}]);